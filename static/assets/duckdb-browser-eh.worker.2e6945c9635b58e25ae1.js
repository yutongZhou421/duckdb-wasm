/*! For license information please see duckdb-browser-eh.worker.2e6945c9635b58e25ae1.js.LICENSE.txt */
var duckdb=(()=>{var e,t=Object.create,r=Object.defineProperty,i=Object.defineProperties,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,l=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t,i)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,h=(e,t)=>{for(var r in t||(t={}))u.call(t,r)&&d(e,r,t[r]);if(o)for(var r of o(t))c.call(t,r)&&d(e,r,t[r]);return e},f=(e,t)=>i(e,s(t)),p=e=>r(e,"__esModule",{value:!0}),y=(e=function(e){if("undefined"!=typeof require)return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')},"undefined"!=typeof require?require:"undefined"!=typeof Proxy?new Proxy(e,{get:(e,t)=>("undefined"!=typeof require?require:e)[t]}):e),b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),_=(e,t,i,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))!u.call(e,o)&&(i||"default"!==o)&&r(e,o,{get:()=>t[o],enumerable:!(s=n(t,o))||s.enumerable});return e},m=(e,i)=>_(p(r(null!=e?t(l(e)):{},"default",!i&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),g=(e=>(t,r)=>e&&e.get(t)||(r=_(p({}),t,1),e&&e.set(t,r),r))("undefined"!=typeof WeakMap?new WeakMap:0),v=b(((e,t)=>{var r,i,n,s,a,o,l,u,c,d,h,f,p,y,b,_,m,g,v,w,I,B,T,S;!function(e){var r="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function i(e,t){return e!==r&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(r,i){return e[r]=t?t(r,i):i}}"function"==typeof define&&define.amd?define("tslib",["exports"],(function(t){e(i(r,i(t)))})):"object"==typeof t&&"object"==typeof t.exports?e(i(r,i(t.exports))):e(i(r))}((function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])};r=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)},i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},n=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r},s=function(e,t,r,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(s<3?n(a):s>3?n(t,r,a):n(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},a=function(e,t){return function(r,i){t(r,i,e)}},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function o(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){e.done?n(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(a,o)}l((i=i.apply(e,t||[])).next())}))},u=function(e,t){var r,i,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},c=function(e,t){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(t,r)&&S(t,e,r)},S=Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]},d=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a},f=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},p=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,n++)i[n]=s[a];return i},y=function(e,t,r){if(r||2===arguments.length)for(var i,n=0,s=t.length;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},b=function(e){return this instanceof b?(this.v=e,this):new b(e)},_=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){n[e]&&(i[e]=function(t){return new Promise((function(r,i){s.push([e,t,r,i])>1||o(e,t)}))})}function o(e,t){try{!function(e){e.value instanceof b?Promise.resolve(e.value.v).then(l,u):c(s[0][2],e)}(n[e](t))}catch(e){c(s[0][3],e)}}function l(e){o("next",e)}function u(e){o("throw",e)}function c(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}},m=function(e){var t,r;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,n){t[i]=e[i]?function(t){return(r=!r)?{value:b(e[i](t)),done:"return"===i}:n?n(t):t}:n}},g=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=d(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise((function(i,n){!function(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)}(i,n,(t=e[r](t)).done,t.value)}))}}},v=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&S(t,e,r);return A(t,e),t},I=function(e){return e&&e.__esModule?e:{default:e}},B=function(e,t,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)},T=function(e,t,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},e("__extends",r),e("__assign",i),e("__rest",n),e("__decorate",s),e("__param",a),e("__metadata",o),e("__awaiter",l),e("__generator",u),e("__exportStar",c),e("__createBinding",S),e("__values",d),e("__read",h),e("__spread",f),e("__spreadArrays",p),e("__spreadArray",y),e("__await",b),e("__asyncGenerator",_),e("__asyncDelegator",m),e("__asyncValues",g),e("__makeTemplateObject",v),e("__importStar",w),e("__importDefault",I),e("__classPrivateFieldGet",B),e("__classPrivateFieldSet",T)}))})),w=b((e=>{var t={};t.Offset,t.Table,t.SIZEOF_SHORT=2,t.SIZEOF_INT=4,t.FILE_IDENTIFIER_LENGTH=4,t.SIZE_PREFIX_LENGTH=4,t.Encoding={UTF8_BYTES:1,UTF16_STRING:2},t.int32=new Int32Array(2),t.float32=new Float32Array(t.int32.buffer),t.float64=new Float64Array(t.int32.buffer),t.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],t.Long=function(e,t){this.low=0|e,this.high=0|t},t.Long.create=function(e,r){return 0==e&&0==r?t.Long.ZERO:new t.Long(e,r)},t.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},t.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},t.Long.ZERO=new t.Long(0,0),t.Builder=function(e){if(e)var r=e;else r=1024;this.bb=t.ByteBuffer.allocate(r),this.space=r,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},t.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},t.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},t.Builder.prototype.dataBuffer=function(){return this.bb},t.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},t.Builder.prototype.prep=function(e,r){e>this.minalign&&(this.minalign=e);for(var i=1+~(this.bb.capacity()-this.space+r)&e-1;this.space<i+e+r;){var n=this.bb.capacity();this.bb=t.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-n}this.pad(i)},t.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},t.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},t.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},t.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},t.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},t.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},t.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},t.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},t.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},t.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},t.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},t.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},t.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},t.Builder.prototype.addFieldInt8=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt8(t),this.slot(e))},t.Builder.prototype.addFieldInt16=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt16(t),this.slot(e))},t.Builder.prototype.addFieldInt32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt32(t),this.slot(e))},t.Builder.prototype.addFieldInt64=function(e,t,r){(this.force_defaults||!t.equals(r))&&(this.addInt64(t),this.slot(e))},t.Builder.prototype.addFieldFloat32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat32(t),this.slot(e))},t.Builder.prototype.addFieldFloat64=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat64(t),this.slot(e))},t.Builder.prototype.addFieldOffset=function(e,t,r){(this.force_defaults||t!=r)&&(this.addOffset(t),this.slot(e))},t.Builder.prototype.addFieldStruct=function(e,t,r){t!=r&&(this.nested(t),this.slot(e))},t.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},t.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},t.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},t.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},t.Builder.growByteBuffer=function(e){var r=e.capacity();if(3221225472&r)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var i=r<<1,n=t.ByteBuffer.allocate(i);return n.setPosition(i-r),n.bytes().set(e.bytes(),i-r),n},t.Builder.prototype.addOffset=function(e){this.prep(t.SIZEOF_INT,0),this.writeInt32(this.offset()-e+t.SIZEOF_INT)},t.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},t.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),r=this.vtable_in_use-1;r>=0&&0==this.vtable[r];r--);for(var i=r+1;r>=0;r--)this.addInt16(0!=this.vtable[r]?e-this.vtable[r]:0);this.addInt16(e-this.object_start);var n=(i+2)*t.SIZEOF_SHORT;this.addInt16(n);var s=0,a=this.space;e:for(r=0;r<this.vtables.length;r++){var o=this.bb.capacity()-this.vtables[r];if(n==this.bb.readInt16(o)){for(var l=t.SIZEOF_SHORT;l<n;l+=t.SIZEOF_SHORT)if(this.bb.readInt16(a+l)!=this.bb.readInt16(o+l))continue e;s=this.vtables[r];break}}return s?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,s-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},t.Builder.prototype.finish=function(e,r,i){var n=i?t.SIZE_PREFIX_LENGTH:0;if(r){var s=r;if(this.prep(this.minalign,t.SIZEOF_INT+t.FILE_IDENTIFIER_LENGTH+n),s.length!=t.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+t.FILE_IDENTIFIER_LENGTH);for(var a=t.FILE_IDENTIFIER_LENGTH-1;a>=0;a--)this.writeInt8(s.charCodeAt(a))}this.prep(this.minalign,t.SIZEOF_INT+n),this.addOffset(e),n&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},t.Builder.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},t.Builder.prototype.requiredField=function(e,t){var r=this.bb.capacity()-e,i=r-this.bb.readInt32(r);if(0==this.bb.readInt16(i+t))throw new Error("FlatBuffers: field "+t+" must be set")},t.Builder.prototype.startVector=function(e,r,i){this.notNested(),this.vector_num_elems=r,this.prep(t.SIZEOF_INT,e*r),this.prep(i,e*r)},t.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},t.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var r=0;r<e.length;){var i,n=e.charCodeAt(r++);(i=n<55296||n>=56320?n:(n<<10)+e.charCodeAt(r++)+-56613888)<128?t.push(i):(i<2048?t.push(i>>6&31|192):(i<65536?t.push(i>>12&15|224):t.push(i>>18&7|240,i>>12&63|128),t.push(i>>6&63|128)),t.push(63&i|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),r=0;for(var s=this.space,a=this.bb.bytes();r<t.length;r++)a[s++]=t[r];return this.endVector()},t.Builder.prototype.createLong=function(e,r){return t.Long.create(e,r)},t.ByteBuffer=function(e){this.bytes_=e,this.position_=0},t.ByteBuffer.allocate=function(e){return new t.ByteBuffer(new Uint8Array(e))},t.ByteBuffer.prototype.clear=function(){this.position_=0},t.ByteBuffer.prototype.bytes=function(){return this.bytes_},t.ByteBuffer.prototype.position=function(){return this.position_},t.ByteBuffer.prototype.setPosition=function(e){this.position_=e},t.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},t.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},t.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},t.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},t.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},t.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},t.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},t.ByteBuffer.prototype.readInt64=function(e){return new t.Long(this.readInt32(e),this.readInt32(e+4))},t.ByteBuffer.prototype.readUint64=function(e){return new t.Long(this.readUint32(e),this.readUint32(e+4))},t.ByteBuffer.prototype.readFloat32=function(e){return t.int32[0]=this.readInt32(e),t.float32[0]},t.ByteBuffer.prototype.readFloat64=function(e){return t.int32[t.isLittleEndian?0:1]=this.readInt32(e),t.int32[t.isLittleEndian?1:0]=this.readInt32(e+4),t.float64[0]},t.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},t.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},t.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},t.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},t.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},t.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},t.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},t.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},t.ByteBuffer.prototype.writeFloat32=function(e,r){t.float32[0]=r,this.writeInt32(e,t.int32[0])},t.ByteBuffer.prototype.writeFloat64=function(e,r){t.float64[0]=r,this.writeInt32(e,t.int32[t.isLittleEndian?0:1]),this.writeInt32(e+4,t.int32[t.isLittleEndian?1:0])},t.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+t.SIZEOF_INT+t.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",r=0;r<t.FILE_IDENTIFIER_LENGTH;r++)e+=String.fromCharCode(this.readInt8(this.position_+t.SIZEOF_INT+r));return e},t.ByteBuffer.prototype.__offset=function(e,t){var r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0},t.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},t.ByteBuffer.prototype.__string=function(e,r){e+=this.readInt32(e);var i=this.readInt32(e),n="",s=0;if(e+=t.SIZEOF_INT,r===t.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+i);for(;s<i;){var a,o=this.readUint8(e+s++);if(o<192)a=o;else{var l=this.readUint8(e+s++);if(o<224)a=(31&o)<<6|63&l;else{var u=this.readUint8(e+s++);a=o<240?(15&o)<<12|(63&l)<<6|63&u:(7&o)<<18|(63&l)<<12|(63&u)<<6|63&this.readUint8(e+s++)}}a<65536?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296+(a>>10),56320+(1023&a)))}return n},t.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},t.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+t.SIZEOF_INT},t.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},t.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=t.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+t.FILE_IDENTIFIER_LENGTH);for(var r=0;r<t.FILE_IDENTIFIER_LENGTH;r++)if(e.charCodeAt(r)!=this.readInt8(this.position_+t.SIZEOF_INT+r))return!1;return!0},t.ByteBuffer.prototype.createLong=function(e,r){return t.Long.create(e,r)},e.flatbuffers=t})),I=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeUtf8=e.decodeUtf8=void 0;var t=new TextDecoder("utf-8");e.decodeUtf8=e=>t.decode(e);var r=new TextEncoder;e.encodeUtf8=e=>r.encode(e)})),B=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncQueue=e.ReadableInterop=e.ArrowJSON=e.ITERATOR_DONE=void 0;var t=v(),r=A();e.ITERATOR_DONE=Object.freeze({done:!0,value:void 0}),e.ArrowJSON=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}};var i=class{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}};e.ReadableInterop=i;var n=class extends i{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise((e=>this._closedPromiseResolve=e))}get closed(){return this._closedPromise}cancel(e){return t.__awaiter(this,void 0,void 0,(function*(){yield this.return(e)}))}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(e.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return r.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return r.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(r){return t.__awaiter(this,void 0,void 0,(function*(){return yield this.abort(r),e.ITERATOR_DONE}))}return(r){return t.__awaiter(this,void 0,void 0,(function*(){return yield this.close(),e.ITERATOR_DONE}))}read(e){return t.__awaiter(this,void 0,void 0,(function*(){return(yield this.next(e,"read")).value}))}peek(e){return t.__awaiter(this,void 0,void 0,(function*(){return(yield this.next(e,"peek")).value}))}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise(((e,t)=>{this.resolvers.push({resolve:e,reject:t})})):Promise.resolve(e.ITERATOR_DONE)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}};e.AsyncQueue=n})),T=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isReadableNodeStream=e.isWritableNodeStream=e.isReadableDOMStream=e.isWritableDOMStream=e.isFetchResponse=e.isFSReadStream=e.isFileHandle=e.isUnderlyingSink=e.isIteratorResult=e.isArrayLike=e.isArrowJSON=e.isAsyncIterable=e.isIterable=e.isObservable=e.isPromise=e.isObject=e.BigUint64ArrayAvailable=e.BigUint64Array=e.BigInt64ArrayAvailable=e.BigInt64Array=e.BigIntAvailable=e.BigInt=void 0;var t=B(),[r,i]=(()=>{let e=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=()=>{throw e()},t.asUintN=()=>{throw e()},"undefined"!=typeof BigInt?[BigInt,!0]:[t,!1]})();e.BigInt=r,e.BigIntAvailable=i;var[n,s]=(()=>{let e=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!=typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}},!1]})();e.BigInt64Array=n,e.BigInt64ArrayAvailable=s;var[a,o]=(()=>{let e=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!=typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}},!1]})();e.BigUint64Array=a,e.BigUint64ArrayAvailable=o;var l=e=>"number"==typeof e,u=e=>"boolean"==typeof e,c=e=>"function"==typeof e;e.isObject=e=>null!=e&&Object(e)===e,e.isPromise=t=>e.isObject(t)&&c(t.then),e.isObservable=t=>e.isObject(t)&&c(t.subscribe),e.isIterable=t=>e.isObject(t)&&c(t[Symbol.iterator]),e.isAsyncIterable=t=>e.isObject(t)&&c(t[Symbol.asyncIterator]),e.isArrowJSON=t=>e.isObject(t)&&e.isObject(t.schema),e.isArrayLike=t=>e.isObject(t)&&l(t.length),e.isIteratorResult=t=>e.isObject(t)&&"done"in t&&"value"in t,e.isUnderlyingSink=t=>e.isObject(t)&&c(t.abort)&&c(t.close)&&c(t.start)&&c(t.write),e.isFileHandle=t=>e.isObject(t)&&c(t.stat)&&l(t.fd),e.isFSReadStream=t=>e.isReadableNodeStream(t)&&l(t.bytesRead),e.isFetchResponse=t=>e.isObject(t)&&e.isReadableDOMStream(t.body),e.isWritableDOMStream=r=>e.isObject(r)&&c(r.abort)&&c(r.getWriter)&&!(r instanceof t.ReadableInterop),e.isReadableDOMStream=r=>e.isObject(r)&&c(r.cancel)&&c(r.getReader)&&!(r instanceof t.ReadableInterop),e.isWritableNodeStream=r=>e.isObject(r)&&c(r.end)&&c(r.write)&&u(r.writable)&&!(r instanceof t.ReadableInterop),e.isReadableNodeStream=r=>e.isObject(r)&&c(r.read)&&c(r.pipe)&&u(r.readable)&&!(r instanceof t.ReadableInterop)})),S=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareArrayLike=e.rebaseValueOffsets=e.toUint8ClampedArrayAsyncIterator=e.toFloat64ArrayAsyncIterator=e.toFloat32ArrayAsyncIterator=e.toUint32ArrayAsyncIterator=e.toUint16ArrayAsyncIterator=e.toUint8ArrayAsyncIterator=e.toInt32ArrayAsyncIterator=e.toInt16ArrayAsyncIterator=e.toInt8ArrayAsyncIterator=e.toArrayBufferViewAsyncIterator=e.toUint8ClampedArrayIterator=e.toFloat64ArrayIterator=e.toFloat32ArrayIterator=e.toUint32ArrayIterator=e.toUint16ArrayIterator=e.toUint8ArrayIterator=e.toInt32ArrayIterator=e.toInt16ArrayIterator=e.toInt8ArrayIterator=e.toArrayBufferViewIterator=e.toUint8ClampedArray=e.toFloat64Array=e.toFloat32Array=e.toBigUint64Array=e.toUint32Array=e.toUint16Array=e.toUint8Array=e.toBigInt64Array=e.toInt32Array=e.toInt16Array=e.toInt8Array=e.toArrayBufferView=e.joinUint8Arrays=e.memcpy=void 0;var t=v(),r=w(),i=I(),n=r.flatbuffers.ByteBuffer,s=T(),a="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function o(e,t,r=0,i=t.byteLength){let n=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,n),a=new Uint8Array(t.buffer,t.byteOffset,Math.min(i,n));return s.set(a,r),e}function l(e,t){let r=s.isIteratorResult(t)?t.value:t;return r instanceof e?e===Uint8Array?new e(r.buffer,r.byteOffset,r.byteLength):r:r?("string"==typeof r&&(r=i.encodeUtf8(r)),r instanceof ArrayBuffer||r instanceof a?new e(r):r instanceof n?l(e,r.bytes()):ArrayBuffer.isView(r)?r.byteLength<=0?new e(0):new e(r.buffer,r.byteOffset,r.byteLength/e.BYTES_PER_ELEMENT):e.from(r)):new e(0)}e.memcpy=o,e.joinUint8Arrays=function(e,t){let r,i,n,s=function(e){let t,r,i,n,s=e[0]?[e[0]]:[];for(let a,o,l=0,u=0,c=e.length;++l<c;)a=s[u],o=e[l],!a||!o||a.buffer!==o.buffer||o.byteOffset<a.byteOffset?o&&(s[++u]=o):(({byteOffset:t,byteLength:i}=a),({byteOffset:r,byteLength:n}=o),t+i<r||r+n<t?o&&(s[++u]=o):s[u]=new Uint8Array(a.buffer,t,r-t+n));return s}(e),a=s.reduce(((e,t)=>e+t.byteLength),0),l=0,u=-1,c=Math.min(t||1/0,a);for(let e=s.length;++u<e;){if(r=s[u],i=r.subarray(0,Math.min(r.length,c-l)),c<=l+i.length){i.length<r.length?s[u]=r.subarray(i.length):i.length===r.length&&u++,n?o(n,i,l):n=i;break}o(n||(n=new Uint8Array(c)),i,l),l+=i.length}return[n||new Uint8Array(0),s.slice(u),a-(n?n.byteLength:0)]},e.toArrayBufferView=l,e.toInt8Array=e=>l(Int8Array,e),e.toInt16Array=e=>l(Int16Array,e),e.toInt32Array=e=>l(Int32Array,e),e.toBigInt64Array=e=>l(s.BigInt64Array,e),e.toUint8Array=e=>l(Uint8Array,e),e.toUint16Array=e=>l(Uint16Array,e),e.toUint32Array=e=>l(Uint32Array,e),e.toBigUint64Array=e=>l(s.BigUint64Array,e),e.toFloat32Array=e=>l(Float32Array,e),e.toFloat64Array=e=>l(Float64Array,e),e.toUint8ClampedArray=e=>l(Uint8ClampedArray,e);var u=e=>(e.next(),e);function*c(e,t){let r=function*(e){yield e},i="string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof a?r(t):s.isIterable(t)?t:r(t);return yield*u(function*(t){let r=null;do{r=t.next(yield l(e,r))}while(!r.done)}(i[Symbol.iterator]())),new e}function d(e,r){return t.__asyncGenerator(this,arguments,(function*(){if(s.isPromise(r))return yield t.__await(yield t.__await(yield*t.__asyncDelegator(t.__asyncValues(d(e,yield t.__await(r))))));let i=function(e){return t.__asyncGenerator(this,arguments,(function*(){yield yield t.__await(yield t.__await(e))}))},n="string"==typeof r||ArrayBuffer.isView(r)||r instanceof ArrayBuffer||r instanceof a?i(r):s.isIterable(r)?function(e){return t.__asyncGenerator(this,arguments,(function*(){yield t.__await(yield*t.__asyncDelegator(t.__asyncValues(u(function*(e){let t=null;do{t=e.next(yield null==t?void 0:t.value)}while(!t.done)}(e[Symbol.iterator]())))))}))}(r):s.isAsyncIterable(r)?r:i(r);return yield t.__await(yield*t.__asyncDelegator(t.__asyncValues(u(function(r){return t.__asyncGenerator(this,arguments,(function*(){let i=null;do{i=yield t.__await(r.next(yield yield t.__await(l(e,i))))}while(!i.done)}))}(n[Symbol.asyncIterator]()))))),yield t.__await(new e)}))}e.toArrayBufferViewIterator=c,e.toInt8ArrayIterator=e=>c(Int8Array,e),e.toInt16ArrayIterator=e=>c(Int16Array,e),e.toInt32ArrayIterator=e=>c(Int32Array,e),e.toUint8ArrayIterator=e=>c(Uint8Array,e),e.toUint16ArrayIterator=e=>c(Uint16Array,e),e.toUint32ArrayIterator=e=>c(Uint32Array,e),e.toFloat32ArrayIterator=e=>c(Float32Array,e),e.toFloat64ArrayIterator=e=>c(Float64Array,e),e.toUint8ClampedArrayIterator=e=>c(Uint8ClampedArray,e),e.toArrayBufferViewAsyncIterator=d,e.toInt8ArrayAsyncIterator=e=>d(Int8Array,e),e.toInt16ArrayAsyncIterator=e=>d(Int16Array,e),e.toInt32ArrayAsyncIterator=e=>d(Int32Array,e),e.toUint8ArrayAsyncIterator=e=>d(Uint8Array,e),e.toUint16ArrayAsyncIterator=e=>d(Uint16Array,e),e.toUint32ArrayAsyncIterator=e=>d(Uint32Array,e),e.toFloat32ArrayAsyncIterator=e=>d(Float32Array,e),e.toFloat64ArrayAsyncIterator=e=>d(Float64Array,e),e.toUint8ClampedArrayAsyncIterator=e=>d(Uint8ClampedArray,e),e.rebaseValueOffsets=function(e,t,r){if(0!==e){r=r.slice(0,t+1);for(let i=-1;++i<=t;)r[i]+=e}return r},e.compareArrayLike=function(e,t){let r=0,i=e.length;if(i!==t.length)return!1;if(i>0)do{if(e[r]!==t[r])return!1}while(++r<i);return!0}})),A=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=v(),r=S();e.default={fromIterable:e=>i(function*(e){let t,i,n,s,a=!1,o=[],l=0;({cmd:n,size:s}=yield null);let u=r.toUint8ArrayIterator(e)[Symbol.iterator]();try{do{if(({done:t,value:i}=isNaN(s-l)?u.next(void 0):u.next(s-l)),!t&&i.byteLength>0&&(o.push(i),l+=i.byteLength),t||s<=l)do{({cmd:n,size:s}=yield"peek"===n?r.joinUint8Arrays(o,s)[0]:([i,o,l]=r.joinUint8Arrays(o,s),i))}while(s<l)}while(!t)}catch(e){(a=!0)&&"function"==typeof u.throw&&u.throw(e)}finally{!1===a&&"function"==typeof u.return&&u.return(null)}return null}(e)),fromAsyncIterable:e=>i(function(e){return t.__asyncGenerator(this,arguments,(function*(){let i,n,s,a,o=!1,l=[],u=0;({cmd:s,size:a}=yield yield t.__await(null));let c=r.toUint8ArrayAsyncIterator(e)[Symbol.asyncIterator]();try{do{if(({done:i,value:n}=isNaN(a-u)?yield t.__await(c.next(void 0)):yield t.__await(c.next(a-u))),!i&&n.byteLength>0&&(l.push(n),u+=n.byteLength),i||a<=u)do{({cmd:s,size:a}=yield yield t.__await("peek"===s?r.joinUint8Arrays(l,a)[0]:([n,l,u]=r.joinUint8Arrays(l,a),n)))}while(a<u)}while(!i)}catch(e){(o=!0)&&"function"==typeof c.throw&&(yield t.__await(c.throw(e)))}finally{!1===o&&"function"==typeof c.return&&(yield t.__await(c.return(new Uint8Array(0))))}return yield t.__await(null)}))}(e)),fromDOMStream:e=>i(function(e){return t.__asyncGenerator(this,arguments,(function*(){let i,s,a,o=!1,l=!1,u=[],c=0;({cmd:s,size:a}=yield yield t.__await(null));let d=new n(e);try{do{if(({done:o,value:i}=isNaN(a-c)?yield t.__await(d.read(void 0)):yield t.__await(d.read(a-c))),!o&&i.byteLength>0&&(u.push(r.toUint8Array(i)),c+=i.byteLength),o||a<=c)do{({cmd:s,size:a}=yield yield t.__await("peek"===s?r.joinUint8Arrays(u,a)[0]:([i,u,c]=r.joinUint8Arrays(u,a),i)))}while(a<c)}while(!o)}catch(e){(l=!0)&&(yield t.__await(d.cancel(e)))}finally{!1===l?yield t.__await(d.cancel()):e.locked&&d.releaseLock()}return yield t.__await(null)}))}(e)),fromNodeStream:e=>i(function(e){return t.__asyncGenerator(this,arguments,(function*(){let i,n,s,o=[],l="error",u=!1,c=null,d=0,h=[];if(({cmd:i,size:n}=yield yield t.__await(null)),e.isTTY)return yield yield t.__await(new Uint8Array(0)),yield t.__await(null);try{o[0]=a(e,"end"),o[1]=a(e,"error");do{if(o[2]=a(e,"readable"),[l,c]=yield t.__await(Promise.race(o.map((e=>e[2])))),"error"===l)break;if((u="end"===l)||(isFinite(n-d)?(s=r.toUint8Array(e.read(n-d)),s.byteLength<n-d&&(s=r.toUint8Array(e.read(void 0)))):s=r.toUint8Array(e.read(void 0)),s.byteLength>0&&(h.push(s),d+=s.byteLength)),u||n<=d)do{({cmd:i,size:n}=yield yield t.__await("peek"===i?r.joinUint8Arrays(h,n)[0]:([s,h,d]=r.joinUint8Arrays(h,n),s)))}while(n<d)}while(!u)}finally{yield t.__await((f=o,p="error"===l?c:null,s=h=null,new Promise(((t,r)=>{for(let[t,r]of f)e.off(t,r);try{let i=e.destroy;i&&i.call(e,p),p=void 0}catch(e){p=e||p}finally{null!=p?r(p):t()}}))))}var f,p;return yield t.__await(null)}))}(e)),toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}};var i=e=>(e.next(),e),n=class{constructor(e){this.source=e,this.byobReader=null,this.defaultReader=null;try{this.supportsBYOB=!!(this.reader=this.getBYOBReader())}catch(e){this.supportsBYOB=!(this.reader=this.getDefaultReader())}}get closed(){return this.reader?this.reader.closed.catch((()=>{})):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=this.byobReader=this.defaultReader=null}cancel(e){return t.__awaiter(this,void 0,void 0,(function*(){let{reader:t,source:r}=this;t&&(yield t.cancel(e).catch((()=>{}))),r&&r.locked&&this.releaseLock()}))}read(e){return t.__awaiter(this,void 0,void 0,(function*(){if(0===e)return{done:null==this.reader,value:new Uint8Array(0)};let t=this.supportsBYOB&&"number"==typeof e?yield this.readFromBYOBReader(e):yield this.getDefaultReader().read();return!t.done&&(t.value=r.toUint8Array(t)),t}))}getDefaultReader(){return this.byobReader&&this.releaseLock(),this.defaultReader||(this.defaultReader=this.source.getReader(),this.defaultReader.closed.catch((()=>{}))),this.reader=this.defaultReader}getBYOBReader(){return this.defaultReader&&this.releaseLock(),this.byobReader||(this.byobReader=this.source.getReader({mode:"byob"}),this.byobReader.closed.catch((()=>{}))),this.reader=this.byobReader}readFromBYOBReader(e){return t.__awaiter(this,void 0,void 0,(function*(){return yield s(this.getBYOBReader(),new ArrayBuffer(e),0,e)}))}};function s(e,r,i,n){return t.__awaiter(this,void 0,void 0,(function*(){if(i>=n)return{done:!1,value:new Uint8Array(r,0,n)};let{done:t,value:a}=yield e.read(new Uint8Array(r,i,n-i));return(i+=a.byteLength)<n&&!t?yield s(e,a.buffer,i,n):{done:t,value:new Uint8Array(a.buffer,0,i)}}))}var a=(e,t)=>{let r,i=e=>r([t,e]);return[t,i,new Promise((n=>(r=n)&&e.once(t,i)))]}})),O=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vector=e.AbstractVector=void 0;var t=class{};e.AbstractVector=t,e.Vector=t,t.prototype.data=null})),D=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Schema=e.Buffer=e.Field=e.DictionaryEncoding=e.KeyValue=e.Duration=e.Interval=e.Timestamp=e.Time=e.Date=e.Decimal=e.Bool=e.FixedSizeBinary=e.LargeBinary=e.LargeUtf8=e.Binary=e.Utf8=e.FloatingPoint=e.Int=e.Union=e.Map=e.FixedSizeList=e.LargeList=e.List=e.Struct_=e.Null=e.Endianness=e.DictionaryKind=e.Type=e.IntervalUnit=e.TimeUnit=e.DateUnit=e.Precision=e.UnionMode=e.Feature=e.MetadataVersion=void 0;var t,r,i,n,s,a,o,l,u=w();!function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"}(e.MetadataVersion||(e.MetadataVersion={})),function(e){e[e.UNUSED=0]="UNUSED",e[e.DICTIONARY_REPLACEMENT=1]="DICTIONARY_REPLACEMENT",e[e.COMPRESSED_BODY=2]="COMPRESSED_BODY"}(e.Feature||(e.Feature={})),function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"}(t=e.UnionMode||(e.UnionMode={})),function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"}(r=e.Precision||(e.Precision={})),function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"}(i=e.DateUnit||(e.DateUnit={})),function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"}(n=e.TimeUnit||(e.TimeUnit={})),function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME"}(s=e.IntervalUnit||(e.IntervalUnit={})),function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"}(a=e.Type||(e.Type={})),function(e){e[e.DenseArray=0]="DenseArray"}(o=e.DictionaryKind||(e.DictionaryKind={})),function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"}(l=e.Endianness||(e.Endianness={}));var c=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,t){return(t||new c).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new c).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return c.startNull(e),c.endNull(e)}};e.Null=c;var d=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,t){return(t||new d).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new d).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return d.startStruct_(e),d.endStruct_(e)}};e.Struct_=d;var h=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,t){return(t||new h).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new h).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return h.startList(e),h.endList(e)}};e.List=h;var f=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeList(e,t){return(t||new f).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeList(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new f).__init(e.readInt32(e.position())+e.position(),e)}static startLargeList(e){e.startObject(0)}static endLargeList(e){return e.endObject()}static createLargeList(e){return f.startLargeList(e),f.endLargeList(e)}};e.LargeList=f;var p=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,t){return(t||new p).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new p).__init(e.readInt32(e.position())+e.position(),e)}listSize(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,t){return p.startFixedSizeList(e),p.addListSize(e,t),p.endFixedSizeList(e)}};e.FixedSizeList=p;var y=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,t){return(t||new y).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new y).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){let e=this.bb.__offset(this.bb_pos,4);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,t){return y.startMap(e),y.addKeysSorted(e,t),y.endMap(e)}};e.Map=y;var b=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new b).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new b).__init(e.readInt32(e.position())+e.position(),e)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.Sparse}typeIds(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0}typeIdsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,r){e.addFieldInt16(0,r,t.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,r){return b.startUnion(e),b.addMode(e,t),b.addTypeIds(e,r),b.endUnion(e)}};e.Union=b;var _=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,t){return(t||new _).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new _).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){let e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,t,r){return _.startInt(e),_.addBitWidth(e,t),_.addIsSigned(e,r),_.endInt(e)}};e.Int=_;var m=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new m).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new m).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):r.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,t){e.addFieldInt16(0,t,r.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return m.startFloatingPoint(e),m.addPrecision(e,t),m.endFloatingPoint(e)}};e.FloatingPoint=m;var g=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,t){return(t||new g).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new g).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return g.startUtf8(e),g.endUtf8(e)}};e.Utf8=g;var v=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,t){return(t||new v).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new v).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return v.startBinary(e),v.endBinary(e)}};e.Binary=v;var I=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeUtf8(e,t){return(t||new I).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new I).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return I.startLargeUtf8(e),I.endLargeUtf8(e)}};e.LargeUtf8=I;var B=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeBinary(e,t){return(t||new B).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new B).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return B.startLargeBinary(e),B.endLargeBinary(e)}};e.LargeBinary=B;var T=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,t){return(t||new T).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new T).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,t){return T.startFixedSizeBinary(e),T.addByteWidth(e,t),T.endFixedSizeBinary(e)}};e.FixedSizeBinary=T;var S=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,t){return(t||new S).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new S).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return S.startBool(e),S.endBool(e)}};e.Bool=S;var A=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,t){return(t||new A).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new A).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static addBitWidth(e,t){e.addFieldInt32(2,t,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,t,r,i){return A.startDecimal(e),A.addPrecision(e,t),A.addScale(e,r),A.addBitWidth(e,i),A.endDecimal(e)}};e.Decimal=A;var O=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new O).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new O).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):i.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,i.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return O.startDate(e),O.addUnit(e,t),O.endDate(e)}};e.Date=O;var D=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new D).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new D).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):n.MILLISECOND}bitWidth(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,n.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,r){return D.startTime(e),D.addUnit(e,t),D.addBitWidth(e,r),D.endTime(e)}};e.Time=D;var F=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new F).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new F).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):n.SECOND}timezone(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,n.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,r){return F.startTimestamp(e),F.addUnit(e,t),F.addTimezone(e,r),F.endTimestamp(e)}};e.Timestamp=F;var M=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new M).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new M).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):s.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,s.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return M.startInterval(e),M.addUnit(e,t),M.endInterval(e)}};e.Interval=M;var U=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDuration(e,t){return(t||new U).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new U).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):n.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,n.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,t){return U.startDuration(e),U.addUnit(e,t),U.endDuration(e)}};e.Duration=U;var V=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,t){return(t||new V).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new V).__init(e.readInt32(e.position())+e.position(),e)}key(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,t,r){return V.startKeyValue(e),V.addKey(e,t),V.addValue(e,r),V.endKeyValue(e)}};e.KeyValue=V;var P=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new P).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new P).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new _).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isOrdered(){let e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}dictionaryKind(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):o.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static addDictionaryKind(e,t){e.addFieldInt16(3,t,o.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}static createDictionaryEncoding(e,t,r,i,n){return P.startDictionaryEncoding(e),P.addId(e,t),P.addIndexType(e,r),P.addIsOrdered(e,i),P.addDictionaryKind(e,n),P.endDictionaryEncoding(e)}};e.DictionaryEncoding=P;var E=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new E).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new E).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){let e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):a.NONE}type(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new P).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}children(e,t){let r=this.bb.__offset(this.bb_pos,14);return r?(t||new E).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}childrenLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,16);return r?(t||new V).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(e,t){e.addFieldInt8(2,t,a.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}static createField(e,t,r,i,n,s,a,o){return E.startField(e),E.addName(e,t),E.addNullable(e,r),E.addTypeType(e,i),E.addType(e,n),E.addDictionary(e,s),E.addChildren(e,a),E.addCustomMetadata(e,o),E.endField(e)}};e.Field=E,e.Buffer=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static createBuffer(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};var R=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new R).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new R).__init(e.readInt32(e.position())+e.position(),e)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):l.Little}fields(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new E).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}fieldsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new V).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}featuresLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,t){e.addFieldInt16(0,t,l.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static addFeatures(e,t){e.addFieldOffset(3,t,0)}static createFeaturesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startFeaturesVector(e,t){e.startVector(8,t,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static finishSizePrefixedSchemaBuffer(e,t){e.finish(t,void 0,!0)}static createSchema(e,t,r,i,n){return R.startSchema(e),R.addEndianness(e,t),R.addFields(e,r),R.addCustomMetadata(e,i),R.addFeatures(e,n),R.endSchema(e)}};e.Schema=R})),F=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Message=e.DictionaryBatch=e.RecordBatch=e.BodyCompression=e.FieldNode=e.MessageHeader=e.BodyCompressionMethod=e.CompressionType=void 0;var t,r,i,n=w(),s=D();!function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"}(t=e.CompressionType||(e.CompressionType={})),function(e){e[e.BUFFER=0]="BUFFER"}(r=e.BodyCompressionMethod||(e.BodyCompressionMethod={})),function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"}(i=e.MessageHeader||(e.MessageHeader={}));var a=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static createFieldNode(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};e.FieldNode=a;var o=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBodyCompression(e,t){return(t||new o).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new o).__init(e.readInt32(e.position())+e.position(),e)}codec(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):t.LZ4_FRAME}method(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):r.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,r){e.addFieldInt8(0,r,t.LZ4_FRAME)}static addMethod(e,t){e.addFieldInt8(1,t,r.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,t,r){return o.startBodyCompression(e),o.addCodec(e,t),o.addMethod(e,r),o.endBodyCompression(e)}};e.BodyCompression=o;var l=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new l).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new l).__init(e.readInt32(e.position())+e.position(),e)}length(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new a).__init(this.bb.__vector(this.bb_pos+r)+16*e,this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new s.Buffer).__init(this.bb.__vector(this.bb_pos+r)+16*e,this.bb):null}buffersLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new o).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static addCompression(e,t){e.addFieldOffset(3,t,0)}static endRecordBatch(e){return e.endObject()}static createRecordBatch(e,t,r,i,n){return l.startRecordBatch(e),l.addLength(e,t),l.addNodes(e,r),l.addBuffers(e,i),l.addCompression(e,n),l.endRecordBatch(e)}};e.RecordBatch=l;var u=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new u).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new u).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new l).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isDelta(){let e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}static createDictionaryBatch(e,t,r,i){return u.startDictionaryBatch(e),u.addId(e,t),u.addData(e,r),u.addIsDelta(e,i),u.endDictionaryBatch(e)}};e.DictionaryBatch=u;var c=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new c).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new c).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):s.MetadataVersion.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):i.NONE}header(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new s.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,s.MetadataVersion.V1)}static addHeaderType(e,t){e.addFieldInt8(1,t,i.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static finishSizePrefixedMessageBuffer(e,t){e.finish(t,void 0,!0)}static createMessage(e,t,r,i,n,s){return c.startMessage(e),c.addVersion(e,t),c.addHeaderType(e,r),c.addHeader(e,i),c.addBodyLength(e,n),c.addCustomMetadata(e,s),c.endMessage(e)}};e.Message=c})),M=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BufferType=e.Type=e.MessageHeader=e.MetadataVersion=e.IntervalUnit=e.UnionMode=e.Precision=e.TimeUnit=e.DateUnit=void 0;var t=D();Object.defineProperty(e,"DateUnit",{enumerable:!0,get:function(){return t.DateUnit}}),Object.defineProperty(e,"TimeUnit",{enumerable:!0,get:function(){return t.TimeUnit}}),Object.defineProperty(e,"Precision",{enumerable:!0,get:function(){return t.Precision}}),Object.defineProperty(e,"UnionMode",{enumerable:!0,get:function(){return t.UnionMode}}),Object.defineProperty(e,"IntervalUnit",{enumerable:!0,get:function(){return t.IntervalUnit}}),Object.defineProperty(e,"MetadataVersion",{enumerable:!0,get:function(){return t.MetadataVersion}});var r=F();Object.defineProperty(e,"MessageHeader",{enumerable:!0,get:function(){return r.MessageHeader}}),function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"}(e.Type||(e.Type={})),function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"}(e.BufferType||(e.BufferType={}))})),U=b((e=>{"use strict";function t(e,t,r,i){return 0!=(r&1<<i)}function r(e,t,r,i){return(r&1<<i)>>i}function i(e){let t=[],r=0,i=0,n=0;for(let s of e)s&&(n|=1<<i),8==++i&&(t[r++]=n,n=i=0);(0===r||i>0)&&(t[r++]=n);let s=new Uint8Array(t.length+7&-8);return s.set(t),s}Object.defineProperty(e,"__esModule",{value:!0}),e.popcnt_uint32=e.popcnt_array=e.popcnt_bit_range=e.BitIterator=e.packBools=e.truncateBitmap=e.setBool=e.getBit=e.getBool=void 0,e.getBool=t,e.getBit=r,e.setBool=function(e,t,r){return r?!!(e[t>>3]|=1<<t%8)||!0:!(e[t>>3]&=~(1<<t%8))&&!1},e.truncateBitmap=function(e,r,s){let a=s.byteLength+7&-8;if(e>0||s.byteLength<a){let o=new Uint8Array(a);return o.set(e%8==0?s.subarray(e>>3):i(new n(s,e,r,null,t)).subarray(0,a)),o}return s},e.packBools=i;var n=class{constructor(e,t,r,i,n){this.bytes=e,this.length=r,this.context=i,this.get=n,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};function s(e,t,r){let i=0,n=0|t,s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=void 0===r?e.byteLength:n+r;for(;o-n>=4;)i+=a(s.getUint32(n)),n+=4;for(;o-n>=2;)i+=a(s.getUint16(n)),n+=2;for(;o-n>=1;)i+=a(s.getUint8(n)),n+=1;return i}function a(e){let t=0|e;return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24}e.BitIterator=n,e.popcnt_bit_range=function e(t,i,a){if(a-i<=0)return 0;if(a-i<8){let e=0;for(let s of new n(t,i,a-i,t,r))e+=s;return e}let o=a>>3<<3,l=i+(i%8==0?0:8-i%8);return e(t,i,l)+e(t,o,a)+s(t,l>>3,o-l>>3)},e.popcnt_array=s,e.popcnt_uint32=a})),V=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.strideForType=e.Dictionary=e.Map_=e.FixedSizeList=e.FixedSizeBinary=e.SparseUnion=e.DenseUnion=e.Union=e.Struct=e.List=e.IntervalYearMonth=e.IntervalDayTime=e.Interval=e.TimestampNanosecond=e.TimestampMicrosecond=e.TimestampMillisecond=e.TimestampSecond=e.Timestamp=e.TimeNanosecond=e.TimeMicrosecond=e.TimeMillisecond=e.TimeSecond=e.Time=e.DateMillisecond=e.DateDay=e.Date_=e.Decimal=e.Bool=e.Utf8=e.Binary=e.Float64=e.Float32=e.Float16=e.Float=e.Uint64=e.Uint32=e.Uint16=e.Uint8=e.Int64=e.Int32=e.Int16=e.Int8=e.Int=e.Null=e.DataType=void 0;var t=M(),r=class{static isNull(e){return(null==e?void 0:e.typeId)===t.Type.Null}static isInt(e){return(null==e?void 0:e.typeId)===t.Type.Int}static isFloat(e){return(null==e?void 0:e.typeId)===t.Type.Float}static isBinary(e){return(null==e?void 0:e.typeId)===t.Type.Binary}static isUtf8(e){return(null==e?void 0:e.typeId)===t.Type.Utf8}static isBool(e){return(null==e?void 0:e.typeId)===t.Type.Bool}static isDecimal(e){return(null==e?void 0:e.typeId)===t.Type.Decimal}static isDate(e){return(null==e?void 0:e.typeId)===t.Type.Date}static isTime(e){return(null==e?void 0:e.typeId)===t.Type.Time}static isTimestamp(e){return(null==e?void 0:e.typeId)===t.Type.Timestamp}static isInterval(e){return(null==e?void 0:e.typeId)===t.Type.Interval}static isList(e){return(null==e?void 0:e.typeId)===t.Type.List}static isStruct(e){return(null==e?void 0:e.typeId)===t.Type.Struct}static isUnion(e){return(null==e?void 0:e.typeId)===t.Type.Union}static isFixedSizeBinary(e){return(null==e?void 0:e.typeId)===t.Type.FixedSizeBinary}static isFixedSizeList(e){return(null==e?void 0:e.typeId)===t.Type.FixedSizeList}static isMap(e){return(null==e?void 0:e.typeId)===t.Type.Map}static isDictionary(e){return(null==e?void 0:e.typeId)===t.Type.Dictionary}get typeId(){return t.Type.NONE}};e.DataType=r,r[Symbol.toStringTag]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(r.prototype);var i=class extends r{toString(){return"Null"}get typeId(){return t.Type.Null}};e.Null=i,i[Symbol.toStringTag]=(e=>e[Symbol.toStringTag]="Null")(i.prototype);var n=class extends r{constructor(e,t){super(),this.isSigned=e,this.bitWidth=t}get typeId(){return t.Type.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:case 64:return this.isSigned?Int32Array:Uint32Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};e.Int=n,n[Symbol.toStringTag]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(n.prototype);var s=class extends n{constructor(){super(!0,8)}};e.Int8=s;var a=class extends n{constructor(){super(!0,16)}};e.Int16=a;var o=class extends n{constructor(){super(!0,32)}};e.Int32=o;var l=class extends n{constructor(){super(!0,64)}};e.Int64=l;var u=class extends n{constructor(){super(!1,8)}};e.Uint8=u;var c=class extends n{constructor(){super(!1,16)}};e.Uint16=c;var d=class extends n{constructor(){super(!1,32)}};e.Uint32=d;var h=class extends n{constructor(){super(!1,64)}};e.Uint64=h,Object.defineProperty(s.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(a.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(o.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(l.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(u.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(c.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(d.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(h.prototype,"ArrayType",{value:Uint32Array});var f=class extends r{constructor(e){super(),this.precision=e}get typeId(){return t.Type.Float}get ArrayType(){switch(this.precision){case t.Precision.HALF:return Uint16Array;case t.Precision.SINGLE:return Float32Array;case t.Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};e.Float=f,f[Symbol.toStringTag]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(f.prototype);var p=class extends f{constructor(){super(t.Precision.HALF)}};e.Float16=p;var y=class extends f{constructor(){super(t.Precision.SINGLE)}};e.Float32=y;var b=class extends f{constructor(){super(t.Precision.DOUBLE)}};e.Float64=b,Object.defineProperty(p.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(y.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(b.prototype,"ArrayType",{value:Float64Array});var _=class extends r{constructor(){super()}get typeId(){return t.Type.Binary}toString(){return"Binary"}};e.Binary=_,_[Symbol.toStringTag]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(_.prototype);var m=class extends r{constructor(){super()}get typeId(){return t.Type.Utf8}toString(){return"Utf8"}};e.Utf8=m,m[Symbol.toStringTag]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(m.prototype);var g=class extends r{constructor(){super()}get typeId(){return t.Type.Bool}toString(){return"Bool"}};e.Bool=g,g[Symbol.toStringTag]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(g.prototype);var v=class extends r{constructor(e,t){super(),this.scale=e,this.precision=t}get typeId(){return t.Type.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};e.Decimal=v,v[Symbol.toStringTag]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(v.prototype);var w=class extends r{constructor(e){super(),this.unit=e}get typeId(){return t.Type.Date}toString(){return`Date${32*(this.unit+1)}<${t.DateUnit[this.unit]}>`}};e.Date_=w,w[Symbol.toStringTag]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(w.prototype),e.DateDay=class extends w{constructor(){super(t.DateUnit.DAY)}},e.DateMillisecond=class extends w{constructor(){super(t.DateUnit.MILLISECOND)}};var I=class extends r{constructor(e,t){super(),this.unit=e,this.bitWidth=t}get typeId(){return t.Type.Time}toString(){return`Time${this.bitWidth}<${t.TimeUnit[this.unit]}>`}};e.Time=I,I[Symbol.toStringTag]=(e=>(e.unit=null,e.bitWidth=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Time"))(I.prototype),e.TimeSecond=class extends I{constructor(){super(t.TimeUnit.SECOND,32)}},e.TimeMillisecond=class extends I{constructor(){super(t.TimeUnit.MILLISECOND,32)}},e.TimeMicrosecond=class extends I{constructor(){super(t.TimeUnit.MICROSECOND,64)}},e.TimeNanosecond=class extends I{constructor(){super(t.TimeUnit.NANOSECOND,64)}};var B=class extends r{constructor(e,t){super(),this.unit=e,this.timezone=t}get typeId(){return t.Type.Timestamp}toString(){return`Timestamp<${t.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};e.Timestamp=B,B[Symbol.toStringTag]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(B.prototype),e.TimestampSecond=class extends B{constructor(e){super(t.TimeUnit.SECOND,e)}},e.TimestampMillisecond=class extends B{constructor(e){super(t.TimeUnit.MILLISECOND,e)}},e.TimestampMicrosecond=class extends B{constructor(e){super(t.TimeUnit.MICROSECOND,e)}},e.TimestampNanosecond=class extends B{constructor(e){super(t.TimeUnit.NANOSECOND,e)}};var T=class extends r{constructor(e){super(),this.unit=e}get typeId(){return t.Type.Interval}toString(){return`Interval<${t.IntervalUnit[this.unit]}>`}};e.Interval=T,T[Symbol.toStringTag]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(T.prototype),e.IntervalDayTime=class extends T{constructor(){super(t.IntervalUnit.DAY_TIME)}},e.IntervalYearMonth=class extends T{constructor(){super(t.IntervalUnit.YEAR_MONTH)}};var S=class extends r{constructor(e){super(),this.children=[e]}get typeId(){return t.Type.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};e.List=S,S[Symbol.toStringTag]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(S.prototype);var A=class extends r{constructor(e){super(),this.children=e}get typeId(){return t.Type.Struct}toString(){return`Struct<{${this.children.map((e=>`${e.name}:${e.type}`)).join(", ")}}>`}};e.Struct=A,A[Symbol.toStringTag]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(A.prototype);var O=class extends r{constructor(e,t,r){super(),this.mode=e,this.children=r,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce(((e,t,r)=>(e[t]=r)&&e||e),Object.create(null))}get typeId(){return t.Type.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map((e=>`${e.type}`)).join(" | ")}>`}};e.Union=O,O[Symbol.toStringTag]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(O.prototype),e.DenseUnion=class extends O{constructor(e,r){super(t.UnionMode.Dense,e,r)}},e.SparseUnion=class extends O{constructor(e,r){super(t.UnionMode.Sparse,e,r)}};var D=class extends r{constructor(e){super(),this.byteWidth=e}get typeId(){return t.Type.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};e.FixedSizeBinary=D,D[Symbol.toStringTag]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(D.prototype);var F=class extends r{constructor(e,t){super(),this.listSize=e,this.children=[t]}get typeId(){return t.Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};e.FixedSizeList=F,F[Symbol.toStringTag]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(F.prototype);var U=class extends r{constructor(e,t=!1){super(),this.children=[e],this.keysSorted=t}get typeId(){return t.Type.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}toString(){return`Map<{${this.children[0].type.children.map((e=>`${e.name}:${e.type}`)).join(", ")}}>`}};e.Map_=U,U[Symbol.toStringTag]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(U.prototype);var V=(e=>()=>++e)(-1),P=class extends r{constructor(e,t,r,i){super(),this.indices=t,this.dictionary=e,this.isOrdered=i||!1,this.id=null==r?V():"number"==typeof r?r:r.low}get typeId(){return t.Type.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};e.Dictionary=P,P[Symbol.toStringTag]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(P.prototype),e.strideForType=function(e){let r=e;switch(e.typeId){case t.Type.Decimal:return 4;case t.Type.Timestamp:return 2;case t.Type.Date:case t.Type.Interval:return 1+r.unit;case t.Type.Int:case t.Type.Time:return+(r.bitWidth>32)+1;case t.Type.FixedSizeList:return r.listSize;case t.Type.FixedSizeBinary:return r.byteWidth;default:return 1}}})),P=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Data=e.kUnknownNullCount=void 0;var t=U(),r=U(),i=M(),n=V(),s=S();e.kUnknownNullCount=-1;var a=class{constructor(e,t,r,i,s,o,l){let u;this.type=e,this.dictionary=l,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1)),this.childData=(o||[]).map((e=>e instanceof a?e:e.data)),s instanceof a?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=n.strideForType(e),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u)))}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0,{valueOffsets:t,values:r,nullBitmap:i,typeIds:n}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),n&&(e+=n.byteLength),this.childData.reduce(((e,t)=>e+t.byteLength),e)}get nullCount(){let t,i=this._nullCount;return i<=e.kUnknownNullCount&&(t=this.nullBitmap)&&(this._nullCount=i=this.length-r.popcnt_bit_range(t,this.offset,this.offset+this.length)),i}clone(e,t=this.offset,r=this.length,i=this._nullCount,n=this,s=this.childData){return new a(e,t,r,i,n,s,this.dictionary)}slice(e,t){let{stride:r,typeId:i,childData:n}=this,s=+(0===this._nullCount)-1,a=16===i?r:1,o=this._sliceBuffers(e,t,r,i);return this.clone(this.type,this.offset+e,t,s,o,!n.length||this.valueOffsets?n:this._sliceChildren(n,a*e,a*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===i.Type.Null)return this.clone(this.type,0,e,0);let{length:r,nullCount:n}=this,s=new Uint8Array((e+63&-64)>>3).fill(255,0,r>>3);s[r>>3]=(1<<r-(-8&r))-1,n>0&&s.set(t.truncateBitmap(this.offset,r,this.nullBitmap),0);let a=this.buffers;return a[i.BufferType.VALIDITY]=s,this.clone(this.type,0,e,n+(e-r),a)}_sliceBuffers(e,t,r,n){let s,{buffers:a}=this;return(s=a[i.BufferType.TYPE])&&(a[i.BufferType.TYPE]=s.subarray(e,e+t)),(s=a[i.BufferType.OFFSET])&&(a[i.BufferType.OFFSET]=s.subarray(e,e+t+1))||(s=a[i.BufferType.DATA])&&(a[i.BufferType.DATA]=6===n?s:s.subarray(r*e,r*(e+t))),a}_sliceChildren(e,t,r){return e.map((e=>e.slice(t,r)))}static new(e,t,r,n,s,o,l){switch(s instanceof a?s=s.buffers:s||(s=[]),e.typeId){case i.Type.Null:return a.Null(e,t,r);case i.Type.Int:return a.Int(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Dictionary:return a.Dictionary(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[],l);case i.Type.Float:return a.Float(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Bool:return a.Bool(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Decimal:return a.Decimal(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Date:return a.Date(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Time:return a.Time(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Timestamp:return a.Timestamp(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Interval:return a.Interval(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.FixedSizeBinary:return a.FixedSizeBinary(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Binary:return a.Binary(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.OFFSET]||[],s[i.BufferType.DATA]||[]);case i.Type.Utf8:return a.Utf8(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.OFFSET]||[],s[i.BufferType.DATA]||[]);case i.Type.List:return a.List(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.OFFSET]||[],(o||[])[0]);case i.Type.FixedSizeList:return a.FixedSizeList(e,t,r,n||0,s[i.BufferType.VALIDITY],(o||[])[0]);case i.Type.Struct:return a.Struct(e,t,r,n||0,s[i.BufferType.VALIDITY],o||[]);case i.Type.Map:return a.Map(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.OFFSET]||[],(o||[])[0]);case i.Type.Union:return a.Union(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.TYPE]||[],s[i.BufferType.OFFSET]||o,o)}throw new Error(`Unrecognized typeId ${e.typeId}`)}static Null(e,t,r){return new a(e,t,r,0)}static Int(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Dictionary(e,t,r,i,n,o,l){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.indices.ArrayType,o),s.toUint8Array(n)],[],l)}static Float(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Bool(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Decimal(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Date(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Time(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Timestamp(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Interval(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static FixedSizeBinary(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Binary(e,t,r,i,n,o,l){return new a(e,t,r,i,[s.toInt32Array(o),s.toUint8Array(l),s.toUint8Array(n)])}static Utf8(e,t,r,i,n,o,l){return new a(e,t,r,i,[s.toInt32Array(o),s.toUint8Array(l),s.toUint8Array(n)])}static List(e,t,r,i,n,o,l){return new a(e,t,r,i,[s.toInt32Array(o),void 0,s.toUint8Array(n)],l?[l]:[])}static FixedSizeList(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,void 0,s.toUint8Array(n)],o?[o]:[])}static Struct(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,void 0,s.toUint8Array(n)],o)}static Map(e,t,r,i,n,o,l){return new a(e,t,r,i,[s.toInt32Array(o),void 0,s.toUint8Array(n)],l?[l]:[])}static Union(e,t,r,n,o,l,u,c){let d=[void 0,void 0,s.toUint8Array(o),s.toArrayBufferView(e.ArrayType,l)];return e.mode===i.UnionMode.Sparse?new a(e,t,r,n,d,u):(d[i.BufferType.OFFSET]=s.toInt32Array(u),new a(e,t,r,n,d,c))}};e.Data=a,a.prototype.childData=Object.freeze([])})),E=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.valueToString=void 0,e.valueToString=function(e){if(null===e)return"null";if(void 0===e)return"undefined";switch(typeof e){case"number":case"bigint":return`${e}`;case"string":return`"${e}"`}return"function"==typeof e[Symbol.toPrimitive]?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e)}})),R=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createIsValidFunction=void 0;var t=E(),r=T();e.createIsValidFunction=function(e){if(!e||e.length<=0)return function(e){return!0};let i="",n=e.filter((e=>e==e));return n.length>0&&(i=`\n    switch (x) {${n.map((e=>`\n        case ${function(e){return"bigint"!=typeof e?t.valueToString(e):r.BigIntAvailable?`${t.valueToString(e)}n`:`"${t.valueToString(e)}"`}(e)}:`)).join("")}\n            return false;\n    }`),e.length!==n.length&&(i=`if (x !== x) return false;\n${i}`),new Function("x",`${i}\nreturn true;`)}})),L=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WideBufferBuilder=e.OffsetsBufferBuilder=e.BitmapBufferBuilder=e.DataBufferBuilder=e.BufferBuilder=void 0;var t=S(),r=T(),i=(e,t)=>(e*t+63&-64||64)/t,n=class{constructor(e,t=1){this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=e.length/t|0)}get byteLength(){return this.length*this.stride*this.BYTES_PER_ELEMENT|0}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,t){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let t=this.stride,r=this.length*t,n=this.buffer.length;r>=n&&this._resize(i(0===n?1*r:2*r,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=i(e*this.stride,this.BYTES_PER_ELEMENT);let r=((e,r=0)=>e.length>=r?e.subarray(0,r):t.memcpy(new e.constructor(r),e,0))(this.buffer,e);return this.clear(),r}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=t.memcpy(new this.ArrayType(e),this.buffer)}};e.BufferBuilder=n,n.prototype.offset=0;var s=class extends n{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}};e.DataBufferBuilder=s,e.BitmapBufferBuilder=class extends s{constructor(e=new Uint8Array(0)){super(e,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,t){let{buffer:r}=this.reserve(e-this.length+1),i=e>>3,n=e%8,s=r[i]>>n&1;return t?0===s&&(r[i]|=1<<n,++this.numValid):1===s&&(r[i]&=~(1<<n),--this.numValid),this}clear(){return this.numValid=0,super.clear()}},e.OffsetsBufferBuilder=class extends s{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,t){let r=this.length-1,i=this.reserve(e-r+1).buffer;return r<e++&&i.fill(i[r],r,e),i[e]=i[e-1]+t,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}},e.WideBufferBuilder=class extends n{get ArrayType64(){return this._ArrayType64||(this._ArrayType64=this.buffer instanceof Int32Array?r.BigInt64Array:r.BigUint64Array)}set(e,t){switch(this.reserve(e-this.length+1),typeof t){case"bigint":this.buffer64[e]=t;break;case"number":this.buffer[e*this.stride]=t;break;default:this.buffer.set(t,e*this.stride)}return this}_resize(e){let t=super._resize(e),i=t.byteLength/(this.BYTES_PER_ELEMENT*this.stride);return r.BigIntAvailable&&(this.buffer64=new this.ArrayType64(t.buffer,t.byteOffset,i)),t}}})),x=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VariableWidthBuilder=e.FixedWidthBuilder=e.Builder=void 0;var t=v(),r=O(),i=M(),n=P(),s=R(),a=L(),o=V(),l=class{constructor({type:e,nullValues:t}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=t,this.stride=o.strideForType(e),this._nulls=new a.BitmapBufferBuilder,t&&t.length>0&&(this._isValid=s.createIsValidFunction(t))}static new(e){}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}static throughIterable(e){return function(e){let{queueingStrategy:t="count"}=e,{highWaterMark:r=("bytes"!==t?1e3:Math.pow(2,14))}=e,i="bytes"!==t?"length":"byteLength";return function*(t){let n=0,s=l.new(e);for(let e of t)s.append(e)[i]>=r&&++n&&(yield s.toVector());(s.finish().length>0||0===n)&&(yield s.toVector())}}(e)}static throughAsyncIterable(e){return function(e){let{queueingStrategy:r="count"}=e,{highWaterMark:i=("bytes"!==r?1e3:Math.pow(2,14))}=e,n="bytes"!==r?"length":"byteLength";return function(r){return t.__asyncGenerator(this,arguments,(function*(){var s,a;let o=0,u=l.new(e);try{for(var c,d=t.__asyncValues(r);!(c=yield t.__await(d.next())).done;){let e=c.value;u.append(e)[n]>=i&&++o&&(yield yield t.__await(u.toVector()))}}catch(e){s={error:e}}finally{try{c&&!c.done&&(a=d.return)&&(yield t.__await(a.call(d)))}finally{if(s)throw s.error}}(u.finish().length>0||0===o)&&(yield yield t.__await(u.toVector()))}))}}(e)}toVector(){return r.Vector.new(this.flush())}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),this._typeIds&&(e+=this._typeIds.byteLength),this.children.reduce(((e,t)=>e+t.byteLength),e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce(((e,t)=>e+t.reservedByteLength),e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}setValue(e,t){this._setValue(this,e,t)}setValid(e,t){return this.length=this._nulls.set(e,+t).length,t}addChild(e,t=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e=[],t=this._values,r=this._offsets,s=this._typeIds,{length:a,nullCount:o}=this;s?(e[i.BufferType.TYPE]=s.flush(a),r&&(e[i.BufferType.OFFSET]=r.flush(a))):r?(t&&(e[i.BufferType.DATA]=t.flush(r.last())),e[i.BufferType.OFFSET]=r.flush(a)):t&&(e[i.BufferType.DATA]=t.flush(a)),o>0&&(e[i.BufferType.VALIDITY]=this._nulls.flush(a));let l=n.Data.new(this.type,0,a,o,e,this.children.map((e=>e.flush())));return this.clear(),l}finish(){return this.finished=!0,this.children.forEach((e=>e.finish())),this}clear(){return this.length=0,this._offsets&&this._offsets.clear(),this._values&&this._values.clear(),this._nulls&&this._nulls.clear(),this._typeIds&&this._typeIds.clear(),this.children.forEach((e=>e.clear())),this}};e.Builder=l,l.prototype.length=1,l.prototype.stride=1,l.prototype.children=null,l.prototype.finished=!1,l.prototype.nullValues=null,l.prototype._isValid=()=>!0,e.FixedWidthBuilder=class extends l{constructor(e){super(e),this._values=new a.DataBufferBuilder(new this.ArrayType(0),this.stride)}setValue(e,t){let r=this._values;return r.reserve(e-r.length+1),super.setValue(e,t)}},e.VariableWidthBuilder=class extends l{constructor(e){super(e),this._pendingLength=0,this._offsets=new a.OffsetsBufferBuilder}setValue(e,t){let r=this._pending||(this._pending=new Map),i=r.get(e);i&&(this._pendingLength-=i.length),this._pendingLength+=t.length,r.set(e,t)}setValid(e,t){return!!super.setValid(e,t)||((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}}})),N=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BoolBuilder=void 0;var t=L(),r=x(),i=class extends r.Builder{constructor(e){super(e),this._values=new t.BitmapBufferBuilder}setValue(e,t){this._values.set(e,+t)}};e.BoolBuilder=i})),j=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullBuilder=void 0;var t=x(),r=class extends t.Builder{setValue(e,t){}setValid(e,t){return this.length=Math.max(e+1,this.length),t}};e.NullBuilder=r})),k=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=void 0;var t=x(),r=class extends t.FixedWidthBuilder{};e.DateBuilder=r,e.DateDayBuilder=class extends r{},e.DateMillisecondBuilder=class extends r{}})),C=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecimalBuilder=void 0;var t=x(),r=class extends t.FixedWidthBuilder{};e.DecimalBuilder=r})),z=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DictionaryBuilder=void 0;var t=V(),r=x(),i=class extends r.Builder{constructor({type:e,nullValues:i,dictionaryHashFunction:n}){super({type:new t.Dictionary(e.dictionary,e.indices,e.id,e.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=r.Builder.new({type:this.type.indices,nullValues:i}),this.dictionary=r.Builder.new({type:this.type.dictionary,nullValues:null}),"function"==typeof n&&(this.valueToKey=n)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,t){let r=this.indices;return t=r.setValid(e,t),this.length=r.length,t}setValue(e,t){let r=this._keysToIndices,i=this.valueToKey(t),n=r[i];return void 0===n&&(r[i]=n=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,n)}flush(){let e=this.type,t=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(e);return i.dictionary=t?t.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return"string"==typeof e?e:`${e}`}};e.DictionaryBuilder=i})),W=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedSizeBinaryBuilder=void 0;var t=x(),r=class extends t.FixedWidthBuilder{};e.FixedSizeBinaryBuilder=r})),H=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.float64ToUint16=e.uint16ToFloat64=void 0;var t=new Float64Array(1),r=new Uint32Array(t.buffer);e.uint16ToFloat64=function(e){let t=(31744&e)>>10,r=(1023&e)/1024,i=Math.pow(-1,(32768&e)>>15);switch(t){case 31:return i*(r?NaN:1/0);case 0:return i*(r?6103515625e-14*r:0)}return i*Math.pow(2,t-15)*(1+r)},e.float64ToUint16=function(e){if(e!=e)return 32256;t[0]=e;let i=(2147483648&r[1])>>16&65535,n=2146435072&r[1],s=0;return n>=1089470464?r[0]>0?n=31744:(n=(2080374784&n)>>16,s=(1048575&r[1])>>10):n<=1056964608?(s=1048576+(1048575&r[1]),s=1048576+(s<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,s=512+(1048575&r[1])>>10),i|n|65535&s}})),Y=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=void 0;var t=H(),r=x(),i=class extends r.FixedWidthBuilder{};e.FloatBuilder=i,e.Float16Builder=class extends i{setValue(e,r){this._values.set(e,t.float64ToUint16(r))}},e.Float32Builder=class extends i{setValue(e,t){this._values.set(e,t)}},e.Float64Builder=class extends i{setValue(e,t){this._values.set(e,t)}}})),$=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BN=e.bignumToBigInt=e.bignumToString=e.isArrowBigNumSymbol=void 0;var t=S(),r=T();function i(e,...r){return 0===r.length?Object.setPrototypeOf(t.toArrayBufferView(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...r),this.constructor.prototype)}function n(...e){return i.apply(this,e)}function s(...e){return i.apply(this,e)}function a(...e){return i.apply(this,e)}function o(e){let t,r,{buffer:i,byteOffset:n,length:s,signed:a}=e,o=new Int32Array(i,n,s),l=0,u=0,c=o.length;for(;u<c;)r=o[u++],t=o[u++],a||(t>>>=0),l+=(r>>>0)+t*Math.pow(u,32);return l}function l(e){let t="",r=new Uint32Array(2),i=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),n=new Uint32Array((i=new Uint16Array(i).reverse()).buffer),s=-1,a=i.length-1;do{for(r[0]=i[s=0];s<a;)i[s++]=r[1]=r[0]/10,r[0]=(r[0]-10*r[1]<<16)+i[s];i[s]=r[1]=r[0]/10,r[0]=r[0]-10*r[1],t=`${r[0]}${t}`}while(n[0]||n[1]||n[2]||n[3]);return t||"0"}e.isArrowBigNumSymbol=Symbol.for("isArrowBigNum"),i.prototype[e.isArrowBigNumSymbol]=!0,i.prototype.toJSON=function(){return`"${e.bignumToString(this)}"`},i.prototype.valueOf=function(){return o(this)},i.prototype.toString=function(){return e.bignumToString(this)},i.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return o(this);case"string":return e.bignumToString(this);case"default":return e.bignumToBigInt(this)}return e.bignumToString(this)},Object.setPrototypeOf(n.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(s.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(a.prototype,Object.create(Uint32Array.prototype)),Object.assign(n.prototype,i.prototype,{constructor:n,signed:!0,TypedArray:Int32Array,BigIntArray:r.BigInt64Array}),Object.assign(s.prototype,i.prototype,{constructor:s,signed:!1,TypedArray:Uint32Array,BigIntArray:r.BigUint64Array}),Object.assign(a.prototype,i.prototype,{constructor:a,signed:!0,TypedArray:Uint32Array,BigIntArray:r.BigUint64Array}),r.BigIntAvailable?(e.bignumToBigInt=e=>8===e.byteLength?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:l(e),e.bignumToString=e=>8===e.byteLength?`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`:l(e)):(e.bignumToString=l,e.bignumToBigInt=e.bignumToString);var u=class{static new(e,t){switch(t){case!0:return new n(e);case!1:return new s(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case r.BigInt64Array:return new n(e)}return 16===e.byteLength?new a(e):new s(e)}static signed(e){return new n(e)}static unsigned(e){return new s(e)}static decimal(e){return new a(e)}constructor(e,t){return u.new(e,t)}};e.BN=u})),G=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=void 0;var t=$(),r=L(),i=T(),n=x(),s=class extends n.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};e.IntBuilder=s,e.Int8Builder=class extends s{},e.Int16Builder=class extends s{},e.Int32Builder=class extends s{},e.Int64Builder=class extends s{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(a)),super(e),this._values=new r.WideBufferBuilder(new Int32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(a(e))}},e.Uint8Builder=class extends s{},e.Uint16Builder=class extends s{},e.Uint32Builder=class extends s{},e.Uint64Builder=class extends s{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(a)),super(e),this._values=new r.WideBufferBuilder(new Uint32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(a(e))}};var a=(e=>r=>(ArrayBuffer.isView(r)&&(e.buffer=r.buffer,e.byteOffset=r.byteOffset,e.byteLength=r.byteLength,r=t.bignumToBigInt(e),e.buffer=null),r))({BigIntArray:i.BigInt64Array})})),K=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=void 0;var t=x(),r=class extends t.FixedWidthBuilder{};e.TimeBuilder=r,e.TimeSecondBuilder=class extends r{},e.TimeMillisecondBuilder=class extends r{},e.TimeMicrosecondBuilder=class extends r{},e.TimeNanosecondBuilder=class extends r{}})),J=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=void 0;var t=x(),r=class extends t.FixedWidthBuilder{};e.TimestampBuilder=r,e.TimestampSecondBuilder=class extends r{},e.TimestampMillisecondBuilder=class extends r{},e.TimestampMicrosecondBuilder=class extends r{},e.TimestampNanosecondBuilder=class extends r{}})),q=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=void 0;var t=x(),r=class extends t.FixedWidthBuilder{};e.IntervalBuilder=r,e.IntervalDayTimeBuilder=class extends r{},e.IntervalYearMonthBuilder=class extends r{}})),Z=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BinaryBuilder=void 0;var t=S(),r=L(),i=x(),n=class extends i.VariableWidthBuilder{constructor(e){super(e),this._values=new r.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,r){return super.setValue(e,t.toUint8Array(r))}_flushPending(e,t){let r,i=this._offsets,n=this._values.reserve(t).buffer,s=0,a=0,o=0;for([s,r]of e)void 0===r?i.set(s,0):(a=r.length,n.set(r,o),i.set(s,a),o+=a)}};e.BinaryBuilder=n})),X=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Utf8Builder=void 0;var t=I(),r=Z(),i=L(),n=x(),s=class extends n.VariableWidthBuilder{constructor(e){super(e),this._values=new i.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,r){return super.setValue(e,t.encodeUtf8(r))}_flushPending(e,t){}};e.Utf8Builder=s,s.prototype._flushPending=r.BinaryBuilder.prototype._flushPending})),Q=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Run=void 0;var t=O();e.Run=class{get length(){return this._values.length}get(e){return this._values[e]}clear(){return this._values=null,this}bind(e){return e instanceof t.Vector?e:(this._values=e,this)}}})),ee=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Field=e.Schema=void 0;var t=V(),r=class{constructor(e=[],t,r){this.fields=e||[],this.metadata=t||new Map,r||(r=s(e)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}toString(){return`Schema<{ ${this.fields.map(((e,t)=>`${t}: ${e}`)).join(", ")} }>`}select(...e){let t=e.reduce(((e,t)=>(e[t]=!0)&&e),Object.create(null));return new r(this.fields.filter((e=>t[e.name])),this.metadata)}selectAt(...e){return new r(e.map((e=>this.fields[e])).filter(Boolean),this.metadata)}assign(...e){let t=e[0]instanceof r?e[0]:Array.isArray(e[0])?new r(e[0]):new r(e),i=[...this.fields],a=n(n(new Map,this.metadata),t.metadata),o=t.fields.filter((e=>{let t=i.findIndex((t=>t.name===e.name));return!~t||(i[t]=e.clone({metadata:n(n(new Map,i[t].metadata),e.metadata)}))&&!1})),l=s(o,new Map);return new r([...i,...o],a,new Map([...this.dictionaries,...l]))}};e.Schema=r;var i=class{constructor(e,t,r=!1,i){this.name=e,this.type=t,this.nullable=r,this.metadata=i||new Map}static new(...e){let[t,r,n,s]=e;return e[0]&&"object"==typeof e[0]&&(({name:t}=e[0]),void 0===r&&(r=e[0].type),void 0===n&&(n=e[0].nullable),void 0===s&&(s=e[0].metadata)),new i(`${t}`,r,n,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,r,n,s]=e;return e[0]&&"object"==typeof e[0]?({name:t=this.name,type:r=this.type,nullable:n=this.nullable,metadata:s=this.metadata}=e[0]):[t=this.name,r=this.type,n=this.nullable,s=this.metadata]=e,i.new(t,r,n,s)}};function n(e,t){return new Map([...e||new Map,...t||new Map])}function s(e,r=new Map){for(let i=-1,n=e.length;++i<n;){let n=e[i].type;if(t.DataType.isDictionary(n))if(r.has(n.id)){if(r.get(n.id)!==n.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else r.set(n.id,n.dictionary);n.children&&n.children.length>0&&s(n.children,r)}return r}e.Field=i,r.prototype.fields=null,r.prototype.metadata=null,r.prototype.dictionaries=null,i.prototype.type=null,i.prototype.name=null,i.prototype.nullable=null,i.prototype.metadata=null})),te=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListBuilder=void 0;var t=Q(),r=ee(),i=V(),n=L(),s=x(),a=class extends s.VariableWidthBuilder{constructor(e){super(e),this._run=new t.Run,this._offsets=new n.OffsetsBufferBuilder}addChild(e,t="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new i.List(new r.Field(t,e.type,!0)),this.numChildren-1}clear(){return this._run.clear(),super.clear()}_flushPending(e){let t,r=this._run,i=this._offsets,n=this._setValue,s=0;for([s,t]of e)void 0===t?i.set(s,0):(i.set(s,t.length),n(this,s,r.bind(t)))}};e.ListBuilder=a})),re=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedSizeListBuilder=void 0;var t=Q(),r=ee(),i=x(),n=V(),s=class extends i.Builder{constructor(){super(...arguments),this._run=new t.Run}setValue(e,t){super.setValue(e,this._run.bind(t))}addChild(e,t="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let i=this.children.push(e);return this.type=new n.FixedSizeList(this.type.listSize,new r.Field(t,e.type,!0)),i}clear(){return this._run.clear(),super.clear()}};e.FixedSizeListBuilder=s})),ie=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapBuilder=void 0;var t=ee(),r=V(),i=x(),n=class extends i.VariableWidthBuilder{set(e,t){return super.set(e,t)}setValue(e,t){t=t instanceof Map?t:new Map(Object.entries(t));let r=this._pending||(this._pending=new Map),i=r.get(e);i&&(this._pendingLength-=i.size),this._pendingLength+=t.size,r.set(e,t)}addChild(e,i=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new r.Map_(new t.Field(i,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let t=this._offsets,r=this._setValue;e.forEach(((e,i)=>{void 0===e?t.set(i,0):(t.set(i,e.size),r(this,i,e))}))}};e.MapBuilder=n})),ne=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StructBuilder=void 0;var t=ee(),r=x(),i=V(),n=class extends r.Builder{addChild(e,r=`${this.numChildren}`){let n=this.children.push(e);return this.type=new i.Struct([...this.type.children,new t.Field(r,e.type,!0)]),n}};e.StructBuilder=n})),se=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseUnionBuilder=e.SparseUnionBuilder=e.UnionBuilder=void 0;var t=ee(),r=L(),i=x(),n=V(),s=class extends i.Builder{constructor(e){super(e),this._typeIds=new r.DataBufferBuilder(new Int8Array(0),1),"function"==typeof e.valueToChildTypeId&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,t){return this.set(this.length,e,t)}set(e,t,r){return void 0===r&&(r=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,r),this}setValue(e,t,r){this._typeIds.set(e,r),super.setValue(e,t)}addChild(e,r=`${this.children.length}`){let i=this.children.push(e),{type:{children:s,mode:a,typeIds:o}}=this,l=[...s,new t.Field(r,e.type)];return this.type=new n.Union(a,[...o,i],l),i}_valueToChildTypeId(e,t,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}};e.UnionBuilder=s,e.SparseUnionBuilder=class extends s{},e.DenseUnionBuilder=class extends s{constructor(e){super(e),this._offsets=new r.DataBufferBuilder(new Int32Array(0))}setValue(e,t,r){let i=this.type.typeIdToChildIndex[r];return this._offsets.set(e,this.getChildAt(i).length),super.setValue(e,t,r)}}})),ae=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Visitor=void 0;var t=P(),r=O(),i=M(),n=V(),s=class{visitMany(e,...t){return e.map(((e,r)=>this.visit(e,...t.map((e=>e[r])))))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,s=!0){return function(e,s,o=!0){let l=null,u=i.Type.NONE;switch(s instanceof t.Data||s instanceof r.Vector?u=a(s.type):s instanceof n.DataType?u=a(s):"number"!=typeof(u=s)&&(u=i.Type[s]),u){case i.Type.Null:l=e.visitNull;break;case i.Type.Bool:l=e.visitBool;break;case i.Type.Int:l=e.visitInt;break;case i.Type.Int8:l=e.visitInt8||e.visitInt;break;case i.Type.Int16:l=e.visitInt16||e.visitInt;break;case i.Type.Int32:l=e.visitInt32||e.visitInt;break;case i.Type.Int64:l=e.visitInt64||e.visitInt;break;case i.Type.Uint8:l=e.visitUint8||e.visitInt;break;case i.Type.Uint16:l=e.visitUint16||e.visitInt;break;case i.Type.Uint32:l=e.visitUint32||e.visitInt;break;case i.Type.Uint64:l=e.visitUint64||e.visitInt;break;case i.Type.Float:l=e.visitFloat;break;case i.Type.Float16:l=e.visitFloat16||e.visitFloat;break;case i.Type.Float32:l=e.visitFloat32||e.visitFloat;break;case i.Type.Float64:l=e.visitFloat64||e.visitFloat;break;case i.Type.Utf8:l=e.visitUtf8;break;case i.Type.Binary:l=e.visitBinary;break;case i.Type.FixedSizeBinary:l=e.visitFixedSizeBinary;break;case i.Type.Date:l=e.visitDate;break;case i.Type.DateDay:l=e.visitDateDay||e.visitDate;break;case i.Type.DateMillisecond:l=e.visitDateMillisecond||e.visitDate;break;case i.Type.Timestamp:l=e.visitTimestamp;break;case i.Type.TimestampSecond:l=e.visitTimestampSecond||e.visitTimestamp;break;case i.Type.TimestampMillisecond:l=e.visitTimestampMillisecond||e.visitTimestamp;break;case i.Type.TimestampMicrosecond:l=e.visitTimestampMicrosecond||e.visitTimestamp;break;case i.Type.TimestampNanosecond:l=e.visitTimestampNanosecond||e.visitTimestamp;break;case i.Type.Time:l=e.visitTime;break;case i.Type.TimeSecond:l=e.visitTimeSecond||e.visitTime;break;case i.Type.TimeMillisecond:l=e.visitTimeMillisecond||e.visitTime;break;case i.Type.TimeMicrosecond:l=e.visitTimeMicrosecond||e.visitTime;break;case i.Type.TimeNanosecond:l=e.visitTimeNanosecond||e.visitTime;break;case i.Type.Decimal:l=e.visitDecimal;break;case i.Type.List:l=e.visitList;break;case i.Type.Struct:l=e.visitStruct;break;case i.Type.Union:l=e.visitUnion;break;case i.Type.DenseUnion:l=e.visitDenseUnion||e.visitUnion;break;case i.Type.SparseUnion:l=e.visitSparseUnion||e.visitUnion;break;case i.Type.Dictionary:l=e.visitDictionary;break;case i.Type.Interval:l=e.visitInterval;break;case i.Type.IntervalDayTime:l=e.visitIntervalDayTime||e.visitInterval;break;case i.Type.IntervalYearMonth:l=e.visitIntervalYearMonth||e.visitInterval;break;case i.Type.FixedSizeList:l=e.visitFixedSizeList;break;case i.Type.Map:l=e.visitMap}if("function"==typeof l)return l;if(!o)return()=>null;throw new Error(`Unrecognized type '${i.Type[u]}'`)}(this,e,s)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}};function a(e){switch(e.typeId){case i.Type.Null:return i.Type.Null;case i.Type.Int:{let{bitWidth:t,isSigned:r}=e;switch(t){case 8:return r?i.Type.Int8:i.Type.Uint8;case 16:return r?i.Type.Int16:i.Type.Uint16;case 32:return r?i.Type.Int32:i.Type.Uint32;case 64:return r?i.Type.Int64:i.Type.Uint64}return i.Type.Int}case i.Type.Float:switch(e.precision){case i.Precision.HALF:return i.Type.Float16;case i.Precision.SINGLE:return i.Type.Float32;case i.Precision.DOUBLE:return i.Type.Float64}return i.Type.Float;case i.Type.Binary:return i.Type.Binary;case i.Type.Utf8:return i.Type.Utf8;case i.Type.Bool:return i.Type.Bool;case i.Type.Decimal:return i.Type.Decimal;case i.Type.Time:switch(e.unit){case i.TimeUnit.SECOND:return i.Type.TimeSecond;case i.TimeUnit.MILLISECOND:return i.Type.TimeMillisecond;case i.TimeUnit.MICROSECOND:return i.Type.TimeMicrosecond;case i.TimeUnit.NANOSECOND:return i.Type.TimeNanosecond}return i.Type.Time;case i.Type.Timestamp:switch(e.unit){case i.TimeUnit.SECOND:return i.Type.TimestampSecond;case i.TimeUnit.MILLISECOND:return i.Type.TimestampMillisecond;case i.TimeUnit.MICROSECOND:return i.Type.TimestampMicrosecond;case i.TimeUnit.NANOSECOND:return i.Type.TimestampNanosecond}return i.Type.Timestamp;case i.Type.Date:switch(e.unit){case i.DateUnit.DAY:return i.Type.DateDay;case i.DateUnit.MILLISECOND:return i.Type.DateMillisecond}return i.Type.Date;case i.Type.Interval:switch(e.unit){case i.IntervalUnit.DAY_TIME:return i.Type.IntervalDayTime;case i.IntervalUnit.YEAR_MONTH:return i.Type.IntervalYearMonth}return i.Type.Interval;case i.Type.Map:return i.Type.Map;case i.Type.List:return i.Type.List;case i.Type.Struct:return i.Type.Struct;case i.Type.Union:switch(e.mode){case i.UnionMode.Dense:return i.Type.DenseUnion;case i.UnionMode.Sparse:return i.Type.SparseUnion}return i.Type.Union;case i.Type.FixedSizeBinary:return i.Type.FixedSizeBinary;case i.Type.FixedSizeList:return i.Type.FixedSizeList;case i.Type.Dictionary:return i.Type.Dictionary}throw new Error(`Unrecognized type '${i.Type[e.typeId]}'`)}e.Visitor=s,s.prototype.visitInt8=null,s.prototype.visitInt16=null,s.prototype.visitInt32=null,s.prototype.visitInt64=null,s.prototype.visitUint8=null,s.prototype.visitUint16=null,s.prototype.visitUint32=null,s.prototype.visitUint64=null,s.prototype.visitFloat16=null,s.prototype.visitFloat32=null,s.prototype.visitFloat64=null,s.prototype.visitDateDay=null,s.prototype.visitDateMillisecond=null,s.prototype.visitTimestampSecond=null,s.prototype.visitTimestampMillisecond=null,s.prototype.visitTimestampMicrosecond=null,s.prototype.visitTimestampNanosecond=null,s.prototype.visitTimeSecond=null,s.prototype.visitTimeMillisecond=null,s.prototype.visitTimeMicrosecond=null,s.prototype.visitTimeNanosecond=null,s.prototype.visitDenseUnion=null,s.prototype.visitSparseUnion=null,s.prototype.visitIntervalDayTime=null,s.prototype.visitIntervalYearMonth=null})),oe=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.SetVisitor=void 0;var t=O(),r=ae(),i=I(),n=H(),s=S(),a=M(),o=class extends r.Visitor{};e.SetVisitor=o;var l=(e,t,r)=>{e[t]=r%4294967296|0,e[t+1]=r/4294967296|0},u=(e,t,r,i)=>{let{[r]:n,[r+1]:s}=t;null!=n&&null!=s&&e.set(i.subarray(0,s-n),n)},c=({values:e},t,r)=>{((e,t,r)=>{e[t]=r/864e5|0})(e,t,r.valueOf())},d=({values:e},t,r)=>{l(e,2*t,r.valueOf())},h=({stride:e,values:t},r,i)=>{t[e*r]=i},f=({stride:e,values:t},r,i)=>{t[e*r]=n.float64ToUint16(i)},p=(e,t,r)=>{switch(typeof r){case"bigint":e.values64[t]=r;break;case"number":e.values[t*e.stride]=r;break;default:{let i=r,{stride:n,ArrayType:a}=e,o=s.toArrayBufferView(a,i);e.values.set(o.subarray(0,n),n*t)}}},y=({values:e},t,r)=>l(e,2*t,r/1e3),b=({values:e},t,r)=>l(e,2*t,r),_=({values:e},t,r)=>((e,t,r)=>{e[t]=1e3*r%4294967296|0,e[t+1]=1e3*r/4294967296|0})(e,2*t,r),m=({values:e},t,r)=>((e,t,r)=>{e[t]=1e6*r%4294967296|0,e[t+1]=1e6*r/4294967296|0})(e,2*t,r),g=({values:e,stride:t},r,i)=>{e[t*r]=i},v=({values:e,stride:t},r,i)=>{e[t*r]=i},w=({values:e},t,r)=>{e.set(r.subarray(0,2),2*t)},B=({values:e},t,r)=>{e.set(r.subarray(0,2),2*t)},T=(e,t,r)=>{let i=e.typeIdToChildIndex[e.typeIds[t]],n=e.getChildAt(i);n&&n.set(e.valueOffsets[t],r)},A=(e,t,r)=>{let i=e.typeIdToChildIndex[e.typeIds[t]],n=e.getChildAt(i);n&&n.set(t,r)},D=({values:e},t,r)=>{e.set(r.subarray(0,2),2*t)},F=({values:e},t,r)=>{e[t]=12*r[0]+r[1]%12};o.prototype.visitBool=({offset:e,values:t},r,i)=>{let n=e+r;i?t[n>>3]|=1<<n%8:t[n>>3]&=~(1<<n%8)},o.prototype.visitInt=(e,t,r)=>{e.type.bitWidth<64?h(e,t,r):p(e,t,r)},o.prototype.visitInt8=h,o.prototype.visitInt16=h,o.prototype.visitInt32=h,o.prototype.visitInt64=p,o.prototype.visitUint8=h,o.prototype.visitUint16=h,o.prototype.visitUint32=h,o.prototype.visitUint64=p,o.prototype.visitFloat=(e,t,r)=>{e.type.precision!==a.Precision.HALF?h(e,t,r):f(e,t,r)},o.prototype.visitFloat16=f,o.prototype.visitFloat32=h,o.prototype.visitFloat64=h,o.prototype.visitUtf8=({values:e,valueOffsets:t},r,n)=>{u(e,t,r,i.encodeUtf8(n))},o.prototype.visitBinary=({values:e,valueOffsets:t},r,i)=>u(e,t,r,i),o.prototype.visitFixedSizeBinary=({stride:e,values:t},r,i)=>{t.set(i.subarray(0,e),e*r)},o.prototype.visitDate=(e,t,r)=>{e.type.unit===a.DateUnit.DAY?c(e,t,r):d(e,t,r)},o.prototype.visitDateDay=c,o.prototype.visitDateMillisecond=d,o.prototype.visitTimestamp=(e,t,r)=>{switch(e.type.unit){case a.TimeUnit.SECOND:return y(e,t,r);case a.TimeUnit.MILLISECOND:return b(e,t,r);case a.TimeUnit.MICROSECOND:return _(e,t,r);case a.TimeUnit.NANOSECOND:return m(e,t,r)}},o.prototype.visitTimestampSecond=y,o.prototype.visitTimestampMillisecond=b,o.prototype.visitTimestampMicrosecond=_,o.prototype.visitTimestampNanosecond=m,o.prototype.visitTime=(e,t,r)=>{switch(e.type.unit){case a.TimeUnit.SECOND:return g(e,t,r);case a.TimeUnit.MILLISECOND:return v(e,t,r);case a.TimeUnit.MICROSECOND:return w(e,t,r);case a.TimeUnit.NANOSECOND:return B(e,t,r)}},o.prototype.visitTimeSecond=g,o.prototype.visitTimeMillisecond=v,o.prototype.visitTimeMicrosecond=w,o.prototype.visitTimeNanosecond=B,o.prototype.visitDecimal=({values:e},t,r)=>{e.set(r.subarray(0,4),4*t)},o.prototype.visitList=(e,t,r)=>{let i=e.getChildAt(0),n=e.valueOffsets;for(let e=-1,s=n[t],a=n[t+1];s<a;)i.set(s++,r.get(++e))},o.prototype.visitStruct=(e,r,i)=>{let n=i instanceof Map?((e,t)=>(r,i,n)=>null==r?void 0:r.set(e,t.get(i.name)))(r,i):i instanceof t.Vector?((e,t)=>(r,i,n)=>null==r?void 0:r.set(e,t.get(n)))(r,i):Array.isArray(i)?((e,t)=>(r,i,n)=>null==r?void 0:r.set(e,t[n]))(r,i):((e,t)=>(r,i,n)=>null==r?void 0:r.set(e,t[i.name]))(r,i);e.type.children.forEach(((t,r)=>n(e.getChildAt(r),t,r)))},o.prototype.visitUnion=(e,t,r)=>{e.type.mode===a.UnionMode.Dense?T(e,t,r):A(e,t,r)},o.prototype.visitDenseUnion=T,o.prototype.visitSparseUnion=A,o.prototype.visitDictionary=(e,t,r)=>{let i=e.getKey(t);null!==i&&e.setValue(i,r)},o.prototype.visitInterval=(e,t,r)=>{e.type.unit===a.IntervalUnit.DAY_TIME?D(e,t,r):F(e,t,r)},o.prototype.visitIntervalDayTime=D,o.prototype.visitIntervalYearMonth=F,o.prototype.visitFixedSizeList=(e,t,r)=>{let i=e.getChildAt(0),{stride:n}=e;for(let e=-1,s=t*n;++e<n;)i.set(s+e,r.get(e))},o.prototype.visitMap=(e,t,r)=>{let i=e.getChildAt(0),n=e.valueOffsets,s=r instanceof Map?[...r]:Object.entries(r);for(let e=-1,r=n[t],a=n[t+1];r<a;)i.set(r++,s[++e])},e.instance=new o})),le=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.GetBuilderCtor=void 0;var t=ae(),r=Z(),i=N(),n=k(),s=C(),a=z(),o=W(),l=re(),u=Y(),c=q(),d=G(),h=te(),f=ie(),p=j(),y=ne(),b=J(),_=K(),m=se(),g=X(),v=class extends t.Visitor{visitNull(){return p.NullBuilder}visitBool(){return i.BoolBuilder}visitInt(){return d.IntBuilder}visitInt8(){return d.Int8Builder}visitInt16(){return d.Int16Builder}visitInt32(){return d.Int32Builder}visitInt64(){return d.Int64Builder}visitUint8(){return d.Uint8Builder}visitUint16(){return d.Uint16Builder}visitUint32(){return d.Uint32Builder}visitUint64(){return d.Uint64Builder}visitFloat(){return u.FloatBuilder}visitFloat16(){return u.Float16Builder}visitFloat32(){return u.Float32Builder}visitFloat64(){return u.Float64Builder}visitUtf8(){return g.Utf8Builder}visitBinary(){return r.BinaryBuilder}visitFixedSizeBinary(){return o.FixedSizeBinaryBuilder}visitDate(){return n.DateBuilder}visitDateDay(){return n.DateDayBuilder}visitDateMillisecond(){return n.DateMillisecondBuilder}visitTimestamp(){return b.TimestampBuilder}visitTimestampSecond(){return b.TimestampSecondBuilder}visitTimestampMillisecond(){return b.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return b.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return b.TimestampNanosecondBuilder}visitTime(){return _.TimeBuilder}visitTimeSecond(){return _.TimeSecondBuilder}visitTimeMillisecond(){return _.TimeMillisecondBuilder}visitTimeMicrosecond(){return _.TimeMicrosecondBuilder}visitTimeNanosecond(){return _.TimeNanosecondBuilder}visitDecimal(){return s.DecimalBuilder}visitList(){return h.ListBuilder}visitStruct(){return y.StructBuilder}visitUnion(){return m.UnionBuilder}visitDenseUnion(){return m.DenseUnionBuilder}visitSparseUnion(){return m.SparseUnionBuilder}visitDictionary(){return a.DictionaryBuilder}visitInterval(){return c.IntervalBuilder}visitIntervalDayTime(){return c.IntervalDayTimeBuilder}visitIntervalYearMonth(){return c.IntervalYearMonthBuilder}visitFixedSizeList(){return l.FixedSizeListBuilder}visitMap(){return f.MapBuilder}};e.GetBuilderCtor=v,e.instance=new v})),ue=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseUnionBuilder=e.SparseUnionBuilder=e.UnionBuilder=e.StructBuilder=e.MapBuilder=e.FixedSizeListBuilder=e.ListBuilder=e.BinaryBuilder=e.Utf8Builder=e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=e.FixedSizeBinaryBuilder=e.DictionaryBuilder=e.DecimalBuilder=e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=e.NullBuilder=e.BoolBuilder=e.Builder=void 0;var t=x();Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return t.Builder}});var r=N();Object.defineProperty(e,"BoolBuilder",{enumerable:!0,get:function(){return r.BoolBuilder}});var i=j();Object.defineProperty(e,"NullBuilder",{enumerable:!0,get:function(){return i.NullBuilder}});var n=k();Object.defineProperty(e,"DateBuilder",{enumerable:!0,get:function(){return n.DateBuilder}}),Object.defineProperty(e,"DateDayBuilder",{enumerable:!0,get:function(){return n.DateDayBuilder}}),Object.defineProperty(e,"DateMillisecondBuilder",{enumerable:!0,get:function(){return n.DateMillisecondBuilder}});var s=C();Object.defineProperty(e,"DecimalBuilder",{enumerable:!0,get:function(){return s.DecimalBuilder}});var a=z();Object.defineProperty(e,"DictionaryBuilder",{enumerable:!0,get:function(){return a.DictionaryBuilder}});var o=W();Object.defineProperty(e,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return o.FixedSizeBinaryBuilder}});var l=Y();Object.defineProperty(e,"FloatBuilder",{enumerable:!0,get:function(){return l.FloatBuilder}}),Object.defineProperty(e,"Float16Builder",{enumerable:!0,get:function(){return l.Float16Builder}}),Object.defineProperty(e,"Float32Builder",{enumerable:!0,get:function(){return l.Float32Builder}}),Object.defineProperty(e,"Float64Builder",{enumerable:!0,get:function(){return l.Float64Builder}});var u=G();Object.defineProperty(e,"IntBuilder",{enumerable:!0,get:function(){return u.IntBuilder}}),Object.defineProperty(e,"Int8Builder",{enumerable:!0,get:function(){return u.Int8Builder}}),Object.defineProperty(e,"Int16Builder",{enumerable:!0,get:function(){return u.Int16Builder}}),Object.defineProperty(e,"Int32Builder",{enumerable:!0,get:function(){return u.Int32Builder}}),Object.defineProperty(e,"Int64Builder",{enumerable:!0,get:function(){return u.Int64Builder}}),Object.defineProperty(e,"Uint8Builder",{enumerable:!0,get:function(){return u.Uint8Builder}}),Object.defineProperty(e,"Uint16Builder",{enumerable:!0,get:function(){return u.Uint16Builder}}),Object.defineProperty(e,"Uint32Builder",{enumerable:!0,get:function(){return u.Uint32Builder}}),Object.defineProperty(e,"Uint64Builder",{enumerable:!0,get:function(){return u.Uint64Builder}});var c=K();Object.defineProperty(e,"TimeBuilder",{enumerable:!0,get:function(){return c.TimeBuilder}}),Object.defineProperty(e,"TimeSecondBuilder",{enumerable:!0,get:function(){return c.TimeSecondBuilder}}),Object.defineProperty(e,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return c.TimeMillisecondBuilder}}),Object.defineProperty(e,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return c.TimeMicrosecondBuilder}}),Object.defineProperty(e,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return c.TimeNanosecondBuilder}});var d=J();Object.defineProperty(e,"TimestampBuilder",{enumerable:!0,get:function(){return d.TimestampBuilder}}),Object.defineProperty(e,"TimestampSecondBuilder",{enumerable:!0,get:function(){return d.TimestampSecondBuilder}}),Object.defineProperty(e,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return d.TimestampMillisecondBuilder}}),Object.defineProperty(e,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return d.TimestampMicrosecondBuilder}}),Object.defineProperty(e,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return d.TimestampNanosecondBuilder}});var h=q();Object.defineProperty(e,"IntervalBuilder",{enumerable:!0,get:function(){return h.IntervalBuilder}}),Object.defineProperty(e,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return h.IntervalDayTimeBuilder}}),Object.defineProperty(e,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return h.IntervalYearMonthBuilder}});var f=X();Object.defineProperty(e,"Utf8Builder",{enumerable:!0,get:function(){return f.Utf8Builder}});var p=Z();Object.defineProperty(e,"BinaryBuilder",{enumerable:!0,get:function(){return p.BinaryBuilder}});var y=te();Object.defineProperty(e,"ListBuilder",{enumerable:!0,get:function(){return y.ListBuilder}});var b=re();Object.defineProperty(e,"FixedSizeListBuilder",{enumerable:!0,get:function(){return b.FixedSizeListBuilder}});var _=ie();Object.defineProperty(e,"MapBuilder",{enumerable:!0,get:function(){return _.MapBuilder}});var m=ne();Object.defineProperty(e,"StructBuilder",{enumerable:!0,get:function(){return m.StructBuilder}});var g=se();Object.defineProperty(e,"UnionBuilder",{enumerable:!0,get:function(){return g.UnionBuilder}}),Object.defineProperty(e,"SparseUnionBuilder",{enumerable:!0,get:function(){return g.SparseUnionBuilder}}),Object.defineProperty(e,"DenseUnionBuilder",{enumerable:!0,get:function(){return g.DenseUnionBuilder}});var v=M(),w=X(),I=x(),B=oe(),T=le();I.Builder.new=function e(t){let r=t.type,i=new(T.instance.getVisitFn(r)())(t);if(r.children&&r.children.length>0){let n=t.children||[],s={nullValues:t.nullValues},a=Array.isArray(n)?(e,t)=>n[t]||s:({name:e})=>n[e]||s;r.children.forEach(((t,r)=>{let{type:n}=t,s=a(t,r);i.children.push(e(Object.assign(Object.assign({},s),{type:n})))}))}return i},Object.keys(v.Type).map((e=>v.Type[e])).filter((e=>"number"==typeof e&&e!==v.Type.NONE)).forEach((e=>{T.instance.visit(e).prototype._setValue=B.instance.getVisitFn(e)})),w.Utf8Builder.prototype._setValue=B.instance.visitBinary})),ce=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Block=e.Footer=void 0;var t=w(),r=D(),i=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,r){return e.setPosition(e.position()+t.flatbuffers.SIZE_PREFIX_LENGTH),(r||new i).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):r.MetadataVersion.V1}schema(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new r.Schema).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new n).__init(this.bb.__vector(this.bb_pos+r)+24*e,this.bb):null}dictionariesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,t){let r=this.bb.__offset(this.bb_pos,10);return r?(t||new n).__init(this.bb.__vector(this.bb_pos+r)+24*e,this.bb):null}recordBatchesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let i=this.bb.__offset(this.bb_pos,12);return i?(t||new r.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*e),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,r.MetadataVersion.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static finishSizePrefixedFooterBuffer(e,t){e.finish(t,void 0,!0)}static createFooter(e,t,r,n,s,a){return i.startFooter(e),i.addVersion(e,t),i.addSchema(e,r),i.addDictionaries(e,n),i.addRecordBatches(e,s),i.addCustomMetadata(e,a),i.endFooter(e)}};e.Footer=i;var n=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static createBlock(e,t,r,i){return e.prep(8,24),e.writeInt64(i),e.pad(4),e.writeInt32(r),e.writeInt64(t),e.offset()}};e.Block=n})),de=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileBlock=e.Footer=void 0;var t=ce(),r=w(),i=r.flatbuffers.Long,n=r.flatbuffers.Builder,s=r.flatbuffers.ByteBuffer,a=ee(),o=M(),l=S(),u=class{constructor(e,t=o.MetadataVersion.V4,r,i){this.schema=e,this.version=t,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(e){e=new s(l.toUint8Array(e));let r=t.Footer.getRootAsFooter(e),i=a.Schema.decode(r.schema());return new c(i,r)}static encode(e){let r=new n,i=a.Schema.encode(r,e.schema);t.Footer.startRecordBatchesVector(r,e.numRecordBatches),[...e.recordBatches()].slice().reverse().forEach((e=>d.encode(r,e)));let s=r.endVector();t.Footer.startDictionariesVector(r,e.numDictionaries),[...e.dictionaryBatches()].slice().reverse().forEach((e=>d.encode(r,e)));let l=r.endVector();return t.Footer.startFooter(r),t.Footer.addSchema(r,i),t.Footer.addVersion(r,o.MetadataVersion.V4),t.Footer.addRecordBatches(r,s),t.Footer.addDictionaries(r,l),t.Footer.finishFooterBuffer(r,t.Footer.endFooter(r)),r.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,r=this.numRecordBatches;++t<r;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,r=this.numDictionaries;++t<r;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}};e.Footer=u;var c=class extends u{constructor(e,t){super(e,t.version()),this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let t=this._footer.recordBatches(e);if(t)return d.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let t=this._footer.dictionaries(e);if(t)return d.decode(t)}return null}},d=class{constructor(e,t,r){this.metaDataLength=e,this.offset="number"==typeof r?r:r.low,this.bodyLength="number"==typeof t?t:t.low}static decode(e){return new d(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,r){let{metaDataLength:n}=r,s=new i(r.offset,0),a=new i(r.bodyLength,0);return t.Block.createBlock(e,s,n,a)}};e.FileBlock=d})),he=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncByteStream=e.ByteStream=e.AsyncByteQueue=void 0;var t=v(),r=A(),i=I(),n=B(),s=S(),a=T(),o=class extends n.AsyncQueue{write(e){if((e=s.toUint8Array(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?i.decodeUtf8(this.toUint8Array(!0)):this.toUint8Array(!1).then(i.decodeUtf8)}toUint8Array(e=!1){return e?s.joinUint8Arrays(this._values)[0]:(()=>t.__awaiter(this,void 0,void 0,(function*(){var e,r;let i=[],n=0;try{for(var a,o=t.__asyncValues(this);!(a=yield o.next()).done;){let e=a.value;i.push(e),n+=e.byteLength}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(e)throw e.error}}return s.joinUint8Arrays(i,n)[0]})))()}};e.AsyncByteQueue=o;var l=class{constructor(e){e&&(this.source=new c(r.default.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};e.ByteStream=l;var u=class{constructor(e){e instanceof u?this.source=e.source:e instanceof o?this.source=new d(r.default.fromAsyncIterable(e)):a.isReadableNodeStream(e)?this.source=new d(r.default.fromNodeStream(e)):a.isReadableDOMStream(e)?this.source=new d(r.default.fromDOMStream(e)):a.isFetchResponse(e)?this.source=new d(r.default.fromDOMStream(e.body)):a.isIterable(e)?this.source=new d(r.default.fromIterable(e)):(a.isPromise(e)||a.isAsyncIterable(e))&&(this.source=new d(r.default.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};e.AsyncByteStream=u;var c=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||n.ITERATOR_DONE)}return(e){return Object.create(this.source.return&&this.source.return(e)||n.ITERATOR_DONE)}},d=class{constructor(e){this.source=e,this._closedPromise=new Promise((e=>this._closedPromiseResolve=e))}cancel(e){return t.__awaiter(this,void 0,void 0,(function*(){yield this.return(e)}))}get closed(){return this._closedPromise}read(e){return t.__awaiter(this,void 0,void 0,(function*(){return(yield this.next(e,"read")).value}))}peek(e){return t.__awaiter(this,void 0,void 0,(function*(){return(yield this.next(e,"peek")).value}))}next(e,r="read"){return t.__awaiter(this,void 0,void 0,(function*(){return yield this.source.next({cmd:r,size:e})}))}throw(e){return t.__awaiter(this,void 0,void 0,(function*(){let t=this.source.throw&&(yield this.source.throw(e))||n.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)}))}return(e){return t.__awaiter(this,void 0,void 0,(function*(){let t=this.source.return&&(yield this.source.return(e))||n.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)}))}}})),fe=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncRandomAccessFile=e.RandomAccessFile=void 0;var t=v(),r=he(),i=S(),n=class extends r.ByteStream{constructor(e,t){super(),this.position=0,this.buffer=i.toUint8Array(e),this.size=void 0===t?this.buffer.byteLength:t}readInt32(e){let{buffer:t,byteOffset:r}=this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:t,size:r,position:i}=this;return t&&i<r?("number"!=typeof e&&(e=1/0),this.position=Math.min(r,i+Math.min(r-i,e)),t.subarray(i,this.position)):null}readAt(e,t){let r=this.buffer,i=Math.min(this.size,e+t);return r?r.subarray(e,i):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}};e.RandomAccessFile=n;var s=class extends r.AsyncByteStream{constructor(e,r){super(),this.position=0,this._handle=e,"number"==typeof r?this.size=r:this._pending=(()=>t.__awaiter(this,void 0,void 0,(function*(){this.size=(yield e.stat()).size,delete this._pending})))()}readInt32(e){return t.__awaiter(this,void 0,void 0,(function*(){let{buffer:t,byteOffset:r}=yield this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)}))}seek(e){return t.__awaiter(this,void 0,void 0,(function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size}))}read(e){return t.__awaiter(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);let{_handle:t,size:r,position:i}=this;if(t&&i<r){"number"!=typeof e&&(e=1/0);let n=i,s=0,a=0,o=Math.min(r,n+Math.min(r-n,e)),l=new Uint8Array(Math.max(0,(this.position=o)-n));for(;(n+=a)<o&&(s+=a)<l.byteLength;)({bytesRead:a}=yield t.read(l,s,l.byteLength-s,n));return l}return null}))}readAt(e,r){return t.__awaiter(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);let{_handle:t,size:i}=this;if(t&&e+r<i){let n=Math.min(i,e+r),s=new Uint8Array(n-e);return(yield t.read(s,0,r,e)).buffer}return new Uint8Array(r)}))}close(){return t.__awaiter(this,void 0,void 0,(function*(){let e=this._handle;this._handle=null,e&&(yield e.close())}))}throw(e){return t.__awaiter(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:e}}))}return(e){return t.__awaiter(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:e}}))}};e.AsyncRandomAccessFile=s})),pe=b((e=>{"use strict";function t(e){return e<0&&(e=4294967295+e+1),`0x${e.toString(16)}`}Object.defineProperty(e,"__esModule",{value:!0}),e.Int128=e.Int64=e.Uint64=e.BaseInt64=void 0;var r=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],i=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let t=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),r=new Uint32Array([e.buffer[1]>>>16,65535&e.buffer[1],e.buffer[0]>>>16,65535&e.buffer[0]]),i=t[3]*r[3];this.buffer[0]=65535&i;let n=i>>>16;return i=t[2]*r[3],n+=i,i=t[3]*r[2]>>>0,n+=i,this.buffer[0]+=n<<16,this.buffer[1]=n>>>0<i?65536:0,this.buffer[1]+=n>>>16,this.buffer[1]+=t[1]*r[3]+t[2]*r[2]+t[3]*r[1],this.buffer[1]+=t[0]*r[3]+t[1]*r[2]+t[2]*r[1]+t[3]*r[0]<<16,this}_plus(e){let t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${t(this.buffer[1])} ${t(this.buffer[0])}`}};e.BaseInt64=i;var n=class extends i{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return n.fromString("string"==typeof e?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return n.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let i=e.length,s=new n(t);for(let t=0;t<i;){let a=8<i-t?8:i-t,o=new n(new Uint32Array([parseInt(e.substr(t,a),10),0])),l=new n(new Uint32Array([r[a],0]));s.times(l),s.plus(o),t+=a}return s}static convertArray(e){let t=new Uint32Array(2*e.length);for(let r=-1,i=e.length;++r<i;)n.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new n(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new n(new Uint32Array(e.buffer)).plus(t)}};e.Uint64=n;var s=class extends i{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let t=this.buffer[1]<<0,r=e.buffer[1]<<0;return t<r||t===r&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return s.fromString("string"==typeof e?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return s.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let i=e.startsWith("-"),n=e.length,a=new s(t);for(let t=i?1:0;t<n;){let i=8<n-t?8:n-t,o=new s(new Uint32Array([parseInt(e.substr(t,i),10),0])),l=new s(new Uint32Array([r[i],0]));a.times(l),a.plus(o),t+=i}return i?a.negate():a}static convertArray(e){let t=new Uint32Array(2*e.length);for(let r=-1,i=e.length;++r<i;)s.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new s(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new s(new Uint32Array(e.buffer)).plus(t)}};e.Int64=s;var a=class{constructor(e){this.buffer=e}high(){return new s(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new s(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(e){let t=new n(new Uint32Array([this.buffer[3],0])),r=new n(new Uint32Array([this.buffer[2],0])),i=new n(new Uint32Array([this.buffer[1],0])),s=new n(new Uint32Array([this.buffer[0],0])),a=new n(new Uint32Array([e.buffer[3],0])),o=new n(new Uint32Array([e.buffer[2],0])),l=new n(new Uint32Array([e.buffer[1],0])),u=new n(new Uint32Array([e.buffer[0],0])),c=n.multiply(s,u);this.buffer[0]=c.low();let d=new n(new Uint32Array([c.high(),0]));return c=n.multiply(i,u),d.plus(c),c=n.multiply(s,l),d.plus(c),this.buffer[1]=d.low(),this.buffer[3]=d.lessThan(c)?1:0,this.buffer[2]=d.high(),new n(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(n.multiply(r,u)).plus(n.multiply(i,l)).plus(n.multiply(s,o)),this.buffer[3]+=n.multiply(t,u).plus(n.multiply(r,l)).plus(n.multiply(i,o)).plus(n.multiply(s,a)).low(),this}plus(e){let t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${t(this.buffer[3])} ${t(this.buffer[2])} ${t(this.buffer[1])} ${t(this.buffer[0])}`}static multiply(e,t){return new a(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new a(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return a.fromString("string"==typeof e?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return a.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){let i=e.startsWith("-"),n=e.length,s=new a(t);for(let t=i?1:0;t<n;){let i=8<n-t?8:n-t,o=new a(new Uint32Array([parseInt(e.substr(t,i),10),0,0,0])),l=new a(new Uint32Array([r[i],0,0,0]));s.times(l),s.plus(o),t+=i}return i?s.negate():s}static convertArray(e){let t=new Uint32Array(4*e.length);for(let r=-1,i=e.length;++r<i;)a.from(e[r],new Uint32Array(t.buffer,t.byteOffset+16*r,4));return t}};e.Int128=a})),ye=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSONVectorLoader=e.VectorLoader=void 0;var t=P(),r=ee(),i=V(),n=ae(),s=U(),a=I(),o=pe(),l=M(),u=S(),c=class extends n.Visitor{constructor(e,t,r,i){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=r,this.dictionaries=i}visit(e){return super.visit(e instanceof r.Field?e.type:e)}visitNull(e,{length:r}=this.nextFieldNode()){return t.Data.Null(e,0,r)}visitBool(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Bool(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitInt(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Int(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitFloat(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Float(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitUtf8(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Utf8(e,0,r,i,this.readNullBitmap(e,i),this.readOffsets(e),this.readData(e))}visitBinary(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Binary(e,0,r,i,this.readNullBitmap(e,i),this.readOffsets(e),this.readData(e))}visitFixedSizeBinary(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.FixedSizeBinary(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitDate(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Date(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitTimestamp(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Timestamp(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitTime(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Time(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitDecimal(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Decimal(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitList(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.List(e,0,r,i,this.readNullBitmap(e,i),this.readOffsets(e),this.visit(e.children[0]))}visitStruct(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Struct(e,0,r,i,this.readNullBitmap(e,i),this.visitMany(e.children))}visitUnion(e){return e.mode===l.UnionMode.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Union(e,0,r,i,this.readNullBitmap(e,i),this.readTypeIds(e),this.readOffsets(e),this.visitMany(e.children))}visitSparseUnion(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Union(e,0,r,i,this.readNullBitmap(e,i),this.readTypeIds(e),this.visitMany(e.children))}visitDictionary(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Dictionary(e,0,r,i,this.readNullBitmap(e,i),this.readData(e.indices),this.readDictionary(e))}visitInterval(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Interval(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitFixedSizeList(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.FixedSizeList(e,0,r,i,this.readNullBitmap(e,i),this.visit(e.children[0]))}visitMap(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Map(e,0,r,i,this.readNullBitmap(e,i),this.readOffsets(e),this.visit(e.children[0]))}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,r=this.nextBufferRange()){return t>0&&this.readData(e,r)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+t)}readDictionary(e){return this.dictionaries.get(e.id)}};e.VectorLoader=c,e.JSONVectorLoader=class extends c{constructor(e,t,r,i){super(new Uint8Array(0),t,r,i),this.sources=e}readNullBitmap(e,t,{offset:r}=this.nextBufferRange()){return t<=0?new Uint8Array(0):s.packBools(this.sources[r])}readOffsets(e,{offset:t}=this.nextBufferRange()){return u.toArrayBufferView(Uint8Array,u.toArrayBufferView(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return u.toArrayBufferView(Uint8Array,u.toArrayBufferView(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){let{sources:r}=this;return i.DataType.isTimestamp(e)||(i.DataType.isInt(e)||i.DataType.isTime(e))&&64===e.bitWidth||i.DataType.isDate(e)&&e.unit===l.DateUnit.MILLISECOND?u.toArrayBufferView(Uint8Array,o.Int64.convertArray(r[t])):i.DataType.isDecimal(e)?u.toArrayBufferView(Uint8Array,o.Int128.convertArray(r[t])):i.DataType.isBinary(e)||i.DataType.isFixedSizeBinary(e)?function(e){let t=e.join(""),r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)r[e>>1]=parseInt(t.substr(e,2),16);return r}(r[t]):i.DataType.isBool(e)?s.packBools(r[t]):i.DataType.isUtf8(e)?a.encodeUtf8(r[t].join("")):u.toArrayBufferView(Uint8Array,u.toArrayBufferView(e.ArrayType,r[t].map((e=>+e))))}}})),be=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StructRow=e.MapRow=void 0;var t=E(),r=Symbol.for("parent"),i=Symbol.for("rowIndex"),n=Symbol.for("keyToIdx"),s=Symbol.for("idxToVal"),a=Symbol.for("nodejs.util.inspect.custom"),o=class{constructor(e,t){this[r]=e,this.size=t}entries(){return this[Symbol.iterator]()}has(e){return void 0!==this.get(e)}get(e){let t;if(null!=e){let r=this[n]||(this[n]=new Map),i=r.get(e);if(void 0!==i){let e=this[s]||(this[s]=new Array(this.size));void 0!==(t=e[i])||(e[i]=t=this.getValue(i))}else if((i=this.getIndex(e))>-1){r.set(e,i);let n=this[s]||(this[s]=new Array(this.size));void 0!==(t=n[i])||(n[i]=t=this.getValue(i))}}return t}set(e,t){if(null!=e){let r=this[n]||(this[n]=new Map),i=r.get(e);void 0===i&&r.set(e,i=this.getIndex(e)),i>-1&&((this[s]||(this[s]=new Array(this.size)))[i]=this.setValue(i,t))}return this}clear(){throw new Error(`Clearing ${this[Symbol.toStringTag]} not supported.`)}delete(e){throw new Error(`Deleting ${this[Symbol.toStringTag]} values not supported.`)}*[Symbol.iterator](){let e=this.keys(),t=this.values(),r=this[n]||(this[n]=new Map),i=this[s]||(this[s]=new Array(this.size));for(let n,s,a,o,l=0;!(a=e.next()).done&&!(o=t.next()).done;++l)n=a.value,s=o.value,i[l]=s,r.has(n)||r.set(n,l),yield[n,s]}forEach(e,t){let r=this.keys(),i=this.values(),a=void 0===t?e:(r,i,n)=>e.call(t,r,i,n),o=this[n]||(this[n]=new Map),l=this[s]||(this[s]=new Array(this.size));for(let e,t,n,s,u=0;!(n=r.next()).done&&!(s=i.next()).done;++u)e=n.value,t=s.value,l[u]=t,o.has(e)||o.set(e,u),a(t,e,this)}toArray(){return[...this.values()]}toJSON(){let e={};return this.forEach(((t,r)=>e[r]=t)),e}inspect(){return this.toString()}[a](){return this.toString()}toString(){let e=[];return this.forEach(((r,i)=>{i=t.valueToString(i),r=t.valueToString(r),e.push(`${i}: ${r}`)})),`{ ${e.join(", ")} }`}};o[Symbol.toStringTag]=(e=>(Object.defineProperties(e,{size:{writable:!0,enumerable:!1,configurable:!1,value:0},[r]:{writable:!0,enumerable:!1,configurable:!1,value:null},[i]:{writable:!0,enumerable:!1,configurable:!1,value:-1}}),e[Symbol.toStringTag]="Row"))(o.prototype),e.MapRow=class extends o{constructor(e){return super(e,e.length),u(this)}keys(){return this[r].getChildAt(0)[Symbol.iterator]()}values(){return this[r].getChildAt(1)[Symbol.iterator]()}getKey(e){return this[r].getChildAt(0).get(e)}getIndex(e){return this[r].getChildAt(0).indexOf(e)}getValue(e){return this[r].getChildAt(1).get(e)}setValue(e,t){this[r].getChildAt(1).set(e,t)}},e.StructRow=class extends o{constructor(e){return super(e,e.type.children.length),l(this)}*keys(){for(let e of this[r].type.children)yield e.name}*values(){for(let e of this[r].type.children)yield this[e.name]}getKey(e){return this[r].type.children[e].name}getIndex(e){return this[r].type.children.findIndex((t=>t.name===e))}getValue(e){return this[r].getChildAt(e).get(this[i])}setValue(e,t){return this[r].getChildAt(e).set(this[i],t)}},Object.setPrototypeOf(o.prototype,Map.prototype);var l=(()=>{let e={enumerable:!0,configurable:!1,get:null,set:null};return t=>{let r=-1,i=t[n]||(t[n]=new Map),s=e=>function(){return this.get(e)},a=e=>function(t){return this.set(e,t)};for(let n of t.keys())i.set(n,++r),e.get=s(n),e.set=a(n),Object.prototype.hasOwnProperty.call(t,n)||(e.enumerable=!0,Object.defineProperty(t,n,e)),Object.prototype.hasOwnProperty.call(t,r)||(e.enumerable=!1,Object.defineProperty(t,r,e));return e.get=e.set=null,t}})(),u=(()=>{if("undefined"==typeof Proxy)return l;let e=o.prototype.has,t=o.prototype.get,u=o.prototype.set,c=o.prototype.getKey,d={isExtensible:()=>!1,deleteProperty:()=>!1,preventExtensions:()=>!0,ownKeys:e=>[...e.keys()].map((e=>`${e}`)),has(e,t){switch(t){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case r:case i:case s:case n:case a:return!0}return"number"==typeof t&&!e.has(t)&&(t=e.getKey(t)),e.has(t)},get(o,l,u){switch(l){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case r:case i:case s:case n:case a:return Reflect.get(o,l,u)}return"number"==typeof l&&!e.call(u,l)&&(l=c.call(u,l)),t.call(u,l)},set(t,a,o,l){switch(a){case r:case i:case s:case n:return Reflect.set(t,a,o,l);case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:return!1}return"number"==typeof a&&!e.call(l,a)&&(a=c.call(l,a)),!!e.call(l,a)&&!!u.call(l,a,o)}};return e=>new Proxy(e,d)})()})),_e=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElementComparator=e.clampRange=e.clampIndex=void 0;var t,r=O(),i=be(),n=S(),s=T();e.clampIndex=function(e,t,r){let i=e.length,n=t>-1?t:i+t%i;return r?r(e,n):n},e.clampRange=function(e,r,i,n){let{length:s=0}=e,a="number"!=typeof r?0:r,o="number"!=typeof i?s:i;return a<0&&(a=(a%s+s)%s),o<0&&(o=(o%s+s)%s),o<a&&(t=a,a=o,o=t),o>s&&(o=s),n?n(e,a,o):[a,o]};var a=s.BigIntAvailable?s.BigInt(0):0,o=e=>e!=e;function l(e,t){return n=>{if(!n||"object"!=typeof n)return!1;switch(n.constructor){case Array:return function(e,t){let r=e.length;if(t.length!==r)return!1;for(let i=-1;++i<r;)if(!e[i](t[i]))return!1;return!0}(e,n);case Map:case i.MapRow:case i.StructRow:return u(e,n,n.keys());case Object:case void 0:return u(e,n,t||Object.keys(n))}return n instanceof r.Vector&&function(e,t){let r=e.length;if(t.length!==r)return!1;for(let i=-1;++i<r;)if(!e[i](t.get(i)))return!1;return!0}(e,n)}}function u(e,t,r){let i=r[Symbol.iterator](),n=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator](),a=0,o=e.length,l=s.next(),u=i.next(),c=n.next();for(;a<o&&!u.done&&!c.done&&!l.done&&u.value===c.value&&e[a](l.value);++a,u=i.next(),c=n.next(),l=s.next());return!!(a===o&&u.done&&c.done&&l.done)||(i.return&&i.return(),n.return&&n.return(),s.return&&s.return(),!1)}e.createElementComparator=function e(t){let i=typeof t;if("object"!==i||null===t)return o(t)?o:"bigint"!==i?e=>e===t:e=>a+e===t;if(t instanceof Date){let e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&n.compareArrayLike(t,e):t instanceof Map?function(t){let r=-1,i=[];return t.forEach((t=>i[++r]=e(t))),l(i)}(t):Array.isArray(t)?function(t){let r=[];for(let i=-1,n=t.length;++i<n;)r[i]=e(t[i]);return l(r)}(t):t instanceof r.Vector?function(t){let r=[];for(let i=-1,n=t.length;++i<n;)r[i]=e(t.get(i));return l(r)}(t):function(t){let r=Object.keys(t);if(0===r.length)return()=>!1;let i=[];for(let n=-1,s=r.length;++n<s;)i[n]=e(t[r[n]]);return l(i,r)}(t)}})),me=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.selectColumnChildrenArgs=e.selectVectorChildrenArgs=e.selectChunkArgs=e.selectFieldArgs=e.selectColumnArgs=e.selectArgs=e.arrayTypeToDataType=e.isTypedArray=void 0;var t=P(),r=ee(),i=ve(),n=O(),s=V(),a=ge(),o=Array.isArray;function l(e){return ArrayBuffer.isView(e)&&"BYTES_PER_ELEMENT"in e}function u(e){switch(e){case Int8Array:return s.Int8;case Int16Array:return s.Int16;case Int32Array:return s.Int32;case BigInt64Array:return s.Int64;case Uint8Array:return s.Uint8;case Uint16Array:return s.Uint16;case Uint32Array:return s.Uint32;case BigUint64Array:return s.Uint64;case Float32Array:return s.Float32;case Float64Array:return s.Float64;default:return null}}function c(e,t,r,i){let n,s=i,a=-1,l=t.length;for(;++a<l;)o(n=t[a])?s=c(e,n,r,s).length:n instanceof e&&(r[s++]=n);return r}function d(e,t,r,i){let n,s=i,l=-1,u=t.length;for(;++l<u;)o(n=t[l])?s=d(e,n,r,s).length:n instanceof a.Chunked?s=d(e,n.chunks,r,s).length:n instanceof e&&(r[s++]=n);return r}function h(e,t,r,i){let s,a=i,l=-1,u=t.length;for(;++l<u;)o(s=t[l])?a=h(e,s,r,a).length:s instanceof e?a=c(n.Vector,s.schema.fields.map(((e,t)=>s.getChildAt(t))),r,a).length:s instanceof n.Vector&&(r[a++]=s);return r}function f(e,t,r,n){let s,a=n,l=-1,u=t.length;for(;++l<u;)o(s=t[l])?a=f(e,s,r,a).length:s instanceof e?a=c(i.Column,s.schema.fields.map(((e,t)=>i.Column.new(e,s.getChildAt(t)))),r,a).length:s instanceof i.Column&&(r[a++]=s);return r}e.isTypedArray=l,e.arrayTypeToDataType=u,e.selectArgs=(e,t)=>c(e,t,[],0),e.selectColumnArgs=e=>{let[r,s]=y(e,[[],[]]);return s.map(((e,s)=>e instanceof i.Column?i.Column.new(e.field.clone(r[s]),e):e instanceof n.Vector?i.Column.new(r[s],e):l(e)?i.Column.new(r[s],function(e){let r=u(e.constructor);if(!r)throw new TypeError("Unrecognized Array input");let i=new r,s=t.Data.new(i,0,e.length,0,[void 0,e]);return n.Vector.new(s)}(e)):i.Column.new(r[s],[])))},e.selectFieldArgs=e=>y(e,[[],[]]),e.selectChunkArgs=(e,t)=>d(e,t,[],0),e.selectVectorChildrenArgs=(e,t)=>h(e,t,[],0),e.selectColumnChildrenArgs=(e,t)=>f(e,t,[],0);var p=(e,[t,r],i)=>(e[0][i]=t,e[1][i]=r,e);function y(e,a){let u,c;switch(c=e.length){case 0:return a;case 1:if(u=a[0],!e[0])return a;if(o(e[0]))return y(e[0],a);e[0]instanceof t.Data||e[0]instanceof n.Vector||l(e[0])||e[0]instanceof s.DataType||([u,e]=Object.entries(e[0]).reduce(p,a));break;default:o(u=e[c-1])?e=o(e[0])?e[0]:e.slice(0,c-1):(e=o(e[0])?e[0]:e,u=[])}let d,h,f=-1,b=-1,_=-1,m=e.length,[g,v]=a;for(;++_<m;)h=e[_],h instanceof i.Column&&(v[++b]=h)?g[++f]=h.field.clone(u[_],h.type,!0):(({[_]:d=_}=u),h instanceof s.DataType&&(v[++b]=h)?g[++f]=r.Field.new(d,h,!0):(null==h?void 0:h.type)&&(v[++b]=h)&&(h instanceof t.Data&&(v[b]=h=n.Vector.new(h)),g[++f]=r.Field.new(d,h.type,!0)));return a}})),ge=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Chunked=void 0;var t=_e(),r=V(),i=me(),n=O(),s=class{constructor(e){this.chunks=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator()}next(){for(;this.chunkIndex<this.chunks.length;){let e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.chunks.length&&(this.chunkIterator=this.getChunkIterator())}return{done:!0,value:null}}getChunkIterator(){return this.chunks[this.chunkIndex][Symbol.iterator]()}[Symbol.iterator](){return this}},a=class extends n.AbstractVector{constructor(e,t=[],r=function(e){let t=new Uint32Array((e||[]).length+1),r=t[0]=0,i=t.length;for(let n=0;++n<i;)t[n]=r+=e[n-1].length;return t}(t)){super(),this._nullCount=-1,this._type=e,this._chunks=t,this._chunkOffsets=r,this._length=r[r.length-1],this._numChildren=(this._type.children||[]).length}static flatten(...e){return i.selectChunkArgs(n.Vector,e)}static concat(...e){let t=a.flatten(...e);return new a(t[0].type,t)}get type(){return this._type}get length(){return this._length}get chunks(){return this._chunks}get typeId(){return this._type.typeId}get VectorName(){return`Chunked<${this._type}>`}get data(){return this._chunks[0]?this._chunks[0].data:null}get ArrayType(){return this._type.ArrayType}get numChildren(){return this._numChildren}get stride(){return this._chunks[0]?this._chunks[0].stride:1}get byteLength(){return this._chunks.reduce(((e,t)=>e+t.byteLength),0)}get nullCount(){let e=this._nullCount;return e<0&&(this._nullCount=e=this._chunks.reduce(((e,{nullCount:t})=>e+t),0)),e}get indices(){if(r.DataType.isDictionary(this._type)){if(!this._indices){let e=this._chunks;this._indices=1===e.length?e[0].indices:a.concat(...e.map((e=>e.indices)))}return this._indices}return null}get dictionary(){return r.DataType.isDictionary(this._type)?this._chunks[this._chunks.length-1].data.dictionary:null}[Symbol.iterator](){return new s(this._chunks)}clone(e=this._chunks){return new a(this._type,e)}concat(...e){return this.clone(a.flatten(this,...e))}slice(e,r){return t.clampRange(this,e,r,this._sliceInternal)}getChildAt(e){if(e<0||e>=this._numChildren)return null;let t,r,i,n=this._children||(this._children=[]);return(t=n[e])?t:(r=(this._type.children||[])[e])&&(i=this._chunks.map((t=>t.getChildAt(e))).filter((e=>null!=e)),i.length>0)?n[e]=new a(r.type,i):null}search(e,t){let r=e,i=this._chunkOffsets,n=i.length-1;if(r<0||r>=i[n])return null;if(n<=1)return t?t(this,0,r):[0,r];let s=0,a=0,o=0;do{if(s+1===n)return t?t(this,s,r-a):[s,r-a];o=s+(n-s)/2|0,r>=i[o]?s=o:n=o}while(r<i[n]&&r>=(a=i[s]));return null}isValid(e){return!!this.search(e,this.isValidInternal)}get(e){return this.search(e,this.getInternal)}set(e,t){this.search(e,(({chunks:e},r,i)=>e[r].set(i,t)))}indexOf(e,t){return t&&"number"==typeof t?this.search(t,((t,r,i)=>this.indexOfInternal(t,r,i,e))):this.indexOfInternal(this,0,Math.max(0,t||0),e)}toArray(){let{chunks:e}=this,t=e.length,r=this._type.ArrayType;if(t<=0)return new r(0);if(t<=1)return e[0].toArray();let i=0,n=new Array(t);for(let r=-1;++r<t;)i+=(n[r]=e[r].toArray()).length;r!==n[0].constructor&&(r=n[0].constructor);let s=new r(i),a=r===Array?l:o;for(let e=-1,r=0;++e<t;)r=a(n[e],s,r);return s}getInternal({_chunks:e},t,r){return e[t].get(r)}isValidInternal({_chunks:e},t,r){return e[t].isValid(r)}indexOfInternal({_chunks:e},t,r,i){let n=t-1,s=e.length,a=r,o=0,l=-1;for(;++n<s;){if(~(l=e[n].indexOf(i,a)))return o+l;a=0,o+=e[n].length}return-1}_sliceInternal(e,t,r){let i=[],{chunks:n,_chunkOffsets:s}=e;for(let e=-1,a=n.length;++e<a;){let a=n[e],o=a.length,l=s[e];if(l>=r)break;if(t>=l+o)continue;if(l>=t&&l+o<=r){i.push(a);continue}let u=Math.max(0,t-l),c=Math.min(r-l,o);i.push(a.slice(u,c))}return e.clone(i)}};e.Chunked=a;var o=(e,t,r)=>(t.set(e,r),r+e.length),l=(e,t,r)=>{let i=r;for(let r=-1,n=e.length;++r<n;)t[i++]=e[r];return i}})),ve=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Column=void 0;var t=ee(),r=O(),i=ge(),n=class extends i.Chunked{constructor(e,t=[],r){if(t=i.Chunked.flatten(...t),super(e.type,t,r),this._field=e,1===t.length&&!(this instanceof s))return new s(e,t[0],this._chunkOffsets)}static new(...e){let[s,a,...o]=e;"string"!=typeof s&&!(s instanceof t.Field)&&(a=s,s="");let l=i.Chunked.flatten(Array.isArray(a)?[...a,...o]:a instanceof r.Vector?[a,...o]:[r.Vector.new(a,...o)]);if("string"==typeof s){let e=l[0].data.type;s=new t.Field(s,e,!0)}else!s.nullable&&l.some((({nullCount:e})=>e>0))&&(s=s.clone({nullable:!0}));return new n(s,l)}get field(){return this._field}get name(){return this._field.name}get nullable(){return this._field.nullable}get metadata(){return this._field.metadata}clone(e=this._chunks){return new n(this._field,e)}getChildAt(e){if(e<0||e>=this.numChildren)return null;let t,r,i,s=this._children||(this._children=[]);return(t=s[e])?t:(r=(this.type.children||[])[e])&&(i=this._chunks.map((t=>t.getChildAt(e))).filter((e=>null!=e)),i.length>0)?s[e]=new n(r,i):null}};e.Column=n;var s=class extends n{constructor(e,t,r){super(e,[t],r),this._chunk=t}search(e,t){return t?t(this,0,e):[0,e]}isValid(e){return this._chunk.isValid(e)}get(e){return this._chunk.get(e)}set(e,t){this._chunk.set(e,t)}indexOf(e,t){return this._chunk.indexOf(e,t)}}})),we=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.TypeAssembler=void 0;var t=w().flatbuffers.Long,r=ae(),i=D(),n=class extends r.Visitor{visit(e,t){return null==e||null==t?void 0:super.visit(e,t)}visitNull(e,t){return i.Null.startNull(t),i.Null.endNull(t)}visitInt(e,t){return i.Int.startInt(t),i.Int.addBitWidth(t,e.bitWidth),i.Int.addIsSigned(t,e.isSigned),i.Int.endInt(t)}visitFloat(e,t){return i.FloatingPoint.startFloatingPoint(t),i.FloatingPoint.addPrecision(t,e.precision),i.FloatingPoint.endFloatingPoint(t)}visitBinary(e,t){return i.Binary.startBinary(t),i.Binary.endBinary(t)}visitBool(e,t){return i.Bool.startBool(t),i.Bool.endBool(t)}visitUtf8(e,t){return i.Utf8.startUtf8(t),i.Utf8.endUtf8(t)}visitDecimal(e,t){return i.Decimal.startDecimal(t),i.Decimal.addScale(t,e.scale),i.Decimal.addPrecision(t,e.precision),i.Decimal.endDecimal(t)}visitDate(e,t){return i.Date.startDate(t),i.Date.addUnit(t,e.unit),i.Date.endDate(t)}visitTime(e,t){return i.Time.startTime(t),i.Time.addUnit(t,e.unit),i.Time.addBitWidth(t,e.bitWidth),i.Time.endTime(t)}visitTimestamp(e,t){let r=e.timezone&&t.createString(e.timezone)||void 0;return i.Timestamp.startTimestamp(t),i.Timestamp.addUnit(t,e.unit),void 0!==r&&i.Timestamp.addTimezone(t,r),i.Timestamp.endTimestamp(t)}visitInterval(e,t){return i.Interval.startInterval(t),i.Interval.addUnit(t,e.unit),i.Interval.endInterval(t)}visitList(e,t){return i.List.startList(t),i.List.endList(t)}visitStruct(e,t){return i.Struct_.startStruct_(t),i.Struct_.endStruct_(t)}visitUnion(e,t){i.Union.startTypeIdsVector(t,e.typeIds.length);let r=i.Union.createTypeIdsVector(t,e.typeIds);return i.Union.startUnion(t),i.Union.addMode(t,e.mode),i.Union.addTypeIds(t,r),i.Union.endUnion(t)}visitDictionary(e,r){let n=this.visit(e.indices,r);return i.DictionaryEncoding.startDictionaryEncoding(r),i.DictionaryEncoding.addId(r,new t(e.id,0)),i.DictionaryEncoding.addIsOrdered(r,e.isOrdered),void 0!==n&&i.DictionaryEncoding.addIndexType(r,n),i.DictionaryEncoding.endDictionaryEncoding(r)}visitFixedSizeBinary(e,t){return i.FixedSizeBinary.startFixedSizeBinary(t),i.FixedSizeBinary.addByteWidth(t,e.byteWidth),i.FixedSizeBinary.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return i.FixedSizeList.startFixedSizeList(t),i.FixedSizeList.addListSize(t,e.listSize),i.FixedSizeList.endFixedSizeList(t)}visitMap(e,t){return i.Map.startMap(t),i.Map.addKeysSorted(t,e.keysSorted),i.Map.endMap(t)}};e.TypeAssembler=n,e.instance=new n})),Ie=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fieldFromJSON=e.dictionaryBatchFromJSON=e.recordBatchFromJSON=e.schemaFromJSON=void 0;var t=ee(),r=V(),i=Be(),n=M();function s(e){return new i.RecordBatch(e.count,o(e.columns),l(e.columns))}function a(e,r){return(e.children||[]).filter(Boolean).map((e=>t.Field.fromJSON(e,r)))}function o(e){return(e||[]).reduce(((e,t)=>[...e,new i.FieldNode(t.count,u(t.VALIDITY)),...o(t.children)]),[])}function l(e,t=[]){for(let r=-1,n=(e||[]).length;++r<n;){let n=e[r];n.VALIDITY&&t.push(new i.BufferRegion(t.length,n.VALIDITY.length)),n.TYPE&&t.push(new i.BufferRegion(t.length,n.TYPE.length)),n.OFFSET&&t.push(new i.BufferRegion(t.length,n.OFFSET.length)),n.DATA&&t.push(new i.BufferRegion(t.length,n.DATA.length)),t=l(n.children,t)}return t}function u(e){return(e||[]).reduce(((e,t)=>e+ +(0===t)),0)}function c(e){return new Map(Object.entries(e||{}))}function d(e){return new r.Int(e.isSigned,e.bitWidth)}function h(e,t){let i=e.type.name;switch(i){case"NONE":case"null":return new r.Null;case"binary":return new r.Binary;case"utf8":return new r.Utf8;case"bool":return new r.Bool;case"list":return new r.List((t||[])[0]);case"struct":case"struct_":return new r.Struct(t||[])}switch(i){case"int":{let t=e.type;return new r.Int(t.isSigned,t.bitWidth)}case"floatingpoint":{let t=e.type;return new r.Float(n.Precision[t.precision])}case"decimal":{let t=e.type;return new r.Decimal(t.scale,t.precision)}case"date":{let t=e.type;return new r.Date_(n.DateUnit[t.unit])}case"time":{let t=e.type;return new r.Time(n.TimeUnit[t.unit],t.bitWidth)}case"timestamp":{let t=e.type;return new r.Timestamp(n.TimeUnit[t.unit],t.timezone)}case"interval":{let t=e.type;return new r.Interval(n.IntervalUnit[t.unit])}case"union":{let i=e.type;return new r.Union(n.UnionMode[i.mode],i.typeIds||[],t||[])}case"fixedsizebinary":{let t=e.type;return new r.FixedSizeBinary(t.byteWidth)}case"fixedsizelist":{let i=e.type;return new r.FixedSizeList(i.listSize,(t||[])[0])}case"map":{let i=e.type;return new r.Map_((t||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${i}"`)}e.schemaFromJSON=function(e,r=new Map){return new t.Schema(function(e,r){return(e.fields||[]).filter(Boolean).map((e=>t.Field.fromJSON(e,r)))}(e,r),c(e.customMetadata),r)},e.recordBatchFromJSON=s,e.dictionaryBatchFromJSON=function(e){return new i.DictionaryBatch(s(e.data),e.id,e.isDelta)},e.fieldFromJSON=function(e,i){let n,s,o,l,u,f;return i&&(l=e.dictionary)?i.has(n=l.id)?(s=(s=l.indexType)?d(s):new r.Int32,f=new r.Dictionary(i.get(n),s,n,l.isOrdered),o=new t.Field(e.name,f,e.nullable,c(e.customMetadata))):(s=(s=l.indexType)?d(s):new r.Int32,i.set(n,u=h(e,a(e,i))),f=new r.Dictionary(u,s,n,l.isOrdered),o=new t.Field(e.name,f,e.nullable,c(e.customMetadata))):(u=h(e,a(e,i)),o=new t.Field(e.name,u,e.nullable,c(e.customMetadata))),o||null}})),Be=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FieldNode=e.BufferRegion=e.DictionaryBatch=e.RecordBatch=e.Message=void 0;var t=w(),r=D(),i=F(),n=ee(),s=S(),a=M(),o=we(),l=Ie(),u=t.flatbuffers.Long,c=t.flatbuffers.Builder,d=t.flatbuffers.ByteBuffer,h=V(),f=class{constructor(e,t,r,i){this._version=t,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength="number"==typeof e?e:e.low}static fromJSON(e,t){let r=new f(0,a.MetadataVersion.V4,t);return r._createHeader=function(e,t){return()=>{switch(t){case a.MessageHeader.Schema:return n.Schema.fromJSON(e);case a.MessageHeader.RecordBatch:return p.fromJSON(e);case a.MessageHeader.DictionaryBatch:return y.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${a.MessageHeader[t]}, type: ${t} }`)}}(e,t),r}static decode(e){e=new d(s.toUint8Array(e));let t=i.Message.getRootAsMessage(e),o=t.bodyLength(),l=t.version(),u=t.headerType(),c=new f(o,l,u);return c._createHeader=function(e,t){return()=>{switch(t){case a.MessageHeader.Schema:return n.Schema.decode(e.header(new r.Schema));case a.MessageHeader.RecordBatch:return p.decode(e.header(new i.RecordBatch),e.version());case a.MessageHeader.DictionaryBatch:return y.decode(e.header(new i.DictionaryBatch),e.version())}throw new Error(`Unrecognized Message type: { name: ${a.MessageHeader[t]}, type: ${t} }`)}}(t,u),c}static encode(e){let t=new c,r=-1;return e.isSchema()?r=n.Schema.encode(t,e.header()):e.isRecordBatch()?r=p.encode(t,e.header()):e.isDictionaryBatch()&&(r=y.encode(t,e.header())),i.Message.startMessage(t),i.Message.addVersion(t,a.MetadataVersion.V4),i.Message.addHeader(t,r),i.Message.addHeaderType(t,e.headerType),i.Message.addBodyLength(t,new u(e.bodyLength,0)),i.Message.finishMessageBuffer(t,i.Message.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof n.Schema)return new f(0,a.MetadataVersion.V4,a.MessageHeader.Schema,e);if(e instanceof p)return new f(t,a.MetadataVersion.V4,a.MessageHeader.RecordBatch,e);if(e instanceof y)return new f(t,a.MetadataVersion.V4,a.MessageHeader.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===a.MessageHeader.Schema}isRecordBatch(){return this.headerType===a.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===a.MessageHeader.DictionaryBatch}};e.Message=f;var p=class{constructor(e,t,r){this._nodes=t,this._buffers=r,this._length="number"==typeof e?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}};e.RecordBatch=p;var y=class{constructor(e,t,r=!1){this._data=e,this._isDelta=r,this._id="number"==typeof t?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}};e.DictionaryBatch=y;var b=class{constructor(e,t){this.offset="number"==typeof e?e:e.low,this.length="number"==typeof t?t:t.low}};e.BufferRegion=b;var _=class{constructor(e,t){this.length="number"==typeof e?e:e.low,this.nullCount="number"==typeof t?t:t.low}};function m(e,t){let r=[];for(let i,s=-1,a=-1,o=e.childrenLength();++s<o;)(i=e.children(s))&&(r[++a]=n.Field.decode(i,t));return r}function g(e){let t=new Map;if(e)for(let r,i,n=-1,s=0|e.customMetadataLength();++n<s;)(r=e.customMetadata(n))&&null!=(i=r.key())&&t.set(i,r.value());return t}function v(e){return new h.Int(e.isSigned(),e.bitWidth())}function I(e,t){let i=e.typeType();switch(i){case r.Type.NONE:case r.Type.Null:return new h.Null;case r.Type.Binary:return new h.Binary;case r.Type.Utf8:return new h.Utf8;case r.Type.Bool:return new h.Bool;case r.Type.List:return new h.List((t||[])[0]);case r.Type.Struct_:return new h.Struct(t||[])}switch(i){case r.Type.Int:{let t=e.type(new r.Int);return new h.Int(t.isSigned(),t.bitWidth())}case r.Type.FloatingPoint:{let t=e.type(new r.FloatingPoint);return new h.Float(t.precision())}case r.Type.Decimal:{let t=e.type(new r.Decimal);return new h.Decimal(t.scale(),t.precision())}case r.Type.Date:{let t=e.type(new r.Date);return new h.Date_(t.unit())}case r.Type.Time:{let t=e.type(new r.Time);return new h.Time(t.unit(),t.bitWidth())}case r.Type.Timestamp:{let t=e.type(new r.Timestamp);return new h.Timestamp(t.unit(),t.timezone())}case r.Type.Interval:{let t=e.type(new r.Interval);return new h.Interval(t.unit())}case r.Type.Union:{let i=e.type(new r.Union);return new h.Union(i.mode(),i.typeIdsArray()||[],t||[])}case r.Type.FixedSizeBinary:{let t=e.type(new r.FixedSizeBinary);return new h.FixedSizeBinary(t.byteWidth())}case r.Type.FixedSizeList:{let i=e.type(new r.FixedSizeList);return new h.FixedSizeList(i.listSize(),(t||[])[0])}case r.Type.Map:{let i=e.type(new r.Map);return new h.Map_((t||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${r.Type[i]}" (${i})`)}e.FieldNode=_,n.Field.encode=function(e,t){let i=-1,s=-1,a=-1,l=t.type,u=t.typeId;h.DataType.isDictionary(l)?(u=l.dictionary.typeId,a=o.instance.visit(l,e),s=o.instance.visit(l.dictionary,e)):s=o.instance.visit(l,e);let c=(l.children||[]).map((t=>n.Field.encode(e,t))),d=r.Field.createChildrenVector(e,c),f=t.metadata&&t.metadata.size>0?r.Field.createCustomMetadataVector(e,[...t.metadata].map((([t,i])=>{let n=e.createString(`${t}`),s=e.createString(`${i}`);return r.KeyValue.startKeyValue(e),r.KeyValue.addKey(e,n),r.KeyValue.addValue(e,s),r.KeyValue.endKeyValue(e)}))):-1;return t.name&&(i=e.createString(t.name)),r.Field.startField(e),r.Field.addType(e,s),r.Field.addTypeType(e,u),r.Field.addChildren(e,d),r.Field.addNullable(e,!!t.nullable),-1!==i&&r.Field.addName(e,i),-1!==a&&r.Field.addDictionary(e,a),-1!==f&&r.Field.addCustomMetadata(e,f),r.Field.endField(e)},n.Field.decode=function(e,t){let r,i,s,a,o,l;return t&&(l=e.dictionary())?t.has(r=l.id().low)?(a=(a=l.indexType())?v(a):new h.Int32,o=new h.Dictionary(t.get(r),a,r,l.isOrdered()),i=new n.Field(e.name(),o,e.nullable(),g(e))):(a=(a=l.indexType())?v(a):new h.Int32,t.set(r,s=I(e,m(e,t))),o=new h.Dictionary(s,a,r,l.isOrdered()),i=new n.Field(e.name(),o,e.nullable(),g(e))):(s=I(e,m(e,t)),i=new n.Field(e.name(),s,e.nullable(),g(e))),i||null},n.Field.fromJSON=l.fieldFromJSON,n.Schema.encode=function(e,t){let i=t.fields.map((t=>n.Field.encode(e,t)));r.Schema.startFieldsVector(e,i.length);let s=r.Schema.createFieldsVector(e,i),a=t.metadata&&t.metadata.size>0?r.Schema.createCustomMetadataVector(e,[...t.metadata].map((([t,i])=>{let n=e.createString(`${t}`),s=e.createString(`${i}`);return r.KeyValue.startKeyValue(e),r.KeyValue.addKey(e,n),r.KeyValue.addValue(e,s),r.KeyValue.endKeyValue(e)}))):-1;return r.Schema.startSchema(e),r.Schema.addFields(e,s),r.Schema.addEndianness(e,B?r.Endianness.Little:r.Endianness.Big),-1!==a&&r.Schema.addCustomMetadata(e,a),r.Schema.endSchema(e)},n.Schema.decode=function(e,t=new Map){let r=function(e,t){let r=[];for(let i,s=-1,a=-1,o=e.fieldsLength();++s<o;)(i=e.fields(s))&&(r[++a]=n.Field.decode(i,t));return r}(e,t);return new n.Schema(r,g(e),t)},n.Schema.fromJSON=l.schemaFromJSON,p.encode=function(e,t){let r=t.nodes||[],n=t.buffers||[];i.RecordBatch.startNodesVector(e,r.length),r.slice().reverse().forEach((t=>_.encode(e,t)));let s=e.endVector();i.RecordBatch.startBuffersVector(e,n.length),n.slice().reverse().forEach((t=>b.encode(e,t)));let a=e.endVector();return i.RecordBatch.startRecordBatch(e),i.RecordBatch.addLength(e,new u(t.length,0)),i.RecordBatch.addNodes(e,s),i.RecordBatch.addBuffers(e,a),i.RecordBatch.endRecordBatch(e)},p.decode=function(e,t=a.MetadataVersion.V4){return new p(e.length(),function(e){let t=[];for(let r,i=-1,n=-1,s=e.nodesLength();++i<s;)(r=e.nodes(i))&&(t[++n]=_.decode(r));return t}(e),function(e,t){let r=[];for(let i,n=-1,s=-1,o=e.buffersLength();++n<o;)(i=e.buffers(n))&&(t<a.MetadataVersion.V4&&(i.bb_pos+=8*(n+1)),r[++s]=b.decode(i));return r}(e,t))},p.fromJSON=l.recordBatchFromJSON,y.encode=function(e,t){let r=p.encode(e,t.data);return i.DictionaryBatch.startDictionaryBatch(e),i.DictionaryBatch.addId(e,new u(t.id,0)),i.DictionaryBatch.addIsDelta(e,t.isDelta),i.DictionaryBatch.addData(e,r),i.DictionaryBatch.endDictionaryBatch(e)},y.decode=function(e,t=a.MetadataVersion.V4){return new y(p.decode(e.data(),t),e.id(),e.isDelta())},y.fromJSON=l.dictionaryBatchFromJSON,_.encode=function(e,t){return i.FieldNode.createFieldNode(e,new u(t.length,0),new u(t.nullCount,0))},_.decode=function(e){return new _(e.length(),e.nullCount())},b.encode=function(e,t){return r.Buffer.createBuffer(e,new u(t.offset,0),new u(t.length,0))},b.decode=function(e){return new b(e.offset(),e.length())};var B=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()})),Te=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.magicX2AndPadding=e.magicAndPadding=e.magicLength=e.checkForMagicArrowString=e.MAGIC=e.MAGIC_STR=e.PADDING=e.JSONMessageReader=e.AsyncMessageReader=e.MessageReader=void 0;var t=v(),r=M(),i=w().flatbuffers.ByteBuffer,n=Be(),s=T(),a=fe(),o=S(),l=he(),u=B(),c=e=>`Expected ${r.MessageHeader[e]} Message in stream, but was null or length 0.`,d=e=>`Header pointer of flatbuffer-encoded ${r.MessageHeader[e]} Message is null or length 0.`,h=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,f=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`,p=class{constructor(e){this.source=e instanceof l.ByteStream?e:new l.ByteStream(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||-1===e.value&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?u.ITERATOR_DONE:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(c(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let t=o.toUint8Array(this.source.read(e));if(t.byteLength<e)throw new Error(f(e,t.byteLength));return t.byteOffset%8==0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){let t=r.MessageHeader.Schema,i=this.readMessage(t),n=null==i?void 0:i.header();if(e&&!n)throw new Error(d(t));return n}readMetadataLength(){let t=this.source.read(e.PADDING),r=t&&new i(t),n=(null==r?void 0:r.readInt32(0))||0;return{done:0===n,value:n}}readMetadata(e){let t=this.source.read(e);if(!t)return u.ITERATOR_DONE;if(t.byteLength<e)throw new Error(h(e,t.byteLength));return{done:!1,value:n.Message.decode(t)}}};e.MessageReader=p;var y=class{constructor(e,t){this.source=e instanceof l.AsyncByteStream?e:s.isFileHandle(e)?new a.AsyncRandomAccessFile(e,t):new l.AsyncByteStream(e)}[Symbol.asyncIterator](){return this}next(){return t.__awaiter(this,void 0,void 0,(function*(){let e;return(e=yield this.readMetadataLength()).done||-1===e.value&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?u.ITERATOR_DONE:e}))}throw(e){return t.__awaiter(this,void 0,void 0,(function*(){return yield this.source.throw(e)}))}return(e){return t.__awaiter(this,void 0,void 0,(function*(){return yield this.source.return(e)}))}readMessage(e){return t.__awaiter(this,void 0,void 0,(function*(){let t;if((t=yield this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(c(e));return t.value}))}readMessageBody(e){return t.__awaiter(this,void 0,void 0,(function*(){if(e<=0)return new Uint8Array(0);let t=o.toUint8Array(yield this.source.read(e));if(t.byteLength<e)throw new Error(f(e,t.byteLength));return t.byteOffset%8==0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}))}readSchema(e=!1){return t.__awaiter(this,void 0,void 0,(function*(){let t=r.MessageHeader.Schema,i=yield this.readMessage(t),n=null==i?void 0:i.header();if(e&&!n)throw new Error(d(t));return n}))}readMetadataLength(){return t.__awaiter(this,void 0,void 0,(function*(){let t=yield this.source.read(e.PADDING),r=t&&new i(t),n=(null==r?void 0:r.readInt32(0))||0;return{done:0===n,value:n}}))}readMetadata(e){return t.__awaiter(this,void 0,void 0,(function*(){let t=yield this.source.read(e);if(!t)return u.ITERATOR_DONE;if(t.byteLength<e)throw new Error(h(e,t.byteLength));return{done:!1,value:n.Message.decode(t)}}))}};e.AsyncMessageReader=y,e.JSONMessageReader=class extends p{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof u.ArrowJSON?e:new u.ArrowJSON(e)}next(){let{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:n.Message.fromJSON(e.schema,r.MessageHeader.Schema)};if(this._dictionaryIndex<e.dictionaries.length){let t=e.dictionaries[this._dictionaryIndex++];return this._body=t.data.columns,{done:!1,value:n.Message.fromJSON(t,r.MessageHeader.DictionaryBatch)}}if(this._batchIndex<e.batches.length){let t=e.batches[this._batchIndex++];return this._body=t.columns,{done:!1,value:n.Message.fromJSON(t,r.MessageHeader.RecordBatch)}}return this._body=[],u.ITERATOR_DONE}readMessageBody(e){return function e(t){return(t||[]).reduce(((t,r)=>[...t,...r.VALIDITY&&[r.VALIDITY]||[],...r.TYPE&&[r.TYPE]||[],...r.OFFSET&&[r.OFFSET]||[],...r.DATA&&[r.DATA]||[],...e(r.children)]),[])}(this._body)}readMessage(e){let t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(c(e));return t.value}readSchema(){let e=r.MessageHeader.Schema,t=this.readMessage(e),i=null==t?void 0:t.header();if(!t||!i)throw new Error(d(e));return i}},e.PADDING=4,e.MAGIC_STR="ARROW1",e.MAGIC=new Uint8Array(e.MAGIC_STR.length);for(let t=0;t<e.MAGIC_STR.length;t+=1)e.MAGIC[t]=e.MAGIC_STR.charCodeAt(t);e.checkForMagicArrowString=function(t,r=0){for(let i=-1,n=e.MAGIC.length;++i<n;)if(e.MAGIC[i]!==t[r+i])return!1;return!0},e.magicLength=e.MAGIC.length,e.magicAndPadding=e.magicLength+e.PADDING,e.magicX2AndPadding=2*e.magicLength+e.PADDING})),Se=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareTypes=e.compareFields=e.compareSchemas=e.instance=e.TypeComparator=void 0;var t=ae(),r=class extends t.Visitor{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every(((e,r)=>this.compareFields(e,t[r])))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}};function i(e,t){return t instanceof e.constructor}function n(e,t){return e===t||i(e,t)}function s(e,t){return e===t||i(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function a(e,t){return e===t||i(e,t)&&e.precision===t.precision}function o(e,t){return e===t||i(e,t)&&e.unit===t.unit}function l(e,t){return e===t||i(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function u(e,t){return e===t||i(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function c(t,r){return t===r||i(t,r)&&t.mode===r.mode&&t.typeIds.every(((e,t)=>e===r.typeIds[t]))&&e.instance.compareManyFields(t.children,r.children)}function d(e,t){return e===t||i(e,t)&&e.unit===t.unit}e.TypeComparator=r,r.prototype.visitNull=n,r.prototype.visitBool=n,r.prototype.visitInt=s,r.prototype.visitInt8=s,r.prototype.visitInt16=s,r.prototype.visitInt32=s,r.prototype.visitInt64=s,r.prototype.visitUint8=s,r.prototype.visitUint16=s,r.prototype.visitUint32=s,r.prototype.visitUint64=s,r.prototype.visitFloat=a,r.prototype.visitFloat16=a,r.prototype.visitFloat32=a,r.prototype.visitFloat64=a,r.prototype.visitUtf8=n,r.prototype.visitBinary=n,r.prototype.visitFixedSizeBinary=function(e,t){return e===t||i(e,t)&&e.byteWidth===t.byteWidth},r.prototype.visitDate=o,r.prototype.visitDateDay=o,r.prototype.visitDateMillisecond=o,r.prototype.visitTimestamp=l,r.prototype.visitTimestampSecond=l,r.prototype.visitTimestampMillisecond=l,r.prototype.visitTimestampMicrosecond=l,r.prototype.visitTimestampNanosecond=l,r.prototype.visitTime=u,r.prototype.visitTimeSecond=u,r.prototype.visitTimeMillisecond=u,r.prototype.visitTimeMicrosecond=u,r.prototype.visitTimeNanosecond=u,r.prototype.visitDecimal=n,r.prototype.visitList=function(t,r){return t===r||i(t,r)&&t.children.length===r.children.length&&e.instance.compareManyFields(t.children,r.children)},r.prototype.visitStruct=function(t,r){return t===r||i(t,r)&&t.children.length===r.children.length&&e.instance.compareManyFields(t.children,r.children)},r.prototype.visitUnion=c,r.prototype.visitDenseUnion=c,r.prototype.visitSparseUnion=c,r.prototype.visitDictionary=function(t,r){return t===r||i(t,r)&&t.id===r.id&&t.isOrdered===r.isOrdered&&e.instance.visit(t.indices,r.indices)&&e.instance.visit(t.dictionary,r.dictionary)},r.prototype.visitInterval=d,r.prototype.visitIntervalDayTime=d,r.prototype.visitIntervalYearMonth=d,r.prototype.visitFixedSizeList=function(t,r){return t===r||i(t,r)&&t.listSize===r.listSize&&t.children.length===r.children.length&&e.instance.compareManyFields(t.children,r.children)},r.prototype.visitMap=function(t,r){return t===r||i(t,r)&&t.keysSorted===r.keysSorted&&t.children.length===r.children.length&&e.instance.compareManyFields(t.children,r.children)},e.instance=new r,e.compareSchemas=function(t,r){return e.instance.compareSchemas(t,r)},e.compareFields=function(t,r){return e.instance.compareFields(t,r)},e.compareTypes=function(t,r){return e.instance.visit(t,r)}})),Ae=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectorAssembler=void 0;var t=ae(),r=M(),i=st(),n=S(),s=U(),a=me(),o=Be(),l=V(),u=class extends t.Visitor{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){let t=new u,r=a.selectVectorChildrenArgs(i.RecordBatch,e),[n=t]=t.visitMany(r);return n}visit(e){if(!l.DataType.isDictionary(e.type)){let{data:t,length:r,nullCount:i}=e;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");l.DataType.isNull(e.type)||c.call(this,i<=0?new Uint8Array(0):s.truncateBitmap(t.offset,r,t.nullBitmap)),this.nodes.push(new o.FieldNode(r,i))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.indices)}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};function c(e){let t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new o.BufferRegion(this._byteLength,t)),this._byteLength+=t,this}function d(e){return c.call(this,e.values.subarray(0,e.length*e.stride))}function h(e){let{length:t,values:r,valueOffsets:i}=e,s=i[0],a=i[t],o=Math.min(a-s,r.byteLength-s);return c.call(this,n.rebaseValueOffsets(-i[0],t,i)),c.call(this,r.subarray(s,s+o)),this}function f(e){let{length:t,valueOffsets:r}=e;return r&&c.call(this,n.rebaseValueOffsets(r[0],t,r)),this.visit(e.getChildAt(0))}function p(e){return this.visitMany(e.type.children.map(((t,r)=>e.getChildAt(r))).filter(Boolean))[0]}e.VectorAssembler=u,u.prototype.visitBool=function(e){let t;return e.nullCount>=e.length?c.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?c.call(this,s.truncateBitmap(e.offset,e.length,t)):c.call(this,s.packBools(e))},u.prototype.visitInt=d,u.prototype.visitFloat=d,u.prototype.visitUtf8=h,u.prototype.visitBinary=h,u.prototype.visitFixedSizeBinary=d,u.prototype.visitDate=d,u.prototype.visitTimestamp=d,u.prototype.visitTime=d,u.prototype.visitDecimal=d,u.prototype.visitList=f,u.prototype.visitStruct=p,u.prototype.visitUnion=function(e){let{type:t,length:i,typeIds:s,valueOffsets:a}=e;if(c.call(this,s),t.mode===r.UnionMode.Sparse)return p.call(this,e);if(t.mode===r.UnionMode.Dense){if(e.offset<=0)return c.call(this,a),p.call(this,e);{let r=s.reduce(((e,t)=>Math.max(e,t)),s[0]),o=new Int32Array(r+1),l=new Int32Array(r+1).fill(-1),u=new Int32Array(i),d=n.rebaseValueOffsets(-a[0],i,a);for(let e,t,r=-1;++r<i;)-1===(t=l[e=s[r]])&&(t=l[e]=d[e]),u[r]=d[r]-t,++o[e];c.call(this,u);for(let r,n=-1,s=t.children.length;++n<s;)if(r=e.getChildAt(n)){let e=t.typeIds[n],s=Math.min(i,o[e]);this.visit(r.slice(l[e],s))}}}return this},u.prototype.visitInterval=d,u.prototype.visitFixedSizeList=f,u.prototype.visitMap=f})),Oe=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSONTypeAssembler=void 0;var t=ae(),r=D(),i=M(),n=class extends t.Visitor{visit(e){return null==e?void 0:super.visit(e)}visitNull({typeId:e}){return{name:r.Type[e].toLowerCase()}}visitInt({typeId:e,bitWidth:t,isSigned:i}){return{name:r.Type[e].toLowerCase(),bitWidth:t,isSigned:i}}visitFloat({typeId:e,precision:t}){return{name:r.Type[e].toLowerCase(),precision:i.Precision[t]}}visitBinary({typeId:e}){return{name:r.Type[e].toLowerCase()}}visitBool({typeId:e}){return{name:r.Type[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:r.Type[e].toLowerCase()}}visitDecimal({typeId:e,scale:t,precision:i}){return{name:r.Type[e].toLowerCase(),scale:t,precision:i}}visitDate({typeId:e,unit:t}){return{name:r.Type[e].toLowerCase(),unit:i.DateUnit[t]}}visitTime({typeId:e,unit:t,bitWidth:n}){return{name:r.Type[e].toLowerCase(),unit:i.TimeUnit[t],bitWidth:n}}visitTimestamp({typeId:e,timezone:t,unit:n}){return{name:r.Type[e].toLowerCase(),unit:i.TimeUnit[n],timezone:t}}visitInterval({typeId:e,unit:t}){return{name:r.Type[e].toLowerCase(),unit:i.IntervalUnit[t]}}visitList({typeId:e}){return{name:r.Type[e].toLowerCase()}}visitStruct({typeId:e}){return{name:r.Type[e].toLowerCase()}}visitUnion({typeId:e,mode:t,typeIds:n}){return{name:r.Type[e].toLowerCase(),mode:i.UnionMode[t],typeIds:[...n]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:t}){return{name:r.Type[e].toLowerCase(),byteWidth:t}}visitFixedSizeList({typeId:e,listSize:t}){return{name:r.Type[e].toLowerCase(),listSize:t}}visitMap({typeId:e,keysSorted:t}){return{name:r.Type[e].toLowerCase(),keysSorted:t}}};e.JSONTypeAssembler=n})),De=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSONVectorAssembler=void 0;var t=$(),r=ve(),i=O(),n=ae(),s=M(),a=st(),o=M(),l=U(),u=me(),c=V(),d=class extends n.Visitor{static assemble(...e){return(new d).visitMany(u.selectColumnChildrenArgs(a.RecordBatch,e))}visit(e){let{data:t,name:r,length:n}=e,{offset:a,nullCount:o,nullBitmap:u}=t,d=c.DataType.isDictionary(e.type)?e.type.indices:e.type,h=Object.assign([],t.buffers,{[s.BufferType.VALIDITY]:void 0});return Object.assign({name:r,count:n,VALIDITY:c.DataType.isNull(d)?void 0:o<=0?Array.from({length:n},(()=>1)):[...new l.BitIterator(u,a,n,null,l.getBit)]},super.visit(i.Vector.new(t.clone(d,a,n,0,h))))}visitNull(){return{}}visitBool({values:e,offset:t,length:r}){return{DATA:[...new l.BitIterator(e,t,r,null,l.getBool)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...f(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...e],OFFSET:[...e.valueOffsets]}}visitBinary(e){return{DATA:[...h(e)],OFFSET:[...e.valueOffsets]}}visitFixedSizeBinary(e){return{DATA:[...h(e)]}}visitDate(e){return{DATA:e.type.unit===o.DateUnit.DAY?[...e.values]:[...f(e.values,2)]}}visitTimestamp(e){return{DATA:[...f(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<o.TimeUnit.MICROSECOND?[...e.values]:[...f(e.values,2)]}}visitDecimal(e){return{DATA:[...f(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:e.type.children.map(((t,i)=>this.visit(new r.Column(t,[e.getChildAt(i)]))))}}visitStruct(e){return{children:e.type.children.map(((t,i)=>this.visit(new r.Column(t,[e.getChildAt(i)]))))}}visitUnion(e){return{TYPE:[...e.typeIds],OFFSET:e.type.mode===o.UnionMode.Dense?[...e.valueOffsets]:void 0,children:e.type.children.map(((t,i)=>this.visit(new r.Column(t,[e.getChildAt(i)]))))}}visitInterval(e){return{DATA:[...e.values]}}visitFixedSizeList(e){return{children:e.type.children.map(((t,i)=>this.visit(new r.Column(t,[e.getChildAt(i)]))))}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:e.type.children.map(((t,i)=>this.visit(new r.Column(t,[e.getChildAt(i)]))))}}};function*h(e){for(let t of e)yield t.reduce(((e,t)=>`${e}${("0"+(255&t).toString(16)).slice(-2)}`),"").toUpperCase()}function*f(e,r){for(let i=-1,n=e.length/r;++i<n;)yield`${t.BN.new(e.subarray((i+0)*r,(i+1)*r),!1)}`}e.JSONVectorAssembler=d})),Fe=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RecordBatchJSONWriter=e.RecordBatchFileWriter=e.RecordBatchStreamWriter=e.RecordBatchWriter=void 0;var t=v(),r=nt(),i=Te(),n=ve(),s=V(),a=ee(),o=Be(),l=Be(),u=de(),c=M(),d=Se(),h=he(),f=Ae(),p=Oe(),y=De(),b=S(),_=st(),m=B(),g=T(),w=class extends m.ReadableInterop{constructor(e){super(),this._position=0,this._started=!1,this._sink=new h.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,g.isObject(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!=typeof e.autoDestroy||e.autoDestroy,this._writeLegacyIpcFormat="boolean"==typeof e.writeLegacyIpcFormat&&e.writeLegacyIpcFormat}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return g.isPromise(e)?e.then((e=>this.writeAll(e))):g.isAsyncIterable(e)?F(this,e):D(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){return e===this._sink||e instanceof h.AsyncByteQueue?this._sink=e:(this._sink=new h.AsyncByteQueue,e&&g.isWritableDOMStream(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&g.isWritableNodeStream(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!t||!d.compareSchemas(t,this._schema))&&(null===t?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let t=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==e)return this.finish()&&void 0;if(e instanceof r.Table&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof _.RecordBatch&&!(t=e.schema))return this.finish()&&void 0;if(t&&!d.compareSchemas(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof _.RecordBatch?e instanceof _._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof r.Table?this.writeAll(e.chunks):g.isIterable(e)&&this.writeAll(e)}_writeMessage(e,t=8){let r=t-1,i=o.Message.encode(e),n=i.byteLength,s=this._writeLegacyIpcFormat?4:8,a=n+s+r&~r,l=a-n-s;return e.headerType===c.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new u.FileBlock(a,e.bodyLength,this._position)):e.headerType===c.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new u.FileBlock(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-s)),n>0&&this._write(i),this._writePadding(l)}_write(e){if(this._started){let t=b.toUint8Array(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage(o.Message.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(i.MAGIC)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:t,nodes:r,bufferRegions:i,buffers:n}=f.VectorAssembler.assemble(e),s=new l.RecordBatch(e.length,r,i),a=o.Message.from(s,t);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(n)}_writeDictionaryBatch(e,t,r=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));let{byteLength:i,nodes:n,bufferRegions:s,buffers:a}=f.VectorAssembler.assemble(e),u=new l.RecordBatch(e.length,n,s),c=new l.DictionaryBatch(u,t,r),d=o.Message.from(c,i);return this._writeMessage(d)._writeBodyBuffers(a)}_writeBodyBuffers(e){let t,r,i;for(let n=-1,s=e.length;++n<s;)(t=e[n])&&(r=t.byteLength)>0&&(this._write(t),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(e){for(let[t,r]of e.dictionaries){let e=this._dictionaryDeltaOffsets.get(t)||0;if(0===e||(r=r.slice(e)).length>0){let i="chunks"in r?r.chunks:[r];for(let r of i)this._writeDictionaryBatch(r,t,e>0),e+=r.length}}return this}};e.RecordBatchWriter=w;var I=class extends w{static writeAll(e,t){let r=new I(t);return g.isPromise(e)?e.then((e=>r.writeAll(e))):g.isAsyncIterable(e)?F(r,e):D(r,e)}};e.RecordBatchStreamWriter=I;var A=class extends w{static writeAll(e){let t=new A;return g.isPromise(e)?e.then((e=>t.writeAll(e))):g.isAsyncIterable(e)?F(t,e):D(t,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){let t=u.Footer.encode(new u.Footer(e,c.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}};e.RecordBatchFileWriter=A;var O=class extends w{constructor(){super(),this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}static writeAll(e){return(new O).writeAll(e)}_writeMessage(){return this}_writeFooter(e){return this}_writeSchema(e){return this._write(`{\n  "schema": ${JSON.stringify({fields:e.fields.map(U)},null,2)}`)}_writeDictionaries(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this}_writeDictionaryBatch(e,t,r=!1){return this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0)),this._write(0===this._dictionaryBlocks.length?"    ":",\n    "),this._write(`${function(e,t,r=!1){let i=new a.Field(`${t}`,e.type,e.nullCount>0),s=y.JSONVectorAssembler.assemble(new n.Column(i,[e]));return JSON.stringify({id:t,isDelta:r,data:{count:e.length,columns:s}},null,2)}(e,t,r)}`),this._dictionaryBlocks.push(new u.FileBlock(0,0,0)),this}_writeRecordBatch(e){return this._writeDictionaries(e),this._recordBatches.push(e),this}close(){if(this._dictionaries.length>0){this._write(',\n  "dictionaries": [\n');for(let e of this._dictionaries)super._writeDictionaries(e);this._write("\n  ]")}if(this._recordBatches.length>0){for(let e=-1,t=this._recordBatches.length;++e<t;)this._write(0===e?',\n  "batches": [\n    ':",\n    "),this._write(`${P(this._recordBatches[e])}`),this._recordBatchBlocks.push(new u.FileBlock(0,0,0));this._write("\n  ]")}return this._schema&&this._write("\n}"),this._dictionaries=[],this._recordBatches=[],super.close()}};function D(e,t){let i=t;t instanceof r.Table&&(i=t.chunks,e.reset(void 0,t.schema));for(let t of i)e.write(t);return e.finish()}function F(e,r){var i,n,s,a;return t.__awaiter(this,void 0,void 0,(function*(){try{for(i=t.__asyncValues(r);!(n=yield i.next()).done;){let t=n.value;e.write(t)}}catch(e){s={error:e}}finally{try{n&&!n.done&&(a=i.return)&&(yield a.call(i))}finally{if(s)throw s.error}}return e.finish()}))}function U({name:e,type:t,nullable:r}){let i=new p.JSONTypeAssembler;return{name:e,nullable:r,type:i.visit(t),children:(t.children||[]).map(U),dictionary:s.DataType.isDictionary(t)?{id:t.id,isOrdered:t.isOrdered,indexType:i.visit(t.indices)}:void 0}}function P(e){return JSON.stringify({count:e.length,columns:y.JSONVectorAssembler.assemble(e)},null,2)}e.RecordBatchJSONWriter=O})),Me=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.distributeVectorsIntoRecordBatches=e.distributeColumnsIntoRecordBatches=e.ensureSameLengthData=void 0;var t=P(),r=ee(),i=ge(),n=st(),s=new Uint8Array(0),a=e=>[s,s,new Uint8Array(e),s];function o(e,t){return function(e,t){let i,s=[...e.fields],a=[],o={numBatches:t.reduce(((e,t)=>Math.max(e,t.length)),0)},u=0,c=0,d=-1,h=t.length,f=[];for(;o.numBatches-- >0;){for(c=Number.POSITIVE_INFINITY,d=-1;++d<h;)f[d]=i=t[d].shift(),c=Math.min(c,i?i.length:c);isFinite(c)&&(f=l(s,c,f,t,o),c>0&&(a[u++]=[c,f.slice()]))}return[e=new r.Schema(s,e.metadata),a.map((t=>new n.RecordBatch(e,...t)))]}(e,t.map((e=>e instanceof i.Chunked?e.chunks.map((e=>e.data)):[e.data])))}function l(e,r,i,n,s){let o,l,u=0,c=-1,d=n.length,h=(r+63&-64)>>3;for(;++c<d;)(o=i[c])&&(u=o.length)>=r?u===r?i[c]=o:(i[c]=o.slice(0,r),o=o.slice(r,u-r),s.numBatches=Math.max(s.numBatches,n[c].unshift(o))):((l=e[c]).nullable||(e[c]=l.clone({nullable:!0})),i[c]=o?o._changeLengthAndBackfillNullBitmap(r):t.Data.new(l.type,0,r,r,a(h)));return i}e.ensureSameLengthData=function(e,i,n=i.reduce(((e,t)=>Math.max(e,t.length)),0)){let s,o,l=-1,u=i.length,c=[...e.fields],d=[],h=(n+63&-64)>>3;for(;++l<u;)(s=i[l])&&s.length===n?d[l]=s:((o=c[l]).nullable||(c[l]=c[l].clone({nullable:!0})),d[l]=s?s._changeLengthAndBackfillNullBitmap(n):t.Data.new(o.type,0,n,n,a(h)));return[new r.Schema(c),n,d]},e.distributeColumnsIntoRecordBatches=function(e){return o(new r.Schema(e.map((({field:e})=>e))),e)},e.distributeVectorsIntoRecordBatches=o})),Ue=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseVector=void 0;var t=M(),r=ge(),i=_e(),n=O(),s=class extends n.AbstractVector{constructor(e,t){super(),this._children=t,this.numChildren=e.childData.length,this._bindDataAccessors(this.data=e)}get type(){return this.data.type}get typeId(){return this.data.typeId}get length(){return this.data.length}get offset(){return this.data.offset}get stride(){return this.data.stride}get nullCount(){return this.data.nullCount}get byteLength(){return this.data.byteLength}get VectorName(){return`${t.Type[this.typeId]}Vector`}get ArrayType(){return this.type.ArrayType}get values(){return this.data.values}get typeIds(){return this.data.typeIds}get nullBitmap(){return this.data.nullBitmap}get valueOffsets(){return this.data.valueOffsets}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}clone(e,t=this._children){return n.Vector.new(e,t)}concat(...e){return r.Chunked.concat(this,...e)}slice(e,t){return i.clampRange(this,e,t,this._sliceInternal)}isValid(e){if(this.nullCount>0){let t=this.offset+e;return 0!=(this.nullBitmap[t>>3]&1<<t%8)}return!0}getChildAt(e){return e<0||e>=this.numChildren?null:(this._children||(this._children=[]))[e]||(this._children[e]=n.Vector.new(this.data.childData[e]))}toJSON(){return[...this]}_sliceInternal(e,t,r){return e.clone(e.data.slice(t,r-t),null)}_bindDataAccessors(e){}};e.BaseVector=s,s.prototype[Symbol.isConcatSpreadable]=!0})),Ve=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BinaryVector=void 0;var t=O(),r=Ue(),i=V(),n=class extends r.BaseVector{asUtf8(){return t.Vector.new(this.data.clone(new i.Utf8))}};e.BinaryVector=n})),Pe=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BoolVector=void 0;var t=V(),r=Ue(),i=it(),n=class extends r.BaseVector{static from(e){return i.vectorFromValuesWithType((()=>new t.Bool),e)}};e.BoolVector=n})),Ee=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateMillisecondVector=e.DateDayVector=e.DateVector=void 0;var t=M(),r=Ue(),i=it(),n=V(),s=class extends r.BaseVector{static from(...e){return 2===e.length?i.vectorFromValuesWithType((()=>e[1]===t.DateUnit.DAY?new n.DateDay:new n.DateMillisecond),e[0]):i.vectorFromValuesWithType((()=>new n.DateMillisecond),e[0])}};e.DateVector=s,e.DateDayVector=class extends s{},e.DateMillisecondVector=class extends s{}})),Re=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecimalVector=void 0;var t=Ue(),r=class extends t.BaseVector{};e.DecimalVector=r})),Le=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DictionaryVector=void 0;var t=P(),r=O(),i=Ue(),n=it(),s=V(),a=class extends i.BaseVector{constructor(e){super(e),this.indices=r.Vector.new(e.clone(this.type.indices))}static from(...e){if(3===e.length){let[i,n,a]=e,o=new s.Dictionary(i.type,n,null,null);return r.Vector.new(t.Data.Dictionary(o,0,a.length,0,null,a,i))}return n.vectorFromValuesWithType((()=>e[0].type),e[0])}get dictionary(){return this.data.dictionary}reverseLookup(e){return this.dictionary.indexOf(e)}getKey(e){return this.indices.get(e)}getValue(e){return this.dictionary.get(e)}setKey(e,t){return this.indices.set(e,t)}setValue(e,t){return this.dictionary.set(e,t)}};e.DictionaryVector=a,a.prototype.indices=null})),xe=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedSizeBinaryVector=void 0;var t=Ue(),r=class extends t.BaseVector{};e.FixedSizeBinaryVector=r})),Ne=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedSizeListVector=void 0;var t=Ue(),r=class extends t.BaseVector{};e.FixedSizeListVector=r})),je=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=void 0;var t=P(),r=O(),i=Ue(),n=it(),s=V(),a=class extends i.BaseVector{static from(e){let i=h(this);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){let n=d(e.constructor)||i;if(null===i&&(i=n),i&&i===n){let n=new i,s=e.byteLength/n.ArrayType.BYTES_PER_ELEMENT;if(!c(i,e.constructor))return r.Vector.new(t.Data.Float(n,0,s,0,null,e))}}if(i)return n.vectorFromValuesWithType((()=>new i),e);throw e instanceof DataView||e instanceof ArrayBuffer?new TypeError(`Cannot infer float type from instance of ${e.constructor.name}`):new TypeError("Unrecognized FloatVector input")}};e.FloatVector=a;var o=class extends a{toFloat32Array(){return new Float32Array(this)}toFloat64Array(){return new Float64Array(this)}};e.Float16Vector=o;var l=class extends a{};e.Float32Vector=l;var u=class extends a{};e.Float64Vector=u;var c=(e,t)=>e===s.Float16&&t!==Uint16Array,d=e=>{switch(e){case Uint16Array:return s.Float16;case Float32Array:return s.Float32;case Float64Array:return s.Float64;default:return null}},h=e=>{switch(e){case o:return s.Float16;case l:return s.Float32;case u:return s.Float64;default:return null}}})),ke=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=void 0;var t=Ue(),r=class extends t.BaseVector{};e.IntervalVector=r,e.IntervalDayTimeVector=class extends r{},e.IntervalYearMonthVector=class extends r{}})),Ce=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=void 0;var t=P(),r=O(),i=Ue(),n=it(),s=T(),a=S(),o=V(),l=class extends i.BaseVector{static from(...e){let[i,s=!1]=e,a=g(this,s);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)){let e=m(i.constructor,s)||a;if(null===a&&(a=e),a&&a===e){let e=new a,n=i.byteLength/e.ArrayType.BYTES_PER_ELEMENT;return _(a,i.constructor)&&(n*=.5),r.Vector.new(t.Data.Int(e,0,n,0,null,i))}}if(a)return n.vectorFromValuesWithType((()=>new a),i);throw i instanceof DataView||i instanceof ArrayBuffer?new TypeError(`Cannot infer integer type from instance of ${i.constructor.name}`):new TypeError("Unrecognized IntVector input")}};e.IntVector=l;var u=class extends l{};e.Int8Vector=u;var c=class extends l{};e.Int16Vector=c;var d=class extends l{};e.Int32Vector=d;var h=class extends l{toBigInt64Array(){return a.toBigInt64Array(this.values)}get values64(){return this._values64||(this._values64=this.toBigInt64Array())}};e.Int64Vector=h;var f=class extends l{};e.Uint8Vector=f;var p=class extends l{};e.Uint16Vector=p;var y=class extends l{};e.Uint32Vector=y;var b=class extends l{toBigUint64Array(){return a.toBigUint64Array(this.values)}get values64(){return this._values64||(this._values64=this.toBigUint64Array())}};e.Uint64Vector=b;var _=(e,t)=>!(e!==o.Int64&&e!==o.Uint64||t!==Int32Array&&t!==Uint32Array),m=(e,t)=>{switch(e){case Int8Array:return o.Int8;case Int16Array:return o.Int16;case Int32Array:return t?o.Int64:o.Int32;case s.BigInt64Array:return o.Int64;case Uint8Array:return o.Uint8;case Uint16Array:return o.Uint16;case Uint32Array:return t?o.Uint64:o.Uint32;case s.BigUint64Array:return o.Uint64;default:return null}},g=(e,t)=>{switch(e){case u:return o.Int8;case c:return o.Int16;case d:return t?o.Int64:o.Int32;case h:return o.Int64;case f:return o.Uint8;case p:return o.Uint16;case y:return t?o.Uint64:o.Uint32;case b:return o.Uint64;default:return null}}})),ze=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListVector=void 0;var t=Ue(),r=class extends t.BaseVector{};e.ListVector=r})),We=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapVector=void 0;var t=be(),r=O(),i=Ue(),n=V(),s=class extends i.BaseVector{asList(){let e=this.type.children[0];return r.Vector.new(this.data.clone(new n.List(e)))}bind(e){let r=this.getChildAt(0),{[e]:i,[e+1]:n}=this.valueOffsets;return new t.MapRow(r.slice(i,n))}};e.MapVector=s})),He=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullVector=void 0;var t=Ue(),r=class extends t.BaseVector{};e.NullVector=r})),Ye=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StructVector=void 0;var t=be(),r=Ue(),i=Symbol.for("rowIndex"),n=class extends r.BaseVector{bind(e){let r=this._row||(this._row=new t.StructRow(this)),n=Object.create(r);return n[i]=e,n}};e.StructVector=n})),$e=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=void 0;var t=Ue(),r=class extends t.BaseVector{};e.TimestampVector=r,e.TimestampSecondVector=class extends r{},e.TimestampMillisecondVector=class extends r{},e.TimestampMicrosecondVector=class extends r{},e.TimestampNanosecondVector=class extends r{}})),Ge=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=void 0;var t=Ue(),r=class extends t.BaseVector{};e.TimeVector=r,e.TimeSecondVector=class extends r{},e.TimeMillisecondVector=class extends r{},e.TimeMicrosecondVector=class extends r{},e.TimeNanosecondVector=class extends r{}})),Ke=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=void 0;var t=Ue(),r=class extends t.BaseVector{get typeIdToChildIndex(){return this.data.type.typeIdToChildIndex}};e.UnionVector=r,e.DenseUnionVector=class extends r{get valueOffsets(){return this.data.valueOffsets}},e.SparseUnionVector=class extends r{}})),Je=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Utf8Vector=void 0;var t=O(),r=Ue(),i=V(),n=it(),s=class extends r.BaseVector{static from(e){return n.vectorFromValuesWithType((()=>new i.Utf8),e)}asBinary(){return t.Vector.new(this.data.clone(new i.Binary))}};e.Utf8Vector=s})),qe=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.partial2=e.partial1=e.partial0=void 0,e.partial0=function(e){return function(){return e(this)}},e.partial1=function(e){return function(t){return e(this,t)}},e.partial2=function(e){return function(t,r){return e(this,t,r)}}})),Ze=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.GetVisitor=void 0;var t=$(),r=ae(),i=I(),n=H(),s=M(),a=class extends r.Visitor{};e.GetVisitor=a;var o=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),l=e=>new Date(e),u=(e,t,r)=>{let{[r]:i,[r+1]:n}=t;return null!=i&&null!=n?e.subarray(i,n):null},c=({values:e},t)=>((e,t)=>l(((e,t)=>864e5*e[t])(e,t)))(e,t),d=({values:e},t)=>((e,t)=>l(o(e,t)))(e,2*t),h=({stride:e,values:t},r)=>t[e*r],f=({stride:e,values:t},r)=>n.uint16ToFloat64(t[e*r]),p=({stride:e,values:r,type:i},n)=>t.BN.new(r.subarray(e*n,e*(n+1)),i.isSigned),y=({values:e},t)=>1e3*o(e,2*t),b=({values:e},t)=>o(e,2*t),_=({values:e},t)=>((e,t)=>e[t+1]/1e3*4294967296+(e[t]>>>0)/1e3)(e,2*t),m=({values:e},t)=>((e,t)=>e[t+1]/1e6*4294967296+(e[t]>>>0)/1e6)(e,2*t),g=({values:e,stride:t},r)=>e[t*r],v=({values:e,stride:t},r)=>e[t*r],w=({values:e},r)=>t.BN.signed(e.subarray(2*r,2*(r+1))),B=({values:e},r)=>t.BN.signed(e.subarray(2*r,2*(r+1))),T=(e,t)=>{let r=e.typeIdToChildIndex[e.typeIds[t]],i=e.getChildAt(r);return i?i.get(e.valueOffsets[t]):null},S=(e,t)=>{let r=e.typeIdToChildIndex[e.typeIds[t]],i=e.getChildAt(r);return i?i.get(t):null},A=({values:e},t)=>e.subarray(2*t,2*(t+1)),O=({values:e},t)=>{let r=e[t],i=new Int32Array(2);return i[0]=r/12|0,i[1]=r%12|0,i};a.prototype.visitNull=(e,t)=>null,a.prototype.visitBool=({offset:e,values:t},r)=>{let i=e+r;return 0!=(t[i>>3]&1<<i%8)},a.prototype.visitInt=(e,t)=>e.type.bitWidth<64?h(e,t):p(e,t),a.prototype.visitInt8=h,a.prototype.visitInt16=h,a.prototype.visitInt32=h,a.prototype.visitInt64=p,a.prototype.visitUint8=h,a.prototype.visitUint16=h,a.prototype.visitUint32=h,a.prototype.visitUint64=p,a.prototype.visitFloat=(e,t)=>e.type.precision!==s.Precision.HALF?h(e,t):f(e,t),a.prototype.visitFloat16=f,a.prototype.visitFloat32=h,a.prototype.visitFloat64=h,a.prototype.visitUtf8=({values:e,valueOffsets:t},r)=>{let n=u(e,t,r);return null!==n?i.decodeUtf8(n):null},a.prototype.visitBinary=({values:e,valueOffsets:t},r)=>u(e,t,r),a.prototype.visitFixedSizeBinary=({stride:e,values:t},r)=>t.subarray(e*r,e*(r+1)),a.prototype.visitDate=(e,t)=>e.type.unit===s.DateUnit.DAY?c(e,t):d(e,t),a.prototype.visitDateDay=c,a.prototype.visitDateMillisecond=d,a.prototype.visitTimestamp=(e,t)=>{switch(e.type.unit){case s.TimeUnit.SECOND:return y(e,t);case s.TimeUnit.MILLISECOND:return b(e,t);case s.TimeUnit.MICROSECOND:return _(e,t);case s.TimeUnit.NANOSECOND:return m(e,t)}},a.prototype.visitTimestampSecond=y,a.prototype.visitTimestampMillisecond=b,a.prototype.visitTimestampMicrosecond=_,a.prototype.visitTimestampNanosecond=m,a.prototype.visitTime=(e,t)=>{switch(e.type.unit){case s.TimeUnit.SECOND:return g(e,t);case s.TimeUnit.MILLISECOND:return v(e,t);case s.TimeUnit.MICROSECOND:return w(e,t);case s.TimeUnit.NANOSECOND:return B(e,t)}},a.prototype.visitTimeSecond=g,a.prototype.visitTimeMillisecond=v,a.prototype.visitTimeMicrosecond=w,a.prototype.visitTimeNanosecond=B,a.prototype.visitDecimal=({values:e},r)=>t.BN.decimal(e.subarray(4*r,4*(r+1))),a.prototype.visitList=(e,t)=>{let r=e.getChildAt(0),{valueOffsets:i,stride:n}=e;return r.slice(i[t*n],i[t*n+1])},a.prototype.visitStruct=(e,t)=>e.bind(t),a.prototype.visitUnion=(e,t)=>e.type.mode===s.UnionMode.Dense?T(e,t):S(e,t),a.prototype.visitDenseUnion=T,a.prototype.visitSparseUnion=S,a.prototype.visitDictionary=(e,t)=>e.getValue(e.getKey(t)),a.prototype.visitInterval=(e,t)=>e.type.unit===s.IntervalUnit.DAY_TIME?A(e,t):O(e,t),a.prototype.visitIntervalDayTime=A,a.prototype.visitIntervalYearMonth=O,a.prototype.visitFixedSizeList=(e,t)=>{let r=e.getChildAt(0),{stride:i}=e;return r.slice(t*i,(t+1)*i)},a.prototype.visitMap=(e,t)=>e.bind(t),e.instance=new a})),Xe=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.IndexOfVisitor=void 0;var t=ae(),r=U(),i=_e(),n=class extends t.Visitor{};function s(e,t,n){if(void 0===t)return-1;if(null===t)return function(e,t){let{nullBitmap:i}=e.data;if(!i||e.nullCount<=0)return-1;let n=0;for(let s of new r.BitIterator(i,e.data.offset+(t||0),e.length,i,r.getBool)){if(!s)return n;++n}return-1}(e,n);let s=i.createElementComparator(t);for(let t=(n||0)-1,r=e.length;++t<r;)if(s(e.get(t)))return t;return-1}function a(e,t,r){let n=i.createElementComparator(t);for(let t=(r||0)-1,i=e.length;++t<i;)if(n(e.get(t)))return t;return-1}e.IndexOfVisitor=n,n.prototype.visitNull=function(e,t){return null===t&&e.length>0?0:-1},n.prototype.visitBool=s,n.prototype.visitInt=s,n.prototype.visitInt8=s,n.prototype.visitInt16=s,n.prototype.visitInt32=s,n.prototype.visitInt64=s,n.prototype.visitUint8=s,n.prototype.visitUint16=s,n.prototype.visitUint32=s,n.prototype.visitUint64=s,n.prototype.visitFloat=s,n.prototype.visitFloat16=s,n.prototype.visitFloat32=s,n.prototype.visitFloat64=s,n.prototype.visitUtf8=s,n.prototype.visitBinary=s,n.prototype.visitFixedSizeBinary=s,n.prototype.visitDate=s,n.prototype.visitDateDay=s,n.prototype.visitDateMillisecond=s,n.prototype.visitTimestamp=s,n.prototype.visitTimestampSecond=s,n.prototype.visitTimestampMillisecond=s,n.prototype.visitTimestampMicrosecond=s,n.prototype.visitTimestampNanosecond=s,n.prototype.visitTime=s,n.prototype.visitTimeSecond=s,n.prototype.visitTimeMillisecond=s,n.prototype.visitTimeMicrosecond=s,n.prototype.visitTimeNanosecond=s,n.prototype.visitDecimal=s,n.prototype.visitList=s,n.prototype.visitStruct=s,n.prototype.visitUnion=s,n.prototype.visitDenseUnion=a,n.prototype.visitSparseUnion=a,n.prototype.visitDictionary=s,n.prototype.visitInterval=s,n.prototype.visitIntervalDayTime=s,n.prototype.visitIntervalYearMonth=s,n.prototype.visitFixedSizeList=s,n.prototype.visitMap=s,e.instance=new n})),Qe=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.IteratorVisitor=void 0;var t=M(),r=ae(),i=U(),n=Ze(),s=class extends r.Visitor{};e.IteratorVisitor=s;var a=class{constructor(e,t){this.vector=e,this.getFn=t,this.index=0}next(){return this.index<this.vector.length?{value:this.getFn(this.vector,this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};function o(e){if(e.nullCount>0)return function(e){let t=n.instance.getVisitFn(e);return new i.BitIterator(e.data.nullBitmap,e.data.offset,e.length,e,((e,r,i,n)=>0!=(i&1<<n)?t(e,r):null))}(e);let{type:r,typeId:s,length:o}=e;return 1===e.stride&&(s===t.Type.Timestamp||s===t.Type.Int&&64!==r.bitWidth||s===t.Type.Time&&64!==r.bitWidth||s===t.Type.Float&&r.precision>0)?e.data.values.subarray(0,o)[Symbol.iterator]():new a(e,n.instance.getVisitFn(e))}s.prototype.visitNull=o,s.prototype.visitBool=o,s.prototype.visitInt=o,s.prototype.visitInt8=o,s.prototype.visitInt16=o,s.prototype.visitInt32=o,s.prototype.visitInt64=o,s.prototype.visitUint8=o,s.prototype.visitUint16=o,s.prototype.visitUint32=o,s.prototype.visitUint64=o,s.prototype.visitFloat=o,s.prototype.visitFloat16=o,s.prototype.visitFloat32=o,s.prototype.visitFloat64=o,s.prototype.visitUtf8=o,s.prototype.visitBinary=o,s.prototype.visitFixedSizeBinary=o,s.prototype.visitDate=o,s.prototype.visitDateDay=o,s.prototype.visitDateMillisecond=o,s.prototype.visitTimestamp=o,s.prototype.visitTimestampSecond=o,s.prototype.visitTimestampMillisecond=o,s.prototype.visitTimestampMicrosecond=o,s.prototype.visitTimestampNanosecond=o,s.prototype.visitTime=o,s.prototype.visitTimeSecond=o,s.prototype.visitTimeMillisecond=o,s.prototype.visitTimeMicrosecond=o,s.prototype.visitTimeNanosecond=o,s.prototype.visitDecimal=o,s.prototype.visitList=o,s.prototype.visitStruct=o,s.prototype.visitUnion=o,s.prototype.visitDenseUnion=o,s.prototype.visitSparseUnion=o,s.prototype.visitDictionary=o,s.prototype.visitInterval=o,s.prototype.visitIntervalDayTime=o,s.prototype.visitIntervalYearMonth=o,s.prototype.visitFixedSizeList=o,s.prototype.visitMap=o,e.instance=new s})),et=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.ToArrayVisitor=void 0;var t=M(),r=ae(),i=Qe(),n=class extends r.Visitor{};function s(e){let{type:r,length:n,stride:s}=e;switch(r.typeId){case t.Type.Int:case t.Type.Float:case t.Type.Decimal:case t.Type.Time:case t.Type.Timestamp:return e.data.values.subarray(0,n*s)}return[...i.instance.visit(e)]}e.ToArrayVisitor=n,n.prototype.visitNull=s,n.prototype.visitBool=s,n.prototype.visitInt=s,n.prototype.visitInt8=s,n.prototype.visitInt16=s,n.prototype.visitInt32=s,n.prototype.visitInt64=s,n.prototype.visitUint8=s,n.prototype.visitUint16=s,n.prototype.visitUint32=s,n.prototype.visitUint64=s,n.prototype.visitFloat=s,n.prototype.visitFloat16=s,n.prototype.visitFloat32=s,n.prototype.visitFloat64=s,n.prototype.visitUtf8=s,n.prototype.visitBinary=s,n.prototype.visitFixedSizeBinary=s,n.prototype.visitDate=s,n.prototype.visitDateDay=s,n.prototype.visitDateMillisecond=s,n.prototype.visitTimestamp=s,n.prototype.visitTimestampSecond=s,n.prototype.visitTimestampMillisecond=s,n.prototype.visitTimestampMicrosecond=s,n.prototype.visitTimestampNanosecond=s,n.prototype.visitTime=s,n.prototype.visitTimeSecond=s,n.prototype.visitTimeMillisecond=s,n.prototype.visitTimeMicrosecond=s,n.prototype.visitTimeNanosecond=s,n.prototype.visitDecimal=s,n.prototype.visitList=s,n.prototype.visitStruct=s,n.prototype.visitUnion=s,n.prototype.visitDenseUnion=s,n.prototype.visitSparseUnion=s,n.prototype.visitDictionary=s,n.prototype.visitInterval=s,n.prototype.visitIntervalDayTime=s,n.prototype.visitIntervalYearMonth=s,n.prototype.visitFixedSizeList=s,n.prototype.visitMap=s,e.instance=new n})),tt=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.ByteWidthVisitor=void 0;var t=ae(),r=M(),i=(e,t)=>e+t,n=e=>`Cannot compute the byte width of variable-width column ${e}`,s=class extends t.Visitor{visitNull(e){return 0}visitInt(e){return e.bitWidth/8}visitFloat(e){return e.ArrayType.BYTES_PER_ELEMENT}visitBinary(e){throw new Error(n(e))}visitUtf8(e){throw new Error(n(e))}visitBool(e){return 1/8}visitDecimal(e){return 16}visitDate(e){return 4*(e.unit+1)}visitTime(e){return e.bitWidth/8}visitTimestamp(e){return e.unit===r.TimeUnit.SECOND?4:8}visitInterval(e){return 4*(e.unit+1)}visitList(e){throw new Error(n(e))}visitStruct(e){return this.visitFields(e.children).reduce(i,0)}visitUnion(e){return this.visitFields(e.children).reduce(i,0)}visitFixedSizeBinary(e){return e.byteWidth}visitFixedSizeList(e){return e.listSize*this.visitFields(e.children).reduce(i,0)}visitMap(e){return this.visitFields(e.children).reduce(i,0)}visitDictionary(e){return this.visit(e.indices)}visitFields(e){return(e||[]).map((e=>this.visit(e.type)))}visitSchema(e){return this.visitFields(e.fields).reduce(i,0)}};e.ByteWidthVisitor=s,e.instance=new s})),rt=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.GetVectorConstructor=void 0;var t=ae(),r=Ve(),i=Pe(),n=Ee(),s=Re(),a=Le(),o=xe(),l=Ne(),u=je(),c=ke(),d=Ce(),h=ze(),f=We(),p=He(),y=Ye(),b=$e(),_=Ge(),m=Ke(),g=Je(),v=class extends t.Visitor{visitNull(){return p.NullVector}visitBool(){return i.BoolVector}visitInt(){return d.IntVector}visitInt8(){return d.Int8Vector}visitInt16(){return d.Int16Vector}visitInt32(){return d.Int32Vector}visitInt64(){return d.Int64Vector}visitUint8(){return d.Uint8Vector}visitUint16(){return d.Uint16Vector}visitUint32(){return d.Uint32Vector}visitUint64(){return d.Uint64Vector}visitFloat(){return u.FloatVector}visitFloat16(){return u.Float16Vector}visitFloat32(){return u.Float32Vector}visitFloat64(){return u.Float64Vector}visitUtf8(){return g.Utf8Vector}visitBinary(){return r.BinaryVector}visitFixedSizeBinary(){return o.FixedSizeBinaryVector}visitDate(){return n.DateVector}visitDateDay(){return n.DateDayVector}visitDateMillisecond(){return n.DateMillisecondVector}visitTimestamp(){return b.TimestampVector}visitTimestampSecond(){return b.TimestampSecondVector}visitTimestampMillisecond(){return b.TimestampMillisecondVector}visitTimestampMicrosecond(){return b.TimestampMicrosecondVector}visitTimestampNanosecond(){return b.TimestampNanosecondVector}visitTime(){return _.TimeVector}visitTimeSecond(){return _.TimeSecondVector}visitTimeMillisecond(){return _.TimeMillisecondVector}visitTimeMicrosecond(){return _.TimeMicrosecondVector}visitTimeNanosecond(){return _.TimeNanosecondVector}visitDecimal(){return s.DecimalVector}visitList(){return h.ListVector}visitStruct(){return y.StructVector}visitUnion(){return m.UnionVector}visitDenseUnion(){return m.DenseUnionVector}visitSparseUnion(){return m.SparseUnionVector}visitDictionary(){return a.DictionaryVector}visitInterval(){return c.IntervalVector}visitIntervalDayTime(){return c.IntervalDayTimeVector}visitIntervalYearMonth(){return c.IntervalYearMonthVector}visitFixedSizeList(){return l.FixedSizeListVector}visitMap(){return f.MapVector}};e.GetVectorConstructor=v,e.instance=new v})),it=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vectorFromValuesWithType=e.StructRow=e.MapRow=e.Utf8Vector=e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=e.StructVector=e.NullVector=e.MapVector=e.ListVector=e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=e.FixedSizeListVector=e.FixedSizeBinaryVector=e.DictionaryVector=e.DecimalVector=e.DateMillisecondVector=e.DateDayVector=e.DateVector=e.Chunked=e.BoolVector=e.BinaryVector=e.BaseVector=e.Vector=void 0;var t=v(),r=O();Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return r.Vector}});var i=Ue();Object.defineProperty(e,"BaseVector",{enumerable:!0,get:function(){return i.BaseVector}});var n=Ve();Object.defineProperty(e,"BinaryVector",{enumerable:!0,get:function(){return n.BinaryVector}});var s=Pe();Object.defineProperty(e,"BoolVector",{enumerable:!0,get:function(){return s.BoolVector}});var a=ge();Object.defineProperty(e,"Chunked",{enumerable:!0,get:function(){return a.Chunked}});var o=Ee();Object.defineProperty(e,"DateVector",{enumerable:!0,get:function(){return o.DateVector}}),Object.defineProperty(e,"DateDayVector",{enumerable:!0,get:function(){return o.DateDayVector}}),Object.defineProperty(e,"DateMillisecondVector",{enumerable:!0,get:function(){return o.DateMillisecondVector}});var l=Re();Object.defineProperty(e,"DecimalVector",{enumerable:!0,get:function(){return l.DecimalVector}});var u=Le();Object.defineProperty(e,"DictionaryVector",{enumerable:!0,get:function(){return u.DictionaryVector}});var c=xe();Object.defineProperty(e,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return c.FixedSizeBinaryVector}});var d=Ne();Object.defineProperty(e,"FixedSizeListVector",{enumerable:!0,get:function(){return d.FixedSizeListVector}});var h=je();Object.defineProperty(e,"FloatVector",{enumerable:!0,get:function(){return h.FloatVector}}),Object.defineProperty(e,"Float16Vector",{enumerable:!0,get:function(){return h.Float16Vector}}),Object.defineProperty(e,"Float32Vector",{enumerable:!0,get:function(){return h.Float32Vector}}),Object.defineProperty(e,"Float64Vector",{enumerable:!0,get:function(){return h.Float64Vector}});var f=ke();Object.defineProperty(e,"IntervalVector",{enumerable:!0,get:function(){return f.IntervalVector}}),Object.defineProperty(e,"IntervalDayTimeVector",{enumerable:!0,get:function(){return f.IntervalDayTimeVector}}),Object.defineProperty(e,"IntervalYearMonthVector",{enumerable:!0,get:function(){return f.IntervalYearMonthVector}});var p=Ce();Object.defineProperty(e,"IntVector",{enumerable:!0,get:function(){return p.IntVector}}),Object.defineProperty(e,"Int8Vector",{enumerable:!0,get:function(){return p.Int8Vector}}),Object.defineProperty(e,"Int16Vector",{enumerable:!0,get:function(){return p.Int16Vector}}),Object.defineProperty(e,"Int32Vector",{enumerable:!0,get:function(){return p.Int32Vector}}),Object.defineProperty(e,"Int64Vector",{enumerable:!0,get:function(){return p.Int64Vector}}),Object.defineProperty(e,"Uint8Vector",{enumerable:!0,get:function(){return p.Uint8Vector}}),Object.defineProperty(e,"Uint16Vector",{enumerable:!0,get:function(){return p.Uint16Vector}}),Object.defineProperty(e,"Uint32Vector",{enumerable:!0,get:function(){return p.Uint32Vector}}),Object.defineProperty(e,"Uint64Vector",{enumerable:!0,get:function(){return p.Uint64Vector}});var y=ze();Object.defineProperty(e,"ListVector",{enumerable:!0,get:function(){return y.ListVector}});var b=We();Object.defineProperty(e,"MapVector",{enumerable:!0,get:function(){return b.MapVector}});var _=He();Object.defineProperty(e,"NullVector",{enumerable:!0,get:function(){return _.NullVector}});var m=Ye();Object.defineProperty(e,"StructVector",{enumerable:!0,get:function(){return m.StructVector}});var g=$e();Object.defineProperty(e,"TimestampVector",{enumerable:!0,get:function(){return g.TimestampVector}}),Object.defineProperty(e,"TimestampSecondVector",{enumerable:!0,get:function(){return g.TimestampSecondVector}}),Object.defineProperty(e,"TimestampMillisecondVector",{enumerable:!0,get:function(){return g.TimestampMillisecondVector}}),Object.defineProperty(e,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return g.TimestampMicrosecondVector}}),Object.defineProperty(e,"TimestampNanosecondVector",{enumerable:!0,get:function(){return g.TimestampNanosecondVector}});var w=Ge();Object.defineProperty(e,"TimeVector",{enumerable:!0,get:function(){return w.TimeVector}}),Object.defineProperty(e,"TimeSecondVector",{enumerable:!0,get:function(){return w.TimeSecondVector}}),Object.defineProperty(e,"TimeMillisecondVector",{enumerable:!0,get:function(){return w.TimeMillisecondVector}}),Object.defineProperty(e,"TimeMicrosecondVector",{enumerable:!0,get:function(){return w.TimeMicrosecondVector}}),Object.defineProperty(e,"TimeNanosecondVector",{enumerable:!0,get:function(){return w.TimeNanosecondVector}});var I=Ke();Object.defineProperty(e,"UnionVector",{enumerable:!0,get:function(){return I.UnionVector}}),Object.defineProperty(e,"DenseUnionVector",{enumerable:!0,get:function(){return I.DenseUnionVector}}),Object.defineProperty(e,"SparseUnionVector",{enumerable:!0,get:function(){return I.SparseUnionVector}});var B=Je();Object.defineProperty(e,"Utf8Vector",{enumerable:!0,get:function(){return B.Utf8Vector}});var S=be();Object.defineProperty(e,"MapRow",{enumerable:!0,get:function(){return S.MapRow}}),Object.defineProperty(e,"StructRow",{enumerable:!0,get:function(){return S.StructRow}});var A=qe(),D=M(),F=O(),V=ge(),P=Ue(),E=U(),R=T(),L=x(),N=Ze(),j=oe(),k=Xe(),C=et(),z=Qe(),W=tt(),H=rt();F.Vector.new=function(e,...t){return new(H.instance.getVisitFn(e)())(e,...t)},F.Vector.from=function(e){let r=Object.assign({nullValues:[null,void 0]},e),{values:i=[]}=r,n=t.__rest(r,["values"]);if(R.isIterable(i)){let e=[...L.Builder.throughIterable(n)(i)];return 1===e.length?e[0]:V.Chunked.concat(e)}return(e=>t.__awaiter(this,void 0,void 0,(function*(){var r,s;let a=L.Builder.throughAsyncIterable(n);try{for(var o,l=t.__asyncValues(a(i));!(o=yield l.next()).done;){let t=o.value;e.push(t)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(s=l.return)&&(yield s.call(l))}finally{if(r)throw r.error}}return 1===e.length?e[0]:V.Chunked.concat(e)})))([])},e.vectorFromValuesWithType=function(e,t){if(R.isIterable(t))return F.Vector.from({nullValues:[null,void 0],type:e(),values:t});if(R.isAsyncIterable(t))return F.Vector.from({nullValues:[null,void 0],type:e(),values:t});let{values:r=[],type:i=e(),nullValues:n=[null,void 0]}=Object.assign({},t);return R.isIterable(r),F.Vector.from(Object.assign(Object.assign({nullValues:n},t),{type:i}))},P.BaseVector.prototype.get=function(e){return N.instance.visit(this,e)},P.BaseVector.prototype.set=function(e,t){return j.instance.visit(this,e,t)},P.BaseVector.prototype.indexOf=function(e,t){return k.instance.visit(this,e,t)},P.BaseVector.prototype.toArray=function(){return C.instance.visit(this)},P.BaseVector.prototype.getByteWidth=function(){return W.instance.visit(this.type)},P.BaseVector.prototype[Symbol.iterator]=function(){return z.instance.visit(this)},P.BaseVector.prototype._bindDataAccessors=function(){let e=this.nullBitmap;e&&e.byteLength>0&&(this.get=function(e){return function(t){return this.isValid(t)?e.call(this,t):null}}(this.get),this.set=function(e){return function(t,r){E.setBool(this.nullBitmap,this.offset+t,null!=r)&&e.call(this,t,r)}}(this.set))},Object.keys(D.Type).map((e=>D.Type[e])).filter((e=>"number"==typeof e)).filter((e=>e!==D.Type.NONE)).forEach((e=>{let t=H.instance.visit(e);t.prototype.get=A.partial1(N.instance.getVisitFn(e)),t.prototype.set=A.partial2(j.instance.getVisitFn(e)),t.prototype.indexOf=A.partial2(k.instance.getVisitFn(e)),t.prototype.toArray=A.partial0(C.instance.getVisitFn(e)),t.prototype.getByteWidth=function(e){return function(){return e(this.type)}}(W.instance.getVisitFn(e)),t.prototype[Symbol.iterator]=A.partial0(z.instance.getVisitFn(e))}))})),nt=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;var t=v(),r=ve(),i=at(),n=Fe(),s=st(),a=ee(),o=V(),l=me(),u=T(),c=Me(),d=it(),h=class extends d.Chunked{constructor(...e){var t;let r=null;e[0]instanceof a.Schema&&(r=e[0]);let i=e[0]instanceof h?e[0].chunks:l.selectArgs(s.RecordBatch,e);if(!r&&!(r=null===(t=i[0])||void 0===t?void 0:t.schema))throw new TypeError("Table must be initialized with a Schema or at least one RecordBatch");i[0]||(i[0]=new s._InternalEmptyPlaceholderRecordBatch(r)),super(new o.Struct(r.fields),i),this._schema=r,this._chunks=i}static empty(e=new a.Schema([])){return new h(e,[])}static from(e){if(!e)return h.empty();if("object"==typeof e){let t=u.isIterable(e.values)?function(e){let{type:t}=e;return t instanceof o.Struct?h.fromStruct(d.StructVector.from(e)):null}(e):u.isAsyncIterable(e.values)?function(e){let{type:t}=e;return t instanceof o.Struct?d.StructVector.from(e).then((e=>h.fromStruct(e))):null}(e):null;if(null!==t)return t}let r=i.RecordBatchReader.from(e);return u.isPromise(r)?(()=>t.__awaiter(this,void 0,void 0,(function*(){return yield h.from(yield r)})))():r.isSync()&&(r=r.open())?r.schema?new h(r.schema,[...r]):h.empty():(e=>t.__awaiter(this,void 0,void 0,(function*(){var r,i;let n=yield e,s=n.schema,a=[];if(s){try{for(var o,l=t.__asyncValues(n);!(o=yield l.next()).done;){let e=o.value;a.push(e)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}return new h(s,a)}return h.empty()})))(r.open())}static fromAsync(e){return t.__awaiter(this,void 0,void 0,(function*(){return yield h.from(e)}))}static fromStruct(e){return h.new(e.data.childData,e.type.children)}static new(...e){return new h(...c.distributeColumnsIntoRecordBatches(l.selectColumnArgs(e)))}get schema(){return this._schema}get length(){return this._length}get chunks(){return this._chunks}get numCols(){return this._numChildren}clone(e=this._chunks){return new h(this._schema,e)}getColumn(e){return this.getColumnAt(this.getColumnIndex(e))}getColumnAt(e){return this.getChildAt(e)}getColumnIndex(e){return this._schema.fields.findIndex((t=>t.name===e))}getChildAt(e){if(e<0||e>=this.numChildren)return null;let t,i,n=this._schema.fields,s=this._children||(this._children=[]);if(i=s[e])return i;if(t=n[e]){let i=this._chunks.map((t=>t.getChildAt(e))).filter((e=>null!=e));if(i.length>0)return s[e]=new r.Column(t,i)}return null}serialize(e="binary",t=!0){return(t?n.RecordBatchStreamWriter:n.RecordBatchFileWriter).writeAll(this).toUint8Array(!0)}count(){return this._length}select(...e){let t=this._schema.fields.reduce(((e,t,r)=>e.set(t.name,r)),new Map);return this.selectAt(...e.map((e=>t.get(e))).filter((e=>e>-1)))}selectAt(...e){let t=this._schema.selectAt(...e);return new h(t,this._chunks.map((({length:r,data:{childData:i}})=>new s.RecordBatch(t,r,e.map((e=>i[e])).filter(Boolean)))))}assign(e){let t=this._schema.fields,[r,i]=e.schema.fields.reduce(((e,r,i)=>{let[n,s]=e,a=t.findIndex((e=>e.name===r.name));return~a?s[a]=i:n.push(i),e}),[[],[]]),n=this._schema.assign(e.schema),s=[...t.map(((t,r,n,s=i[r])=>void 0===s?this.getColumnAt(r):e.getColumnAt(s))),...r.map((t=>e.getColumnAt(t)))].filter(Boolean);return new h(...c.distributeVectorsIntoRecordBatches(n,s))}};e.Table=h})),st=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._InternalEmptyPlaceholderRecordBatch=e.RecordBatch=void 0;var t=P(),r=nt(),i=O(),n=ae(),s=ee(),a=T(),o=ge(),l=me(),u=V(),c=Me(),d=it(),h=class extends d.StructVector{constructor(...e){let r,i,n=e[0];if(e[1]instanceof t.Data)[,r,i]=e;else{let i=n.fields,[,s,a]=e;r=t.Data.Struct(new u.Struct(i),0,s,0,null,a)}super(r,i),this._schema=n}static from(e){return a.isIterable(e.values),r.Table.from(e)}static new(...e){let[t,r]=l.selectFieldArgs(e),n=r.filter((e=>e instanceof i.Vector));return new h(...c.ensureSameLengthData(new s.Schema(t),n.map((e=>e.data))))}clone(e,t=this._children){return new h(this._schema,e,t)}concat(...e){let t=this._schema,i=o.Chunked.flatten(this,...e);return new r.Table(t,i.map((({data:e})=>new h(t,e))))}get schema(){return this._schema}get numCols(){return this._schema.fields.length}get dictionaries(){return this._dictionaries||(this._dictionaries=f.collect(this))}select(...e){let t=this._schema.fields.reduce(((e,t,r)=>e.set(t.name,r)),new Map);return this.selectAt(...e.map((e=>t.get(e))).filter((e=>e>-1)))}selectAt(...e){let t=this._schema.selectAt(...e),r=e.map((e=>this.data.childData[e])).filter(Boolean);return new h(t,this.length,r)}};e.RecordBatch=h,e._InternalEmptyPlaceholderRecordBatch=class extends h{constructor(e){super(e,0,e.fields.map((e=>t.Data.new(e.type,0,0,0))))}};var f=class extends n.Visitor{constructor(){super(...arguments),this.dictionaries=new Map}static collect(e){return(new f).visit(e.data,new u.Struct(e.schema.fields)).dictionaries}visit(e,t){return u.DataType.isDictionary(t)?this.visitDictionary(e,t):(e.childData.forEach(((e,r)=>this.visit(e,t.children[r].type))),this)}visitDictionary(e,t){let r=e.dictionary;return r&&r.length>0&&this.dictionaries.set(t.id,r),this}}})),at=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncRecordBatchFileReader=e.RecordBatchFileReader=e.AsyncRecordBatchStreamReader=e.RecordBatchStreamReader=e.RecordBatchReader=void 0;var t=v(),r=O(),i=M(),n=de(),s=A(),a=he(),o=fe(),l=ye(),u=st(),c=B(),d=Te(),h=T(),f=class extends c.ReadableInterop{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let t=this._impl.open(e);return h.isPromise(t)?t.then((()=>this)):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return s.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return s.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof f?e:h.isArrowJSON(e)?function(e){return new p(new D(e))}(e):h.isFileHandle(e)?function(e){return t.__awaiter(this,void 0,void 0,(function*(){let{size:t}=yield e.stat(),r=new o.AsyncRandomAccessFile(e,t);return t>=d.magicX2AndPadding&&d.checkForMagicArrowString(yield r.readAt(0,d.magicLength+7&-8))?new _(new S(r)):new y(new w(r))}))}(e):h.isPromise(e)?(()=>t.__awaiter(this,void 0,void 0,(function*(){return yield f.from(yield e)})))():h.isFetchResponse(e)||h.isReadableDOMStream(e)||h.isReadableNodeStream(e)||h.isAsyncIterable(e)?function(e){return t.__awaiter(this,void 0,void 0,(function*(){let r=yield e.peek(d.magicLength+7&-8);return r&&r.byteLength>=4?d.checkForMagicArrowString(r)?new b(new I(yield e.read())):new y(new w(e)):new y(new w(function(){return t.__asyncGenerator(this,arguments,(function*(){}))}()))}))}(new a.AsyncByteStream(e)):function(e){let t=e.peek(d.magicLength+7&-8);return t&&t.byteLength>=4?d.checkForMagicArrowString(t)?new b(new I(e.read())):new p(new g(e)):new p(new g(function*(){}()))}(new a.ByteStream(e))}static readAll(e){return e instanceof f?e.isSync()?U(e):V(e):h.isArrowJSON(e)||ArrayBuffer.isView(e)||h.isIterable(e)||h.isIteratorResult(e)?U(e):V(e)}};e.RecordBatchReader=f;var p=class extends f{constructor(e){super(e),this._impl=e}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return t.__asyncGenerator(this,arguments,(function*(){yield t.__await(yield*t.__asyncDelegator(t.__asyncValues(this[Symbol.iterator]())))}))}};e.RecordBatchStreamReader=p;var y=class extends f{constructor(e){super(e),this._impl=e}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}};e.AsyncRecordBatchStreamReader=y;var b=class extends p{constructor(e){super(e),this._impl=e}};e.RecordBatchFileReader=b;var _=class extends y{constructor(e){super(e),this._impl=e}};e.AsyncRecordBatchFileReader=_;var m=class{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){return new u.RecordBatch(this.schema,e.length,this._loadVectors(e,t,this.schema.fields))}_loadDictionaryBatch(e,t){let{id:i,isDelta:n,data:s}=e,{dictionaries:a,schema:o}=this,l=a.get(i);if(n||!l){let e=o.dictionaries.get(i);return l&&n?l.concat(r.Vector.new(this._loadVectors(s,t,[e])[0])):r.Vector.new(this._loadVectors(s,t,[e])[0])}return l}_loadVectors(e,t,r){return new l.VectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}},g=class extends m{constructor(e,t){super(t),this._reader=h.isArrowJSON(e)?new d.JSONMessageReader(this._handle=e):new d.MessageReader(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=F(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):c.ITERATOR_DONE}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):c.ITERATOR_DONE}next(){if(this.closed)return c.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else{if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength),n=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,n)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new u._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},w=class extends m{constructor(e,t){super(t),this._reader=new d.AsyncMessageReader(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return t.__awaiter(this,void 0,void 0,(function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}))}open(e){return t.__awaiter(this,void 0,void 0,(function*(){return this.closed||(this.autoDestroy=F(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this}))}throw(e){return t.__awaiter(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):c.ITERATOR_DONE}))}return(e){return t.__awaiter(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):c.ITERATOR_DONE}))}next(){return t.__awaiter(this,void 0,void 0,(function*(){if(this.closed)return c.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else{if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength),n=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,n)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new u._InternalEmptyPlaceholderRecordBatch(this.schema)}):yield this.return()}))}_readNextMessageAndValidate(e){return t.__awaiter(this,void 0,void 0,(function*(){return yield this._reader.readMessage(e)}))}},I=class extends g{constructor(e,t){super(e instanceof o.RandomAccessFile?e:new o.RandomAccessFile(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let e of this._footer.dictionaryBatches())e&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){if(this.closed)return null;this._footer||this.open();let t=this._footer&&this._footer.getRecordBatch(e);if(t&&this._handle.seek(t.offset)){let e=this._reader.readMessage(i.MessageHeader.RecordBatch);if(null==e?void 0:e.isRecordBatch()){let t=e.header(),r=this._reader.readMessageBody(e.bodyLength);return this._loadRecordBatch(t,r)}}return null}_readDictionaryBatch(e){let t=this._footer&&this._footer.getDictionaryBatch(e);if(t&&this._handle.seek(t.offset)){let e=this._reader.readMessage(i.MessageHeader.DictionaryBatch);if(null==e?void 0:e.isDictionaryBatch()){let t=e.header(),r=this._reader.readMessageBody(e.bodyLength),i=this._loadDictionaryBatch(t,r);this.dictionaries.set(t.id,i)}}}_readFooter(){let{_handle:e}=this,t=e.size-d.magicAndPadding,r=e.readInt32(t),i=e.readAt(t-r,r);return n.Footer.decode(i)}_readNextMessageAndValidate(e){if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer&&this._footer.getRecordBatch(this._recordBatchIndex);if(t&&this._handle.seek(t.offset))return this._reader.readMessage(e)}return null}},S=class extends w{constructor(e,...t){let r="number"!=typeof t[0]?t.shift():void 0,i=t[0]instanceof Map?t.shift():void 0;super(e instanceof o.AsyncRandomAccessFile?e:new o.AsyncRandomAccessFile(e,r),i)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){let r=Object.create(null,{open:{get:()=>super.open}});return t.__awaiter(this,void 0,void 0,(function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let e of this._footer.dictionaryBatches())e&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield r.open.call(this,e)}))}readRecordBatch(e){return t.__awaiter(this,void 0,void 0,(function*(){if(this.closed)return null;this._footer||(yield this.open());let t=this._footer&&this._footer.getRecordBatch(e);if(t&&(yield this._handle.seek(t.offset))){let e=yield this._reader.readMessage(i.MessageHeader.RecordBatch);if(null==e?void 0:e.isRecordBatch()){let t=e.header(),r=yield this._reader.readMessageBody(e.bodyLength);return this._loadRecordBatch(t,r)}}return null}))}_readDictionaryBatch(e){return t.__awaiter(this,void 0,void 0,(function*(){let t=this._footer&&this._footer.getDictionaryBatch(e);if(t&&(yield this._handle.seek(t.offset))){let e=yield this._reader.readMessage(i.MessageHeader.DictionaryBatch);if(null==e?void 0:e.isDictionaryBatch()){let t=e.header(),r=yield this._reader.readMessageBody(e.bodyLength),i=this._loadDictionaryBatch(t,r);this.dictionaries.set(t.id,i)}}}))}_readFooter(){return t.__awaiter(this,void 0,void 0,(function*(){let{_handle:e}=this;e._pending&&(yield e._pending);let t=e.size-d.magicAndPadding,r=yield e.readInt32(t),i=yield e.readAt(t-r,r);return n.Footer.decode(i)}))}_readNextMessageAndValidate(e){return t.__awaiter(this,void 0,void 0,(function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&(yield this._handle.seek(t.offset)))return yield this._reader.readMessage(e)}return null}))}},D=class extends g{constructor(e,t){super(e,t)}_loadVectors(e,t,r){return new l.JSONVectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}};function F(e,t){return t&&"boolean"==typeof t.autoDestroy?t.autoDestroy:e.autoDestroy}function*U(e){let t=f.from(e);try{if(!t.open({autoDestroy:!1}).closed)do{yield t}while(!t.reset().open().closed)}finally{t.cancel()}}function V(e){return t.__asyncGenerator(this,arguments,(function*(){let r=yield t.__await(f.from(e));try{if(!(yield t.__await(r.open({autoDestroy:!1}))).closed)do{yield yield t.__await(r)}while(!(yield t.__await(r.reset().open())).closed)}finally{yield t.__await(r.cancel())}}))}})),ot=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toDOMStream=void 0;var t=v(),r=S(),i=T();e.toDOMStream=function(e,n){if(i.isAsyncIterable(e))return function(e,i){let n=null,s="bytes"===(null==i?void 0:i.type)||!1,a=(null==i?void 0:i.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},i),{start(r){return t.__awaiter(this,void 0,void 0,(function*(){yield o(r,n||(n=e[Symbol.asyncIterator]()))}))},pull(e){return t.__awaiter(this,void 0,void 0,(function*(){n?yield o(e,n):e.close()}))},cancel(){return t.__awaiter(this,void 0,void 0,(function*(){(null==n?void 0:n.return)&&(yield n.return()),n=null}))}}),Object.assign({highWaterMark:s?a:void 0},i));function o(e,i){return t.__awaiter(this,void 0,void 0,(function*(){let t,n=null,a=e.desiredSize||null;for(;!(n=yield i.next(s?a:null)).done;)if(ArrayBuffer.isView(n.value)&&(t=r.toUint8Array(n.value))&&(null!=a&&s&&(a=a-t.byteLength+1),n.value=t),e.enqueue(n.value),null!=a&&--a<=0)return;e.close()}))}}(e,n);if(i.isIterable(e))return function(e,t){let i=null,n="bytes"===(null==t?void 0:t.type)||!1,s=(null==t?void 0:t.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},t),{start(t){a(t,i||(i=e[Symbol.iterator]()))},pull(e){i?a(e,i):e.close()},cancel(){(null==i?void 0:i.return)&&i.return(),i=null}}),Object.assign({highWaterMark:n?s:void 0},t));function a(e,t){let i,s=null,a=e.desiredSize||null;for(;!(s=t.next(n?a:null)).done;)if(ArrayBuffer.isView(s.value)&&(i=r.toUint8Array(s.value))&&(null!=a&&n&&(a=a-i.byteLength+1),s.value=i),e.enqueue(s.value),null!=a&&--a<=0)return;e.close()}}(e,n);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}})),lt=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BuilderTransform=e.builderThroughDOMStream=void 0;var t=v(),r=ue();e.builderThroughDOMStream=function(e){return new i(e)};var i=class{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{readableStrategy:i,writableStrategy:a,queueingStrategy:o="count"}=e,l=t.__rest(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=r.Builder.new(l),this._getSize="bytes"!==o?n:s;let{highWaterMark:u=("bytes"===o?Math.pow(2,14):1e3)}=Object.assign({},i),{highWaterMark:c=("bytes"===o?Math.pow(2,14):1e3)}=Object.assign({},a);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:e=>{this._maybeFlush(this._builder,this._controller=e)},start:e=>{this._maybeFlush(this._builder,this._controller=e)}},{highWaterMark:u,size:"bytes"!==o?n:s}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:c,size:e=>this._writeValueAndReturnChunkSize(e)})}_writeValueAndReturnChunkSize(e){let t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t}_maybeFlush(e,t){null!==t&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||0===this._numChunks)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))}_enqueue(e,t){this._bufferedSize=0,this._controller=null,null===t?e.close():e.enqueue(t)}};e.BuilderTransform=i;var n=e=>e.length,s=e=>e.byteLength})),ut=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recordBatchReaderThroughDOMStream=void 0;var t=v(),r=he(),i=at();e.recordBatchReaderThroughDOMStream=function(e,n){let s=new r.AsyncByteQueue,a=null,o=new ReadableStream({cancel(){return t.__awaiter(this,void 0,void 0,(function*(){yield s.close()}))},start(e){return t.__awaiter(this,void 0,void 0,(function*(){yield l(e,a||(a=yield function(){return t.__awaiter(this,void 0,void 0,(function*(){return yield(yield i.RecordBatchReader.from(s)).open(n)}))}()))}))},pull(e){return t.__awaiter(this,void 0,void 0,(function*(){a?yield l(e,a):e.close()}))}});return{writable:new WritableStream(s,Object.assign({highWaterMark:Math.pow(2,14)},e)),readable:o};function l(e,r){return t.__awaiter(this,void 0,void 0,(function*(){let t=e.desiredSize,i=null;for(;!(i=yield r.next()).done;)if(e.enqueue(i.value),null!=t&&--t<=0)return;e.close()}))}}})),ct=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recordBatchWriterThroughDOMStream=void 0;var t=v(),r=he();e.recordBatchWriterThroughDOMStream=function(e,i){let n=new this(e),s=new r.AsyncByteStream(n),a=new ReadableStream({type:"bytes",cancel(){return t.__awaiter(this,void 0,void 0,(function*(){yield s.cancel()}))},pull(e){return t.__awaiter(this,void 0,void 0,(function*(){yield o(e)}))},start(e){return t.__awaiter(this,void 0,void 0,(function*(){yield o(e)}))}},Object.assign({highWaterMark:Math.pow(2,14)},i));return{writable:new WritableStream(n,e),readable:a};function o(e){return t.__awaiter(this,void 0,void 0,(function*(){let t=null,r=e.desiredSize;for(;t=yield s.read(r||null);)if(e.enqueue(t),null!=r&&(r-=t.byteLength)<=0)return;e.close()}))}}})),dt=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.custom=e.or=e.and=e.col=e.lit=e.CustomPredicate=e.Not=e.GTeq=e.LTeq=e.Equals=e.Or=e.And=e.CombinationPredicate=e.ComparisonPredicate=e.Predicate=e.Col=e.Literal=e.Value=void 0;var t=Le(),r=class{eq(e){return e instanceof r||(e=new i(e)),new c(this,e)}le(e){return e instanceof r||(e=new i(e)),new d(this,e)}ge(e){return e instanceof r||(e=new i(e)),new h(this,e)}lt(e){return new f(this.ge(e))}gt(e){return new f(this.le(e))}ne(e){return new f(this.eq(e))}};e.Value=r;var i=class extends r{constructor(e){super(),this.v=e}};e.Literal=i;var n=class extends r{constructor(e){super(),this.name=e}bind(e){if(!this.colidx){this.colidx=-1;let t=e.schema.fields;for(let e=-1;++e<t.length;)if(t[e].name===this.name){this.colidx=e;break}if(this.colidx<0)throw new Error(`Failed to bind Col "${this.name}"`)}let t=this.vector=e.getChildAt(this.colidx);return e=>t.get(e)}};e.Col=n;var s=class{and(...e){return new l(this,...e)}or(...e){return new u(this,...e)}not(){return new f(this)}};e.Predicate=s;var a=class extends s{constructor(e,t){super(),this.left=e,this.right=t}bind(e){return this.left instanceof i?this.right instanceof i?this._bindLitLit(e,this.left,this.right):this._bindLitCol(e,this.left,this.right):this.right instanceof i?this._bindColLit(e,this.left,this.right):this._bindColCol(e,this.left,this.right)}};e.ComparisonPredicate=a;var o=class extends s{constructor(...e){super(),this.children=e}};e.CombinationPredicate=o,o.prototype.children=Object.freeze([]);var l=class extends o{constructor(...e){e=e.reduce(((e,t)=>e.concat(t instanceof l?t.children:t)),[]),super(...e)}bind(e){let t=this.children.map((t=>t.bind(e)));return(e,r)=>t.every((t=>t(e,r)))}};e.And=l;var u=class extends o{constructor(...e){e=e.reduce(((e,t)=>e.concat(t instanceof u?t.children:t)),[]),super(...e)}bind(e){let t=this.children.map((t=>t.bind(e)));return(e,r)=>t.some((t=>t(e,r)))}};e.Or=u;var c=class extends a{_bindLitLit(e,t,r){let i=t.v==r.v;return()=>i}_bindColCol(e,t,r){let i=t.bind(e),n=r.bind(e);return(e,t)=>i(e,t)==n(e,t)}_bindColLit(e,r,i){let n=r.bind(e);if(r.vector instanceof t.DictionaryVector){let e,t=r.vector;return t.dictionary!==this.lastDictionary?(e=t.reverseLookup(i.v),this.lastDictionary=t.dictionary,this.lastKey=e):e=this.lastKey,-1===e?()=>!1:r=>t.getKey(r)===e}return(e,t)=>n(e,t)==i.v}_bindLitCol(e,t,r){return this._bindColLit(e,r,t)}};e.Equals=c;var d=class extends a{_bindLitLit(e,t,r){let i=t.v<=r.v;return()=>i}_bindColCol(e,t,r){let i=t.bind(e),n=r.bind(e);return(e,t)=>i(e,t)<=n(e,t)}_bindColLit(e,t,r){let i=t.bind(e);return(e,t)=>i(e,t)<=r.v}_bindLitCol(e,t,r){let i=r.bind(e);return(e,r)=>t.v<=i(e,r)}};e.LTeq=d;var h=class extends a{_bindLitLit(e,t,r){let i=t.v>=r.v;return()=>i}_bindColCol(e,t,r){let i=t.bind(e),n=r.bind(e);return(e,t)=>i(e,t)>=n(e,t)}_bindColLit(e,t,r){let i=t.bind(e);return(e,t)=>i(e,t)>=r.v}_bindLitCol(e,t,r){let i=r.bind(e);return(e,r)=>t.v>=i(e,r)}};e.GTeq=h;var f=class extends s{constructor(e){super(),this.child=e}bind(e){let t=this.child.bind(e);return(e,r)=>!t(e,r)}};e.Not=f;var p=class extends s{constructor(e,t){super(),this.next=e,this.bind_=t}bind(e){return this.bind_(e),this.next}};e.CustomPredicate=p,e.lit=function(e){return new i(e)},e.col=function(e){return new n(e)},e.and=function(...e){return new l(...e)},e.or=function(...e){return new u(...e)},e.custom=function(e,t){return new p(e,t)}})),ht=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FilteredDataFrame=e.CountByResult=e.DataFrame=void 0;var t=nt(),r=Ce(),i=ee(),n=dt(),s=st(),a=V(),o=class extends t.Table{filter(e){return new c(this.chunks,e)}scan(e,t){let r=this.chunks,i=r.length;for(let n=-1;++n<i;){let i=r[n];t&&t(i);for(let t=-1,r=i.length;++t<r;)e(t,i)}}scanReverse(e,t){let r=this.chunks;for(let i=r.length;--i>=0;){let n=r[i];t&&t(n);for(let t=n.length;--t>=0;)e(t,n)}}countBy(e){let t=this.chunks,i=t.length,s="string"==typeof e?new n.Col(e):e;s.bind(t[i-1]);let o=s.vector;if(!a.DataType.isDictionary(o.type))throw new Error("countBy currently only supports dictionary-encoded columns");let u=Math.ceil(Math.log(o.length)/Math.log(256)),c=new(4==u?Uint32Array:u>=2?Uint16Array:Uint8Array)(o.dictionary.length);for(let e=-1;++e<i;){let r=t[e];s.bind(r);let i=s.vector.indices;for(let e=-1,t=r.length;++e<t;){let t=i.get(e);null!==t&&c[t]++}}return new l(o.dictionary,r.IntVector.from(c))}};e.DataFrame=o;var l=class extends t.Table{constructor(e,t){let r=new i.Schema([new i.Field("values",e.type),new i.Field("counts",t.type)]);super(new s.RecordBatch(r,t.length,[e,t]))}toJSON(){let e=this.getColumnAt(0),t=this.getColumnAt(1),r={};for(let i=-1;++i<this.length;)r[e.get(i)]=t.get(i);return r}};e.CountByResult=l;var u=class{constructor(e,t){this.batches=e,this.predicate=t,this.batchIndex=0,this.index=0,this.batch=this.batches[this.batchIndex],this.predicateFunc=this.predicate.bind(this.batch)}next(){for(;this.batchIndex<this.batches.length;){for(;this.index<this.batch.length;){if(this.predicateFunc(this.index,this.batch))return{value:this.batch.get(this.index++)};this.index++}++this.batchIndex<this.batches.length&&(this.index=0,this.batch=this.batches[this.batchIndex],this.predicateFunc=this.predicate.bind(this.batch))}return{done:!0,value:null}}[Symbol.iterator](){return this}},c=class extends o{constructor(e,t){super(e),this._predicate=t}scan(e,t){let r=this._chunks,i=r.length;for(let n=-1;++n<i;){let i=r[n],s=this._predicate.bind(i),a=!1;for(let r=-1,n=i.length;++r<n;)s(r,i)&&(t&&!a&&(t(i),a=!0),e(r,i))}}scanReverse(e,t){let r=this._chunks;for(let i=r.length;--i>=0;){let n=r[i],s=this._predicate.bind(n),a=!1;for(let r=n.length;--r>=0;)s(r,n)&&(t&&!a&&(t(n),a=!0),e(r,n))}}count(){let e=0,t=this._chunks,r=t.length;for(let i=-1;++i<r;){let r=t[i],n=this._predicate.bind(r);for(let t=-1,i=r.length;++t<i;)n(t,r)&&++e}return e}[Symbol.iterator](){return new u(this._chunks,this._predicate)}filter(e){return new c(this._chunks,this._predicate.and(e))}countBy(e){let t=this._chunks,i=t.length,s="string"==typeof e?new n.Col(e):e;s.bind(t[i-1]);let o=s.vector;if(!a.DataType.isDictionary(o.type))throw new Error("countBy currently only supports dictionary-encoded columns");let u=Math.ceil(Math.log(o.length)/Math.log(256)),c=new(4==u?Uint32Array:u>=2?Uint16Array:Uint8Array)(o.dictionary.length);for(let e=-1;++e<i;){let r=t[e],i=this._predicate.bind(r);s.bind(r);let n=s.vector.indices;for(let e=-1,t=r.length;++e<t;){let t=n.get(e);null!==t&&i(e,r)&&c[t]++}}return new l(o.dictionary,r.IntVector.from(c))}};e.FilteredDataFrame=c})),ft=b((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTypedArray=e.util=e.predicate=e.CountByResult=e.FilteredDataFrame=e.DataFrame=e.RecordBatch=e.Message=e.JSONMessageReader=e.AsyncMessageReader=e.MessageReader=e.RecordBatchJSONWriter=e.RecordBatchStreamWriter=e.RecordBatchFileWriter=e.RecordBatchWriter=e.AsyncRecordBatchStreamReader=e.AsyncRecordBatchFileReader=e.RecordBatchStreamReader=e.RecordBatchFileReader=e.RecordBatchReader=e.AsyncByteQueue=e.AsyncByteStream=e.ByteStream=e.Utf8Builder=e.SparseUnionBuilder=e.DenseUnionBuilder=e.UnionBuilder=e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=e.StructBuilder=e.NullBuilder=e.MapBuilder=e.ListBuilder=e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=e.FixedSizeListBuilder=e.FixedSizeBinaryBuilder=e.DictionaryBuilder=e.DecimalBuilder=e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=e.BoolBuilder=e.BinaryBuilder=e.Builder=e.Utf8Vector=e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=e.StructVector=e.NullVector=e.MapVector=e.ListVector=e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=e.FixedSizeListVector=e.FixedSizeBinaryVector=e.DictionaryVector=e.DecimalVector=e.DateMillisecondVector=e.DateDayVector=e.DateVector=e.Chunked=e.BoolVector=e.BinaryVector=e.BaseVector=e.Vector=e.Field=e.Schema=e.Visitor=e.Column=e.Table=e.Map_=e.FixedSizeList=e.IntervalYearMonth=e.IntervalDayTime=e.Interval=e.Dictionary=e.SparseUnion=e.DenseUnion=e.Union=e.Struct=e.List=e.Decimal=e.TimeNanosecond=e.TimeMicrosecond=e.TimeMillisecond=e.TimeSecond=e.Time=e.TimestampNanosecond=e.TimestampMicrosecond=e.TimestampMillisecond=e.TimestampSecond=e.Timestamp=e.DateMillisecond=e.DateDay=e.Date_=e.FixedSizeBinary=e.Binary=e.Utf8=e.Float64=e.Float32=e.Float16=e.Float=e.Uint64=e.Uint32=e.Uint16=e.Uint8=e.Int64=e.Int32=e.Int16=e.Int8=e.Int=e.Bool=e.Null=e.DataType=e.Data=e.BufferType=e.Type=e.MessageHeader=e.MetadataVersion=e.IntervalUnit=e.UnionMode=e.Precision=e.TimeUnit=e.DateUnit=void 0;var t=D();Object.defineProperty(e,"DateUnit",{enumerable:!0,get:function(){return t.DateUnit}}),Object.defineProperty(e,"TimeUnit",{enumerable:!0,get:function(){return t.TimeUnit}}),Object.defineProperty(e,"Precision",{enumerable:!0,get:function(){return t.Precision}}),Object.defineProperty(e,"UnionMode",{enumerable:!0,get:function(){return t.UnionMode}}),Object.defineProperty(e,"IntervalUnit",{enumerable:!0,get:function(){return t.IntervalUnit}}),Object.defineProperty(e,"MetadataVersion",{enumerable:!0,get:function(){return t.MetadataVersion}});var r=F();Object.defineProperty(e,"MessageHeader",{enumerable:!0,get:function(){return r.MessageHeader}});var i=M();Object.defineProperty(e,"Type",{enumerable:!0,get:function(){return i.Type}}),Object.defineProperty(e,"BufferType",{enumerable:!0,get:function(){return i.BufferType}});var n=P();Object.defineProperty(e,"Data",{enumerable:!0,get:function(){return n.Data}});var s=V();Object.defineProperty(e,"DataType",{enumerable:!0,get:function(){return s.DataType}}),Object.defineProperty(e,"Null",{enumerable:!0,get:function(){return s.Null}}),Object.defineProperty(e,"Bool",{enumerable:!0,get:function(){return s.Bool}}),Object.defineProperty(e,"Int",{enumerable:!0,get:function(){return s.Int}}),Object.defineProperty(e,"Int8",{enumerable:!0,get:function(){return s.Int8}}),Object.defineProperty(e,"Int16",{enumerable:!0,get:function(){return s.Int16}}),Object.defineProperty(e,"Int32",{enumerable:!0,get:function(){return s.Int32}}),Object.defineProperty(e,"Int64",{enumerable:!0,get:function(){return s.Int64}}),Object.defineProperty(e,"Uint8",{enumerable:!0,get:function(){return s.Uint8}}),Object.defineProperty(e,"Uint16",{enumerable:!0,get:function(){return s.Uint16}}),Object.defineProperty(e,"Uint32",{enumerable:!0,get:function(){return s.Uint32}}),Object.defineProperty(e,"Uint64",{enumerable:!0,get:function(){return s.Uint64}}),Object.defineProperty(e,"Float",{enumerable:!0,get:function(){return s.Float}}),Object.defineProperty(e,"Float16",{enumerable:!0,get:function(){return s.Float16}}),Object.defineProperty(e,"Float32",{enumerable:!0,get:function(){return s.Float32}}),Object.defineProperty(e,"Float64",{enumerable:!0,get:function(){return s.Float64}}),Object.defineProperty(e,"Utf8",{enumerable:!0,get:function(){return s.Utf8}}),Object.defineProperty(e,"Binary",{enumerable:!0,get:function(){return s.Binary}}),Object.defineProperty(e,"FixedSizeBinary",{enumerable:!0,get:function(){return s.FixedSizeBinary}}),Object.defineProperty(e,"Date_",{enumerable:!0,get:function(){return s.Date_}}),Object.defineProperty(e,"DateDay",{enumerable:!0,get:function(){return s.DateDay}}),Object.defineProperty(e,"DateMillisecond",{enumerable:!0,get:function(){return s.DateMillisecond}}),Object.defineProperty(e,"Timestamp",{enumerable:!0,get:function(){return s.Timestamp}}),Object.defineProperty(e,"TimestampSecond",{enumerable:!0,get:function(){return s.TimestampSecond}}),Object.defineProperty(e,"TimestampMillisecond",{enumerable:!0,get:function(){return s.TimestampMillisecond}}),Object.defineProperty(e,"TimestampMicrosecond",{enumerable:!0,get:function(){return s.TimestampMicrosecond}}),Object.defineProperty(e,"TimestampNanosecond",{enumerable:!0,get:function(){return s.TimestampNanosecond}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return s.Time}}),Object.defineProperty(e,"TimeSecond",{enumerable:!0,get:function(){return s.TimeSecond}}),Object.defineProperty(e,"TimeMillisecond",{enumerable:!0,get:function(){return s.TimeMillisecond}}),Object.defineProperty(e,"TimeMicrosecond",{enumerable:!0,get:function(){return s.TimeMicrosecond}}),Object.defineProperty(e,"TimeNanosecond",{enumerable:!0,get:function(){return s.TimeNanosecond}}),Object.defineProperty(e,"Decimal",{enumerable:!0,get:function(){return s.Decimal}}),Object.defineProperty(e,"List",{enumerable:!0,get:function(){return s.List}}),Object.defineProperty(e,"Struct",{enumerable:!0,get:function(){return s.Struct}}),Object.defineProperty(e,"Union",{enumerable:!0,get:function(){return s.Union}}),Object.defineProperty(e,"DenseUnion",{enumerable:!0,get:function(){return s.DenseUnion}}),Object.defineProperty(e,"SparseUnion",{enumerable:!0,get:function(){return s.SparseUnion}}),Object.defineProperty(e,"Dictionary",{enumerable:!0,get:function(){return s.Dictionary}}),Object.defineProperty(e,"Interval",{enumerable:!0,get:function(){return s.Interval}}),Object.defineProperty(e,"IntervalDayTime",{enumerable:!0,get:function(){return s.IntervalDayTime}}),Object.defineProperty(e,"IntervalYearMonth",{enumerable:!0,get:function(){return s.IntervalYearMonth}}),Object.defineProperty(e,"FixedSizeList",{enumerable:!0,get:function(){return s.FixedSizeList}}),Object.defineProperty(e,"Map_",{enumerable:!0,get:function(){return s.Map_}});var a=nt();Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return a.Table}});var o=ve();Object.defineProperty(e,"Column",{enumerable:!0,get:function(){return o.Column}});var l=ae();Object.defineProperty(e,"Visitor",{enumerable:!0,get:function(){return l.Visitor}});var u=ee();Object.defineProperty(e,"Schema",{enumerable:!0,get:function(){return u.Schema}}),Object.defineProperty(e,"Field",{enumerable:!0,get:function(){return u.Field}});var c=it();Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return c.Vector}}),Object.defineProperty(e,"BaseVector",{enumerable:!0,get:function(){return c.BaseVector}}),Object.defineProperty(e,"BinaryVector",{enumerable:!0,get:function(){return c.BinaryVector}}),Object.defineProperty(e,"BoolVector",{enumerable:!0,get:function(){return c.BoolVector}}),Object.defineProperty(e,"Chunked",{enumerable:!0,get:function(){return c.Chunked}}),Object.defineProperty(e,"DateVector",{enumerable:!0,get:function(){return c.DateVector}}),Object.defineProperty(e,"DateDayVector",{enumerable:!0,get:function(){return c.DateDayVector}}),Object.defineProperty(e,"DateMillisecondVector",{enumerable:!0,get:function(){return c.DateMillisecondVector}}),Object.defineProperty(e,"DecimalVector",{enumerable:!0,get:function(){return c.DecimalVector}}),Object.defineProperty(e,"DictionaryVector",{enumerable:!0,get:function(){return c.DictionaryVector}}),Object.defineProperty(e,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return c.FixedSizeBinaryVector}}),Object.defineProperty(e,"FixedSizeListVector",{enumerable:!0,get:function(){return c.FixedSizeListVector}}),Object.defineProperty(e,"FloatVector",{enumerable:!0,get:function(){return c.FloatVector}}),Object.defineProperty(e,"Float16Vector",{enumerable:!0,get:function(){return c.Float16Vector}}),Object.defineProperty(e,"Float32Vector",{enumerable:!0,get:function(){return c.Float32Vector}}),Object.defineProperty(e,"Float64Vector",{enumerable:!0,get:function(){return c.Float64Vector}}),Object.defineProperty(e,"IntervalVector",{enumerable:!0,get:function(){return c.IntervalVector}}),Object.defineProperty(e,"IntervalDayTimeVector",{enumerable:!0,get:function(){return c.IntervalDayTimeVector}}),Object.defineProperty(e,"IntervalYearMonthVector",{enumerable:!0,get:function(){return c.IntervalYearMonthVector}}),Object.defineProperty(e,"IntVector",{enumerable:!0,get:function(){return c.IntVector}}),Object.defineProperty(e,"Int8Vector",{enumerable:!0,get:function(){return c.Int8Vector}}),Object.defineProperty(e,"Int16Vector",{enumerable:!0,get:function(){return c.Int16Vector}}),Object.defineProperty(e,"Int32Vector",{enumerable:!0,get:function(){return c.Int32Vector}}),Object.defineProperty(e,"Int64Vector",{enumerable:!0,get:function(){return c.Int64Vector}}),Object.defineProperty(e,"Uint8Vector",{enumerable:!0,get:function(){return c.Uint8Vector}}),Object.defineProperty(e,"Uint16Vector",{enumerable:!0,get:function(){return c.Uint16Vector}}),Object.defineProperty(e,"Uint32Vector",{enumerable:!0,get:function(){return c.Uint32Vector}}),Object.defineProperty(e,"Uint64Vector",{enumerable:!0,get:function(){return c.Uint64Vector}}),Object.defineProperty(e,"ListVector",{enumerable:!0,get:function(){return c.ListVector}}),Object.defineProperty(e,"MapVector",{enumerable:!0,get:function(){return c.MapVector}}),Object.defineProperty(e,"NullVector",{enumerable:!0,get:function(){return c.NullVector}}),Object.defineProperty(e,"StructVector",{enumerable:!0,get:function(){return c.StructVector}}),Object.defineProperty(e,"TimestampVector",{enumerable:!0,get:function(){return c.TimestampVector}}),Object.defineProperty(e,"TimestampSecondVector",{enumerable:!0,get:function(){return c.TimestampSecondVector}}),Object.defineProperty(e,"TimestampMillisecondVector",{enumerable:!0,get:function(){return c.TimestampMillisecondVector}}),Object.defineProperty(e,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return c.TimestampMicrosecondVector}}),Object.defineProperty(e,"TimestampNanosecondVector",{enumerable:!0,get:function(){return c.TimestampNanosecondVector}}),Object.defineProperty(e,"TimeVector",{enumerable:!0,get:function(){return c.TimeVector}}),Object.defineProperty(e,"TimeSecondVector",{enumerable:!0,get:function(){return c.TimeSecondVector}}),Object.defineProperty(e,"TimeMillisecondVector",{enumerable:!0,get:function(){return c.TimeMillisecondVector}}),Object.defineProperty(e,"TimeMicrosecondVector",{enumerable:!0,get:function(){return c.TimeMicrosecondVector}}),Object.defineProperty(e,"TimeNanosecondVector",{enumerable:!0,get:function(){return c.TimeNanosecondVector}}),Object.defineProperty(e,"UnionVector",{enumerable:!0,get:function(){return c.UnionVector}}),Object.defineProperty(e,"DenseUnionVector",{enumerable:!0,get:function(){return c.DenseUnionVector}}),Object.defineProperty(e,"SparseUnionVector",{enumerable:!0,get:function(){return c.SparseUnionVector}}),Object.defineProperty(e,"Utf8Vector",{enumerable:!0,get:function(){return c.Utf8Vector}});var d=ue();Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return d.Builder}}),Object.defineProperty(e,"BinaryBuilder",{enumerable:!0,get:function(){return d.BinaryBuilder}}),Object.defineProperty(e,"BoolBuilder",{enumerable:!0,get:function(){return d.BoolBuilder}}),Object.defineProperty(e,"DateBuilder",{enumerable:!0,get:function(){return d.DateBuilder}}),Object.defineProperty(e,"DateDayBuilder",{enumerable:!0,get:function(){return d.DateDayBuilder}}),Object.defineProperty(e,"DateMillisecondBuilder",{enumerable:!0,get:function(){return d.DateMillisecondBuilder}}),Object.defineProperty(e,"DecimalBuilder",{enumerable:!0,get:function(){return d.DecimalBuilder}}),Object.defineProperty(e,"DictionaryBuilder",{enumerable:!0,get:function(){return d.DictionaryBuilder}}),Object.defineProperty(e,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return d.FixedSizeBinaryBuilder}}),Object.defineProperty(e,"FixedSizeListBuilder",{enumerable:!0,get:function(){return d.FixedSizeListBuilder}}),Object.defineProperty(e,"FloatBuilder",{enumerable:!0,get:function(){return d.FloatBuilder}}),Object.defineProperty(e,"Float16Builder",{enumerable:!0,get:function(){return d.Float16Builder}}),Object.defineProperty(e,"Float32Builder",{enumerable:!0,get:function(){return d.Float32Builder}}),Object.defineProperty(e,"Float64Builder",{enumerable:!0,get:function(){return d.Float64Builder}}),Object.defineProperty(e,"IntervalBuilder",{enumerable:!0,get:function(){return d.IntervalBuilder}}),Object.defineProperty(e,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return d.IntervalDayTimeBuilder}}),Object.defineProperty(e,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return d.IntervalYearMonthBuilder}}),Object.defineProperty(e,"IntBuilder",{enumerable:!0,get:function(){return d.IntBuilder}}),Object.defineProperty(e,"Int8Builder",{enumerable:!0,get:function(){return d.Int8Builder}}),Object.defineProperty(e,"Int16Builder",{enumerable:!0,get:function(){return d.Int16Builder}}),Object.defineProperty(e,"Int32Builder",{enumerable:!0,get:function(){return d.Int32Builder}}),Object.defineProperty(e,"Int64Builder",{enumerable:!0,get:function(){return d.Int64Builder}}),Object.defineProperty(e,"Uint8Builder",{enumerable:!0,get:function(){return d.Uint8Builder}}),Object.defineProperty(e,"Uint16Builder",{enumerable:!0,get:function(){return d.Uint16Builder}}),Object.defineProperty(e,"Uint32Builder",{enumerable:!0,get:function(){return d.Uint32Builder}}),Object.defineProperty(e,"Uint64Builder",{enumerable:!0,get:function(){return d.Uint64Builder}}),Object.defineProperty(e,"ListBuilder",{enumerable:!0,get:function(){return d.ListBuilder}}),Object.defineProperty(e,"MapBuilder",{enumerable:!0,get:function(){return d.MapBuilder}}),Object.defineProperty(e,"NullBuilder",{enumerable:!0,get:function(){return d.NullBuilder}}),Object.defineProperty(e,"StructBuilder",{enumerable:!0,get:function(){return d.StructBuilder}}),Object.defineProperty(e,"TimestampBuilder",{enumerable:!0,get:function(){return d.TimestampBuilder}}),Object.defineProperty(e,"TimestampSecondBuilder",{enumerable:!0,get:function(){return d.TimestampSecondBuilder}}),Object.defineProperty(e,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return d.TimestampMillisecondBuilder}}),Object.defineProperty(e,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return d.TimestampMicrosecondBuilder}}),Object.defineProperty(e,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return d.TimestampNanosecondBuilder}}),Object.defineProperty(e,"TimeBuilder",{enumerable:!0,get:function(){return d.TimeBuilder}}),Object.defineProperty(e,"TimeSecondBuilder",{enumerable:!0,get:function(){return d.TimeSecondBuilder}}),Object.defineProperty(e,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return d.TimeMillisecondBuilder}}),Object.defineProperty(e,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return d.TimeMicrosecondBuilder}}),Object.defineProperty(e,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return d.TimeNanosecondBuilder}}),Object.defineProperty(e,"UnionBuilder",{enumerable:!0,get:function(){return d.UnionBuilder}}),Object.defineProperty(e,"DenseUnionBuilder",{enumerable:!0,get:function(){return d.DenseUnionBuilder}}),Object.defineProperty(e,"SparseUnionBuilder",{enumerable:!0,get:function(){return d.SparseUnionBuilder}}),Object.defineProperty(e,"Utf8Builder",{enumerable:!0,get:function(){return d.Utf8Builder}});var h=he();Object.defineProperty(e,"ByteStream",{enumerable:!0,get:function(){return h.ByteStream}}),Object.defineProperty(e,"AsyncByteStream",{enumerable:!0,get:function(){return h.AsyncByteStream}}),Object.defineProperty(e,"AsyncByteQueue",{enumerable:!0,get:function(){return h.AsyncByteQueue}});var f=at();Object.defineProperty(e,"RecordBatchReader",{enumerable:!0,get:function(){return f.RecordBatchReader}}),Object.defineProperty(e,"RecordBatchFileReader",{enumerable:!0,get:function(){return f.RecordBatchFileReader}}),Object.defineProperty(e,"RecordBatchStreamReader",{enumerable:!0,get:function(){return f.RecordBatchStreamReader}}),Object.defineProperty(e,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return f.AsyncRecordBatchFileReader}}),Object.defineProperty(e,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return f.AsyncRecordBatchStreamReader}});var p=Fe();Object.defineProperty(e,"RecordBatchWriter",{enumerable:!0,get:function(){return p.RecordBatchWriter}}),Object.defineProperty(e,"RecordBatchFileWriter",{enumerable:!0,get:function(){return p.RecordBatchFileWriter}}),Object.defineProperty(e,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return p.RecordBatchStreamWriter}}),Object.defineProperty(e,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return p.RecordBatchJSONWriter}});var y=Te();Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return y.MessageReader}}),Object.defineProperty(e,"AsyncMessageReader",{enumerable:!0,get:function(){return y.AsyncMessageReader}}),Object.defineProperty(e,"JSONMessageReader",{enumerable:!0,get:function(){return y.JSONMessageReader}});var b=Be();Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return b.Message}});var _=st();Object.defineProperty(e,"RecordBatch",{enumerable:!0,get:function(){return _.RecordBatch}});var m=ht();Object.defineProperty(e,"DataFrame",{enumerable:!0,get:function(){return m.DataFrame}}),Object.defineProperty(e,"FilteredDataFrame",{enumerable:!0,get:function(){return m.FilteredDataFrame}}),Object.defineProperty(e,"CountByResult",{enumerable:!0,get:function(){return m.CountByResult}});var g=$(),v=pe(),w=U(),I=H(),B=S(),T=_e(),A=dt();e.predicate=A;var O=Se();e.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},g),v),w),I),B),T),{compareSchemas:O.compareSchemas,compareFields:O.compareFields,compareTypes:O.compareTypes});var E=me();Object.defineProperty(e,"isTypedArray",{enumerable:!0,get:function(){return E.isTypedArray}})})),pt=b((()=>{})),yt=b((()=>{})),bt={};((e,t)=>{for(var i in t)r(e,i,{get:t[i],enumerable:!0})})(bt,{registerWorker:()=>zt});var _t=m(A(),1),mt=m(ue(),1),gt=m(at(),1),vt=m(Fe(),1),wt=m(ot(),1),It=m(lt(),1),Bt=m(ut(),1),Tt=m(ct(),1),St=m(ft(),1);function At(e){switch(e.typeId){case St.Type.Binary:return{type:"binary"};case St.Type.Bool:return{type:"bool"};case St.Type.Date:return{type:"date"};case St.Type.DateDay:return{type:"date32[d]"};case St.Type.DateMillisecond:return{type:"date64[ms]"};case St.Type.Decimal:{let t=e;return{type:"decimal",precision:t.precision,scale:t.scale}}case St.Type.Float:return{type:"float"};case St.Type.Float16:return{type:"float16"};case St.Type.Float32:return{type:"float32"};case St.Type.Float64:return{type:"float64"};case St.Type.Int:return{type:"int32"};case St.Type.Int16:return{type:"int16"};case St.Type.Int32:return{type:"int32"};case St.Type.Int64:return{type:"int64"};case St.Type.Uint16:return{type:"uint16"};case St.Type.Uint32:return{type:"uint32"};case St.Type.Uint64:return{type:"uint64"};case St.Type.Uint8:return{type:"uint8"};case St.Type.IntervalDayTime:return{type:"interval[dt]"};case St.Type.IntervalYearMonth:return{type:"interval[m]"};case St.Type.List:{let t=e;return{type:"list",children:[Ot(t.valueField.name,t.valueField.type)]}}case St.Type.FixedSizeBinary:return{type:"fixedsizebinary",byteWidth:e.byteWidth};case St.Type.Null:return{type:"null"};case St.Type.Utf8:return{type:"utf8"};case St.Type.Struct:return{type:"struct",children:e.children.map((e=>Ot(e.name,e.type)))};case St.Type.Time:return{type:"time[s]"};case St.Type.TimeMicrosecond:return{type:"time[us]"};case St.Type.TimeMillisecond:return{type:"time[ms]"};case St.Type.TimeNanosecond:return{type:"time[ns]"};case St.Type.TimeSecond:return{type:"time[s]"};case St.Type.Timestamp:return{type:"timestamp",timezone:e.timezone||void 0};case St.Type.TimestampSecond:return{type:"timestamp[s]",timezone:e.timezone||void 0};case St.Type.TimestampMicrosecond:return{type:"timestamp[us]",timezone:e.timezone||void 0};case St.Type.TimestampNanosecond:return{type:"timestamp[ns]",timezone:e.timezone||void 0};case St.Type.TimestampMillisecond:return{type:"timestamp[ms]",timezone:e.timezone||void 0}}throw new Error(`unsupported arrow type: ${e.toString()}`)}function Ot(e,t){let r=At(t);return r.name=e,r}_t.default.toDOMStream=wt.toDOMStream,mt.Builder.throughDOM=It.builderThroughDOMStream,gt.RecordBatchReader.throughDOM=Bt.recordBatchReaderThroughDOMStream,gt.RecordBatchFileReader.throughDOM=Bt.recordBatchReaderThroughDOMStream,gt.RecordBatchStreamReader.throughDOM=Bt.recordBatchReaderThroughDOMStream,vt.RecordBatchWriter.throughDOM=Tt.recordBatchWriterThroughDOMStream,vt.RecordBatchFileWriter.throughDOM=Tt.recordBatchWriterThroughDOMStream,vt.RecordBatchStreamWriter.throughDOM=Tt.recordBatchWriterThroughDOMStream;var Dt={},Ft=function(){var e=Dt.url;return function(t){var r,i,n=void 0!==(t=t||{})?t:{};n.ready=new Promise((function(e,t){r=e,i=t}));var s,a={};for(s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);var o,l,u,c,d=[],h="./this.program",f=function(e,t){throw t},p="object"==typeof window,b="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";_?(m=b?pt().dirname(m)+"/":__dirname+"/",o=function(e,t){return u||(u=yt()),c||(c=pt()),e=c.normalize(e),u.readFileSync(e,t?null:"utf8")},l=function(e){var t=o(e,!0);return t.buffer||(t=new Uint8Array(t)),A(t.buffer),t},process.argv.length>1&&(h=process.argv[1].replace(/\\/g,"/")),d=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof Re))throw e})),process.on("unhandledRejection",(function(e){throw e})),f=function(e,t){if($())throw process.exitCode=e,t;(function(e){e instanceof Re||w("exiting due to exception: "+e)})(t),process.exit(e)},n.inspect=function(){return"[Emscripten Module object]"}):(p||b)&&(b?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),e&&(m=e),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},b&&(l=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var g,v=n.print||console.log.bind(console),w=n.printErr||console.warn.bind(console);for(s in a)a.hasOwnProperty(s)&&(n[s]=a[s]);a=null,n.arguments&&(d=n.arguments),n.thisProgram&&(h=n.thisProgram),n.quit&&(f=n.quit),n.wasmBinary&&(g=n.wasmBinary);var I=n.noExitRuntime||!0;"object"!=typeof WebAssembly&&X("no native wasm support detected");var B,T,S=!1;function A(e,t){e||X("Assertion failed: "+t)}var O,D,F,M,U,V,P="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function E(e,t,r){for(var i=t+r,n=t;e[n]&&!(n>=i);)++n;if(n-t>16&&e.subarray&&P)return P.decode(e.subarray(t,n));for(var s="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192!=(224&a)){var l=63&e[t++];if((a=224==(240&a)?(15&a)<<12|o<<6|l:(7&a)<<18|o<<12|l<<6|63&e[t++])<65536)s+=String.fromCharCode(a);else{var u=a-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else s+=String.fromCharCode((31&a)<<6|o)}else s+=String.fromCharCode(a)}return s}function R(e,t){return e?E(F,e,t):""}function L(e,t,r,i){if(!(i>0))return 0;for(var n=r,s=r+i-1,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),o<=127){if(r>=s)break;t[r++]=o}else if(o<=2047){if(r+1>=s)break;t[r++]=192|o>>6,t[r++]=128|63&o}else if(o<=65535){if(r+2>=s)break;t[r++]=224|o>>12,t[r++]=128|o>>6&63,t[r++]=128|63&o}else{if(r+3>=s)break;t[r++]=240|o>>18,t[r++]=128|o>>12&63,t[r++]=128|o>>6&63,t[r++]=128|63&o}}return t[r]=0,r-n}function x(e,t,r){return L(e,F,t,r)}function N(e,t){D.set(e,t)}function j(e,t){return e%t>0&&(e+=t-e%t),e}function k(e){O=e,n.HEAP8=D=new Int8Array(e),n.HEAP16=M=new Int16Array(e),n.HEAP32=V=new Int32Array(e),n.HEAPU8=F=new Uint8Array(e),n.HEAPU16=U=new Uint16Array(e),n.HEAPU32=new Uint32Array(e),n.HEAPF32=new Float32Array(e),n.HEAPF64=new Float64Array(e)}n.INITIAL_MEMORY;var C,z=[],W=[],H=[],Y=[];function $(){return I||!1}var G,K,J=0,q=null,Z=null;function X(e){n.onAbort&&n.onAbort(e),w(e="Aborted("+e+")"),S=!0,T=1,e+=". Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw i(t),t}function Q(e){return e.startsWith("data:application/octet-stream;base64,")}function ee(e){try{if(e==G&&g)return new Uint8Array(g);if(l)return l(e);throw"both async and sync fetching of the wasm failed"}catch(e){X(e)}}function te(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?C.get(r)():C.get(r)(t.arg):r(void 0===t.arg?null:t.arg)}else t(n)}}n.preloadedImages={},n.preloadedAudios={},n.locateFile?Q(G="./duckdb-eh.wasm")||(K=G,G=n.locateFile?n.locateFile(K,m):m+K):G=new URL("./duckdb-eh.wasm",Dt.url).toString();var re={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var r=re.buffers[e];0===t||10===t?((1===e?v:w)(E(r,0)),r.length=0):r.push(t)},varargs:void 0,get:function(){return re.varargs+=4,V[re.varargs-4>>2]},getStr:function(e){return R(e)},get64:function(e,t){return e}};function ie(){w("missing function: $SOCKFS"),X(-1)}function ne(){w("missing function: $FS"),X(-1)}function se(e){var t=ie.getSocket(e);if(!t)throw new ne.ErrnoError(8);return t}function ae(e){return(255&e)+"."+(e>>8&255)+"."+(e>>16&255)+"."+(e>>24&255)}function oe(e){var t="",r=0,i=0,n=0,s=0,a=0,o=0,l=[65535&e[0],e[0]>>16,65535&e[1],e[1]>>16,65535&e[2],e[2]>>16,65535&e[3],e[3]>>16],u=!0,c="";for(o=0;o<5;o++)if(0!==l[o]){u=!1;break}if(u){if(c=ae(l[6]|l[7]<<16),-1===l[5])return(t="::ffff:")+c;if(0===l[5])return"0.0.0.0"===c&&(c=""),"0.0.0.1"===c&&(c="1"),(t="::")+c}for(r=0;r<8;r++)0===l[r]&&(r-n>1&&(a=0),n=r,a++),a>i&&(s=r-(i=a)+1);for(r=0;r<8;r++)i>1&&0===l[r]&&r>=s&&r<s+i?r===s&&(t+=":",0===s&&(t+=":")):(t+=Number(De(65535&l[r])).toString(16),t+=r<7?":":"");return t}function le(e,t){var r,i=M[e>>1],n=De(U[e+2>>1]);switch(i){case 2:if(16!==t)return{errno:28};r=ae(r=V[e+4>>2]);break;case 10:if(28!==t)return{errno:28};r=oe(r=[V[e+8>>2],V[e+12>>2],V[e+16>>2],V[e+20>>2]]);break;default:return{errno:5}}return{family:i,addr:r,port:n}}function ue(e,t,r){if(r&&0===e)return null;var i=le(e,t);if(i.errno)throw new ne.ErrnoError(i.errno);return i.addr=be.lookup_addr(i.addr)||i.addr,i}function ce(e){for(var t=e.split("."),r=0;r<4;r++){var i=Number(t[r]);if(isNaN(i))return null;t[r]=i}return(t[0]|t[1]<<8|t[2]<<16|t[3]<<24)>>>0}function de(e){return parseInt(e)}function he(e){var t,r,i,n,s=[];if(!/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i.test(e))return null;if("::"===e)return[0,0,0,0,0,0,0,0];for((e=e.startsWith("::")?e.replace("::","Z:"):e.replace("::",":Z:")).indexOf(".")>0?((t=(e=e.replace(new RegExp("[.]","g"),":")).split(":"))[t.length-4]=de(t[t.length-4])+256*de(t[t.length-3]),t[t.length-3]=de(t[t.length-2])+256*de(t[t.length-1]),t=t.slice(0,t.length-2)):t=e.split(":"),i=0,n=0,r=0;r<t.length;r++)if("string"==typeof t[r])if("Z"===t[r]){for(n=0;n<8-t.length+1;n++)s[r+n]=0;i=n-1}else s[r+i]=Fe(parseInt(t[r],16));else s[r+i]=t[r];return[s[1]<<16|s[0],s[3]<<16|s[2],s[5]<<16|s[4],s[7]<<16|s[6]]}function fe(e,t){F.fill(0,e,e+t)}function pe(e,t,r,i,n){switch(t){case 2:r=ce(r),fe(e,16),n&&(V[n>>2]=16),M[e>>1]=t,V[e+4>>2]=r,M[e+2>>1]=Fe(i);break;case 10:r=he(r),fe(e,28),n&&(V[n>>2]=28),V[e>>2]=t,V[e+8>>2]=r[0],V[e+12>>2]=r[1],V[e+16>>2]=r[2],V[e+20>>2]=r[3],M[e+2>>1]=Fe(i);break;default:return 5}return 0}var ye,be={address_map:{id:1,addrs:{},names:{}},lookup_name:function(e){var t,r=ce(e);if(null!==r||null!==(r=he(e)))return e;if(be.address_map.addrs[e])t=be.address_map.addrs[e];else{var i=be.address_map.id++;A(i<65535,"exceeded max address mappings of 65535"),t="172.29."+(255&i)+"."+(65280&i),be.address_map.names[t]=e,be.address_map.addrs[e]=t}return t},lookup_addr:function(e){return be.address_map.names[e]?be.address_map.names[e]:null}};function _e(e){try{return B.grow(e-O.byteLength+65535>>>16),k(B.buffer),1}catch(e){}}ye=_?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:function(){return performance.now()};var me={};function ge(){if(!ge.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"};for(var t in me)void 0===me[t]?delete e[t]:e[t]=me[t];var r=[];for(var t in e)r.push(t+"="+e[t]);ge.strings=r}return ge.strings}function ve(e){return e%4==0&&(e%100!=0||e%400==0)}function we(e,t){for(var r=0,i=0;i<=t;r+=e[i++]);return r}var Ie=[31,29,31,30,31,30,31,31,30,31,30,31],Be=[31,28,31,30,31,30,31,31,30,31,30,31];function Te(e,t){for(var r=new Date(e.getTime());t>0;){var i=ve(r.getFullYear()),n=r.getMonth(),s=(i?Ie:Be)[n];if(!(t>s-r.getDate()))return r.setDate(r.getDate()+t),r;t-=s-r.getDate()+1,r.setDate(1),n<11?r.setMonth(n+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r}var Se,Ae={Y:function(e,t,r,i,n){},O:function(e,t){return e=re.getStr(e),re.doAccess(e,t)},_:function(e,t,r){var i=se(e),n=ue(t,r);return i.sock_ops.bind(i,n.addr,n.port),0},Z:function(e,t,r){var i=se(e),n=ue(t,r);return i.sock_ops.connect(i,n.addr,n.port),0},a:function(e,t,r){return re.varargs=r,0},Q:function(e,t){},P:function(e,t,r,i){},M:function(e,t,r){},U:function(e,t,r){var i=se(e);return i.daddr?(pe(t,i.family,be.lookup_name(i.daddr),i.dport,r),0):-53},i:function(){return 42},X:function(e,t,r,i,n){var s=se(e);return 1===t&&4===r?(V[i>>2]=s.error,V[n>>2]=4,s.error=null,0):-50},q:function(e,t,r){return re.varargs=r,0},I:function(e,t,r){return 0},N:function(e,t){return e=re.getStr(e),re.doMkdir(e,t)},f:function(e,t,r){re.varargs=r},V:function(e,t,r,i,n,s){var a=se(e),o=a.sock_ops.recvmsg(a,r);return o?(n&&pe(n,a.family,be.lookup_name(o.addr),o.port,s),F.set(o.buffer,t),o.buffer.byteLength):0},K:function(e,t){},j:function(e){},W:function(e,t,r,i,n,s){},$:function(e){return-50},aa:function(e,t){return se(e),-52},m:function(e,t,r){},l:function(e,t){},k:function(e){},ca:function(e,t){X("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},ba:function(e,t){X("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},c:function(){X("")},o:function(e,t){var r;if(0===e)r=Date.now();else{if(1!==e&&4!==e)return V[Oe()>>2]=28,-1;r=ye()}return V[t>>2]=r/1e3|0,V[t+4>>2]=r%1e3*1e3*1e3|0,0},A:function(e,t){return globalThis.DUCKDB_RUNTIME.createDirectory(n,e,t)},C:function(e,t){return globalThis.DUCKDB_RUNTIME.checkDirectory(n,e,t)},y:function(e,t){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(n,e,t)},z:function(e,t){return globalThis.DUCKDB_RUNTIME.removeDirectory(n,e,t)},h:function(e){return globalThis.DUCKDB_RUNTIME.closeFile(n,e)},w:function(e,t){return globalThis.DUCKDB_RUNTIME.checkFile(n,e,t)},E:function(e){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(n,e)},x:function(e,t,r,i){return globalThis.DUCKDB_RUNTIME.moveFile(n,e,t,r,i)},G:function(e){return globalThis.DUCKDB_RUNTIME.openFile(n,e)},d:function(e,t,r,i){return globalThis.DUCKDB_RUNTIME.readFile(n,e,t,r,i)},D:function(e,t){return globalThis.DUCKDB_RUNTIME.truncateFile(n,e,t)},F:function(e,t,r,i){return globalThis.DUCKDB_RUNTIME.writeFile(n,e,t,r,i)},v:function(e,t){return globalThis.DUCKDB_RUNTIME.glob(n,e,t)},g:function(e){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(n,e)},H:function(e,t,r,i){return globalThis.DUCKDB_RUNTIME.callScalarUDF(n,e,t,r,i)},s:function(){return 2147483648},ea:function(e,t,r){F.copyWithin(e,t,t+r)},fa:function(e){var t=F.length,r=2147483648;if((e>>>=0)>r)return!1;for(var i=1;i<=4;i*=2){var n=t*(1+.2/i);if(n=Math.min(n,e+100663296),_e(Math.min(r,j(Math.max(e,n),65536))))return!0}return!1},J:function(e,t){var r=0;return ge().forEach((function(i,n){var s=t+r;V[e+4*n>>2]=s,function(e,t,r){for(var i=0;i<e.length;++i)D[t++>>0]=e.charCodeAt(i);D[t>>0]=0}(i,s),r+=i.length+1})),0},R:function(e,t){var r=ge();V[e>>2]=r.length;var i=0;return r.forEach((function(e){i+=e.length+1})),V[t>>2]=i,0},b:function(e){return 0},da:function(e,t){var r=1==e||2==e?2:X();return D[t>>0]=r,0},t:function(e,t,r,i,n,s){var a=re.getStreamFromFD(e),o=re.doReadv(a,t,r,i);return V[s>>2]=o,0},r:function(e,t,r,i,n,s){var a=re.getStreamFromFD(e),o=re.doWritev(a,t,r,i);return V[s>>2]=o,0},p:function(e,t,r,i){var n=re.getStreamFromFD(e),s=re.doReadv(n,t,r);return V[i>>2]=s,0},u:function(e,t,r,i,n){},L:function(e){var t=re.getStreamFromFD(e);return t.stream_ops&&t.stream_ops.fsync?-t.stream_ops.fsync(t):0},e:function(e,t,r,i){for(var n=0,s=0;s<r;s++){for(var a=V[t+8*s>>2],o=V[t+(8*s+4)>>2],l=0;l<o;l++)re.printChar(e,F[a+l]);n+=o}return V[i>>2]=n,0},n:function(e,t,r,i){var n,s=0,a=0,o=0,l=0,u=0,c=0;function d(e,t,r,i,n,s){var a,o,l;return o=10===e?28:16,n=10===e?oe(n):ae(n),A(!pe(a=Ee(o),e,n,s)),l=Ee(32),V[l+4>>2]=e,V[l+8>>2]=t,V[l+12>>2]=r,V[l+24>>2]=i,V[l+20>>2]=a,V[l+16>>2]=10===e?28:16,V[l+28>>2]=0,l}if(r&&(o=V[r>>2],l=V[r+4>>2],u=V[r+8>>2],c=V[r+12>>2]),u&&!c&&(c=2===u?17:6),!u&&c&&(u=17===c?2:1),0===c&&(c=6),0===u&&(u=1),!e&&!t)return-2;if(-1088&o||0!==r&&2&V[r>>2]&&!e)return-1;if(32&o)return-2;if(0!==u&&1!==u&&2!==u)return-7;if(0!==l&&2!==l&&10!==l)return-6;if(t&&(t=R(t),a=parseInt(t,10),isNaN(a)))return 1024&o?-2:-8;if(!e)return 0===l&&(l=2),0==(1&o)&&(s=2===l?Me(2130706433):[0,0,0,1]),n=d(l,u,c,null,s,a),V[i>>2]=n,0;if(null!==(s=ce(e=R(e))))if(0===l||2===l)l=2;else{if(!(10===l&&8&o))return-2;s=[0,0,Me(65535),s],l=10}else if(null!==(s=he(e))){if(0!==l&&10!==l)return-2;l=10}return null!=s?(n=d(l,u,c,e,s,a),V[i>>2]=n,0):4&o?-2:(s=ce(e=be.lookup_name(e)),0===l?l=2:10===l&&(s=[0,0,Me(65535),s]),n=d(l,u,c,null,s,a),V[i>>2]=n,0)},S:function e(t,r){e.randomDevice||(e.randomDevice=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(_)try{var t=y("crypto");return function(){return t.randomBytes(1)[0]}}catch(e){}return function(){X("randomDevice")}}());for(var i=0;i<r;i++)D[t+i>>0]=e.randomDevice();return 0},T:function(e,t,r,i,n,s,a){var o=le(e,t);if(o.errno)return-6;var l=o.port,u=o.addr,c=!1;if(r&&i){var d;if(1&a||!(d=be.lookup_addr(u))){if(8&a)return-2}else u=d;x(u,r,i)+1>=i&&(c=!0)}return n&&s&&x(l=""+l,n,s)+1>=s&&(c=!0),c?-12:0},B:function(e,t,r,i){return function(e,t,r,i){var n=V[i+40>>2],s={tm_sec:V[i>>2],tm_min:V[i+4>>2],tm_hour:V[i+8>>2],tm_mday:V[i+12>>2],tm_mon:V[i+16>>2],tm_year:V[i+20>>2],tm_wday:V[i+24>>2],tm_yday:V[i+28>>2],tm_isdst:V[i+32>>2],tm_gmtoff:V[i+36>>2],tm_zone:n?R(n):""},a=R(r),o={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in o)a=a.replace(new RegExp(l,"g"),o[l]);var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"];function d(e,t,r){for(var i="number"==typeof e?e.toString():e||"";i.length<t;)i=r[0]+i;return i}function h(e,t){return d(e,t,"0")}function f(e,t){function r(e){return e<0?-1:e>0?1:0}var i;return 0===(i=r(e.getFullYear()-t.getFullYear()))&&0===(i=r(e.getMonth()-t.getMonth()))&&(i=r(e.getDate()-t.getDate())),i}function p(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function y(e){var t=Te(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),i=new Date(t.getFullYear()+1,0,4),n=p(r),s=p(i);return f(n,t)<=0?f(s,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var b={"%a":function(e){return u[e.tm_wday].substring(0,3)},"%A":function(e){return u[e.tm_wday]},"%b":function(e){return c[e.tm_mon].substring(0,3)},"%B":function(e){return c[e.tm_mon]},"%C":function(e){return h((e.tm_year+1900)/100|0,2)},"%d":function(e){return h(e.tm_mday,2)},"%e":function(e){return d(e.tm_mday,2," ")},"%g":function(e){return y(e).toString().substring(2)},"%G":function(e){return y(e)},"%H":function(e){return h(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),h(t,2)},"%j":function(e){return h(e.tm_mday+we(ve(e.tm_year+1900)?Ie:Be,e.tm_mon-1),3)},"%m":function(e){return h(e.tm_mon+1,2)},"%M":function(e){return h(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return h(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1),r=0===t.getDay()?t:Te(t,7-t.getDay()),i=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(f(r,i)<0){var n=we(ve(i.getFullYear())?Ie:Be,i.getMonth()-1)-31,s=31-r.getDate()+n+i.getDate();return h(Math.ceil(s/7),2)}return 0===f(r,t)?"01":"00"},"%V":function(e){var t,r=new Date(e.tm_year+1900,0,4),i=new Date(e.tm_year+1901,0,4),n=p(r),s=p(i),a=Te(new Date(e.tm_year+1900,0,1),e.tm_yday);return f(a,n)<0?"53":f(s,a)<=0?"01":(t=n.getFullYear()<e.tm_year+1900?e.tm_yday+32-n.getDate():e.tm_yday+1-n.getDate(),h(Math.ceil(t/7),2))},"%w":function(e){return e.tm_wday},"%W":function(e){var t=new Date(e.tm_year,0,1),r=1===t.getDay()?t:Te(t,0===t.getDay()?1:7-t.getDay()+1),i=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(f(r,i)<0){var n=we(ve(i.getFullYear())?Ie:Be,i.getMonth()-1)-31,s=31-r.getDate()+n+i.getDate();return h(Math.ceil(s/7),2)}return 0===f(r,t)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,r=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(r?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var l in b)a.includes(l)&&(a=a.replace(new RegExp(l,"g"),b[l](s)));var _=function(e,t,r){var i=function(e){for(var t=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++r)),i<=127?++t:t+=i<=2047?2:i<=65535?3:4}return t}(e)+1,n=new Array(i);return L(e,n,0,n.length),n}(a);return _.length>t?0:(N(_,e),_.length-1)}(e,t,r,i)}},Oe=(function(){var e={a:Ae};function t(e,t){var r=e.exports;n.asm=r,k((B=n.asm.ga).buffer),C=n.asm.ja,function(e){W.unshift(e)}(n.asm.ha),function(e){if(J--,n.monitorRunDependencies&&n.monitorRunDependencies(J),0==J&&(null!==q&&(clearInterval(q),q=null),Z)){var t=Z;Z=null,t()}}()}function r(e){t(e.instance)}function s(t){return(g||!p&&!b||"function"!=typeof fetch?Promise.resolve().then((function(){return ee(G)})):fetch(G,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+G+"'";return e.arrayBuffer()})).catch((function(){return ee(G)}))).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){w("failed to asynchronously prepare wasm: "+e),X(e)}))}if(J++,n.monitorRunDependencies&&n.monitorRunDependencies(J),n.instantiateWasm)try{return n.instantiateWasm(e,t)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||Q(G)||"function"!=typeof fetch?s(r):fetch(G,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),s(r)}))}))).catch(i)}(),n.___wasm_call_ctors=function(){return(n.___wasm_call_ctors=n.asm.ha).apply(null,arguments)},n._main=function(){return(n._main=n.asm.ia).apply(null,arguments)},n._duckdb_web_fs_glob_add_path=function(){return(n._duckdb_web_fs_glob_add_path=n.asm.ka).apply(null,arguments)},n._duckdb_web_clear_response=function(){return(n._duckdb_web_clear_response=n.asm.la).apply(null,arguments)},n._duckdb_web_fail_with=function(){return(n._duckdb_web_fail_with=n.asm.ma).apply(null,arguments)},n._duckdb_web_reset=function(){return(n._duckdb_web_reset=n.asm.na).apply(null,arguments)},n._duckdb_web_connect=function(){return(n._duckdb_web_connect=n.asm.oa).apply(null,arguments)},n._duckdb_web_disconnect=function(){return(n._duckdb_web_disconnect=n.asm.pa).apply(null,arguments)},n._duckdb_web_flush_files=function(){return(n._duckdb_web_flush_files=n.asm.qa).apply(null,arguments)},n._duckdb_web_flush_file=function(){return(n._duckdb_web_flush_file=n.asm.ra).apply(null,arguments)},n._duckdb_web_open=function(){return(n._duckdb_web_open=n.asm.sa).apply(null,arguments)},n._duckdb_web_collect_file_stats=function(){return(n._duckdb_web_collect_file_stats=n.asm.ta).apply(null,arguments)},n._duckdb_web_export_file_stats=function(){return(n._duckdb_web_export_file_stats=n.asm.ua).apply(null,arguments)},n._duckdb_web_fs_drop_file=function(){return(n._duckdb_web_fs_drop_file=n.asm.va).apply(null,arguments)},n._duckdb_web_fs_drop_files=function(){return(n._duckdb_web_fs_drop_files=n.asm.wa).apply(null,arguments)},n._duckdb_web_fs_glob_file_infos=function(){return(n._duckdb_web_fs_glob_file_infos=n.asm.xa).apply(null,arguments)},n._duckdb_web_fs_get_file_info_by_id=function(){return(n._duckdb_web_fs_get_file_info_by_id=n.asm.ya).apply(null,arguments)},n._duckdb_web_fs_get_file_info_by_name=function(){return(n._duckdb_web_fs_get_file_info_by_name=n.asm.za).apply(null,arguments)},n._duckdb_web_fs_set_file_descriptor=function(){return(n._duckdb_web_fs_set_file_descriptor=n.asm.Aa).apply(null,arguments)},n._duckdb_web_fs_register_file_url=function(){return(n._duckdb_web_fs_register_file_url=n.asm.Ba).apply(null,arguments)},n._duckdb_web_fs_register_file_buffer=function(){return(n._duckdb_web_fs_register_file_buffer=n.asm.Ca).apply(null,arguments)},n._duckdb_web_copy_file_to_buffer=function(){return(n._duckdb_web_copy_file_to_buffer=n.asm.Da).apply(null,arguments)},n._duckdb_web_copy_file_to_path=function(){return(n._duckdb_web_copy_file_to_path=n.asm.Ea).apply(null,arguments)},n._duckdb_web_get_version=function(){return(n._duckdb_web_get_version=n.asm.Fa).apply(null,arguments)},n._duckdb_web_get_feature_flags=function(){return(n._duckdb_web_get_feature_flags=n.asm.Ga).apply(null,arguments)},n._duckdb_web_tokenize=function(){return(n._duckdb_web_tokenize=n.asm.Ha).apply(null,arguments)},n._duckdb_web_udf_scalar_create=function(){return(n._duckdb_web_udf_scalar_create=n.asm.Ia).apply(null,arguments)},n._duckdb_web_prepared_create=function(){return(n._duckdb_web_prepared_create=n.asm.Ja).apply(null,arguments)},n._duckdb_web_prepared_close=function(){return(n._duckdb_web_prepared_close=n.asm.Ka).apply(null,arguments)},n._duckdb_web_prepared_run=function(){return(n._duckdb_web_prepared_run=n.asm.La).apply(null,arguments)},n._duckdb_web_prepared_send=function(){return(n._duckdb_web_prepared_send=n.asm.Ma).apply(null,arguments)},n._duckdb_web_query_run=function(){return(n._duckdb_web_query_run=n.asm.Na).apply(null,arguments)},n._duckdb_web_query_analyze=function(){return(n._duckdb_web_query_analyze=n.asm.Oa).apply(null,arguments)},n._duckdb_web_query_send=function(){return(n._duckdb_web_query_send=n.asm.Pa).apply(null,arguments)},n._duckdb_web_query_fetch_results=function(){return(n._duckdb_web_query_fetch_results=n.asm.Qa).apply(null,arguments)},n._duckdb_web_get_tablenames=function(){return(n._duckdb_web_get_tablenames=n.asm.Ra).apply(null,arguments)},n._duckdb_web_insert_arrow_from_ipc_stream=function(){return(n._duckdb_web_insert_arrow_from_ipc_stream=n.asm.Sa).apply(null,arguments)},n._duckdb_web_insert_csv_from_path=function(){return(n._duckdb_web_insert_csv_from_path=n.asm.Ta).apply(null,arguments)},n._duckdb_web_insert_json_from_path=function(){return(n._duckdb_web_insert_json_from_path=n.asm.Ua).apply(null,arguments)},n.___errno_location=function(){return(Oe=n.___errno_location=n.asm.Va).apply(null,arguments)}),De=n._ntohs=function(){return(De=n._ntohs=n.asm.Wa).apply(null,arguments)},Fe=n._htons=function(){return(Fe=n._htons=n.asm.Xa).apply(null,arguments)},Me=n._htonl=function(){return(Me=n._htonl=n.asm.Ya).apply(null,arguments)},Ue=n.stackSave=function(){return(Ue=n.stackSave=n.asm.Za).apply(null,arguments)},Ve=n.stackRestore=function(){return(Ve=n.stackRestore=n.asm._a).apply(null,arguments)},Pe=n.stackAlloc=function(){return(Pe=n.stackAlloc=n.asm.$a).apply(null,arguments)},Ee=n._malloc=function(){return(Ee=n._malloc=n.asm.ab).apply(null,arguments)};function Re(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Le(e){function t(){Se||(Se=!0,n.calledRun=!0,!S&&(te(W),te(H),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),xe&&function(e){var t=n._main;try{var r=t(0,0);(function(e,t){T=e,$(),function(e){T=e,$()||(n.onExit&&n.onExit(e),S=!0),f(e,new Re(e))}(e)})(r)}catch(e){return function(e){if(e instanceof Re||"unwind"==e)return T;f(1,e)}(e)}}(),function(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)e=n.postRun.shift(),Y.unshift(e);var e;te(Y)}()))}e=e||d,J>0||(function(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)e=n.preRun.shift(),z.unshift(e);var e;te(z)}(),J>0)||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),t()}),1)):t())}if(n._free=function(){return(n._free=n.asm.bb).apply(null,arguments)},n.ccall=function(e,t,r,i,s){var a={string:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);x(e,t=Pe(r),r)}return t},array:function(e){var t=Pe(e.length);return N(e,t),t}},o=function(e){var t=n["_"+e];return A(t,"Cannot call unknown function "+e+", make sure it is exported"),t}(e),l=[],u=0;if(i)for(var c=0;c<i.length;c++){var d=a[r[c]];d?(0===u&&(u=Ue()),l[c]=d(i[c])):l[c]=i[c]}var h,f=o.apply(null,l);return h=f,0!==u&&Ve(u),f=function(e){return"string"===t?R(e):"boolean"===t?Boolean(e):e}(h),f},Z=function e(){Se||Le(),Se||(Z=e)},n.run=Le,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();var xe=!0;return n.noInitialRun&&(xe=!1),Le(),t.ready}}(),Mt=Ft,Ut=class{constructor(e,t,r){this.bindings=e,this.conn=t,this.header=r,this._first=!0,this._depleted=!1}next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e=this.bindings.fetchQueryResults(this.conn);return this._depleted=0==e.length,{done:this._depleted,value:e}}[Symbol.iterator](){return this}},Vt=new TextEncoder;function Pt(e,t,r){let i=Vt.encode(r),n=e._malloc(i.byteLength),s=e.HEAPU8.subarray(n,n+i.byteLength);s.set(i),e.HEAPF64[0+(t>>3)]=1,e.HEAPF64[1+(t>>3)]=n,e.HEAPF64[2+(t>>3)]=s.byteLength}var Et=function(){let e=new TextDecoder;return t=>("undefined"!=typeof SharedArrayBuffer&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),e.decode(t))}();function Rt(e,t){e.ccall("duckdb_web_fail_with",null,["string"],[t])}function Lt(e,t,r){let i=e.HEAPU8.subarray(t,t+r),n=new Uint8Array(new ArrayBuffer(i.byteLength));return n.set(i),n}function xt(e,t,r){return Et(e.HEAPU8.subarray(t,t+r))}function Nt(e,t,r,i){let n=e.stackSave(),s=e.stackAlloc(24);r.unshift("number"),i.unshift(s),e.ccall(t,null,r,i);let a=e.HEAPF64[0+(s>>3)],o=e.HEAPF64[1+(s>>3)],l=e.HEAPF64[2+(s>>3)];return e.stackRestore(n),[a,o,l]}function jt(e){e.ccall("duckdb_web_clear_response",null,[],[])}var kt=new TextEncoder,Ct={_files:new Map,_fileInfoCache:new Map,_udfFunctions:new Map,getFileInfo(e,t){try{let r=Ct._fileInfoCache.get(t);if(r)return r;let[i,n,s]=Nt(e,"duckdb_web_fs_get_file_info_by_id",["number"],[t]);if(0!==i)return null;let a=xt(e,n,s);jt(e);let o=JSON.parse(a);if(null==o)return null;let l=f(h({},o),{blob:null});return Ct._fileInfoCache.set(t,l),l}catch(e){return null}},testPlatformFeature:(e,t)=>1===t?"undefined"!=typeof BigInt64Array:(console.warn(`test for unknown feature: ${t}`),!1),openFile:(e,t)=>{var r;try{Ct._fileInfoCache.delete(t);let i=Ct.getFileInfo(e,t);switch(null==i?void 0:i.dataProtocol){case 3:{let t=null;try{let t=new XMLHttpRequest;t.open("HEAD",i.dataUrl,!1),t.setRequestHeader("Range","bytes=0-"),t.send(null);let r=t.getResponseHeader("Content-Length");if(206==t.status&&null!==r){let t=e._malloc(16);return e.HEAPF64[0+(t>>3)]=+r,e.HEAPF64[1+(t>>3)]=0,t}}catch(e){t=e,console.warn(`HEAD request with range header failed: ${e}`)}if(i.allowFullHttpReads){console.warn(`falling back to full HTTP read for: ${i.dataUrl}`);let t=new XMLHttpRequest;if(t.open("GET",i.dataUrl,!1),t.responseType="arraybuffer",t.send(null),200==t.status){let r=e._malloc(t.response.byteLength),i=new Uint8Array(t.response,0,t.response.byteLength);e.HEAPU8.set(i,r);let n=e._malloc(16);return e.HEAPF64[0+(n>>3)]=t.response.byteLength,e.HEAPF64[1+(n>>3)]=r,n}}if(null!=t)throw new Error(`Reading file ${i.fileName} failed with error: ${t}`);return 0}case 1:{let t=null==(r=Ct._files)?void 0:r.get(i.fileName);if(t){let r=e._malloc(16);return e.HEAPF64[0+(r>>3)]=t.size,e.HEAPF64[1+(r>>3)]=0,r}console.warn(`Buffering missing file: ${i.fileName}`);let n=e._malloc(16),s=e._malloc(1);return e.HEAPF64[0+(n>>3)]=1,e.HEAPF64[1+(n>>3)]=s,n}}}catch(t){console.error(t.toString()),Rt(e,t.toString())}return 0},glob:(e,t,r)=>{try{let i=xt(e,t,r);if(i.startsWith("http")){let t=new XMLHttpRequest;if(t.open("HEAD",i,!1),t.send(null),200!=t.status&&206!==t.status)return void Rt(e,`HEAD request failed: ${i}`);e.ccall("duckdb_web_fs_glob_add_path",null,["string"],[i])}}catch(t){return Rt(e,t.toString()),0}},checkFile:(e,t,r)=>{try{let i=xt(e,t,r);if(i.startsWith("http")){let e=new XMLHttpRequest;e.open("HEAD",i,!1),e.setRequestHeader("Range","bytes=0-"),e.send(null);let t=!1;if(206==e.status)t=!0;else{if(200!=e.status)return!1;t="bytes"===e.getResponseHeader("Accept-Ranges")}return!!t}}catch(e){return!1}return!1},syncFile:(e,t)=>{},closeFile:(e,t)=>{let r=Ct.getFileInfo(e,t);switch(Ct._fileInfoCache.delete(t),null==r?void 0:r.dataProtocol){case 3:break;case 1:return}},truncateFile:(e,t,r)=>{let i=Ct.getFileInfo(e,t);switch(null==i?void 0:i.dataProtocol){case 3:return void Rt(e,"Cannot truncate a http file");case 1:return void Rt(e,"truncateFile not implemented")}return 0},readFile(e,t,r,i,n){var s;try{let a=Ct.getFileInfo(e,t);switch(null==a?void 0:a.dataProtocol){case 3:if(!a.dataUrl)throw new Error(`Missing data URL for file ${t}`);try{let t=new XMLHttpRequest;if(t.open("GET",a.dataUrl,!1),t.responseType="arraybuffer",t.setRequestHeader("Range",`bytes=${n}-${n+i-1}`),t.send(null),206==t.status||200==t.status&&i==t.response.byteLength&&0==n){let n=new Uint8Array(t.response,0,Math.min(t.response.byteLength,i));return e.HEAPU8.set(n,r),n.byteLength}throw 200==t.status?new Error(`Range request for ${a.dataUrl} did not return a partial response: ${t.status} "${t.statusText}"`):new Error(`Range request for ${a.dataUrl} did returned non-success status: ${t.status} "${t.statusText}"`)}catch(e){throw new Error(`Range request for ${a.dataUrl} failed with error: ${e}"`)}case 1:{let t=null==(s=Ct._files)?void 0:s.get(a.fileName);if(!t)throw new Error(`No handle available for file: ${a.fileName}`);let o=t.slice(n,n+i),l=new Uint8Array((new FileReaderSync).readAsArrayBuffer(o));return e.HEAPU8.set(l,r),l.byteLength}}return 0}catch(t){return Rt(e,t.toString()),0}},writeFile:(e,t,r,i,n)=>{let s=Ct.getFileInfo(e,t);switch(null==s?void 0:s.dataProtocol){case 3:return Rt(e,"Cannot write to HTTP file"),0;case 1:return Rt(e,"writefile not implemented"),0}return 0},getLastFileModificationTime:(e,t)=>{var r;let i=Ct.getFileInfo(e,t);switch(null==i?void 0:i.dataProtocol){case 1:if(!(null==(r=Ct._files)?void 0:r.get(i.fileName)))throw Error(`No handle available for file: ${i.fileName}`);return 0;case 3:return(new Date).getTime()}return 0},checkDirectory:(e,t,r)=>{let i=xt(e,t,r);return console.log(`checkDirectory: ${i}`),!1},createDirectory:(e,t,r)=>{let i=xt(e,t,r);console.log(`createDirectory: ${i}`)},removeDirectory:(e,t,r)=>{let i=xt(e,t,r);console.log(`removeDirectory: ${i}`)},listDirectoryEntries:(e,t,r)=>{let i=xt(e,t,r);return console.log(`listDirectoryEntries: ${i}`),!1},moveFile:(e,t,r,i,n)=>{},removeFile:(e,t,r)=>{},callScalarUDF:(e,t,r,i,n)=>{!function(e,t,r,i,n,s){try{let a=e._udfFunctions.get(i);if(!a)return void Pt(t,r,"unknown udf with id: "+i);let o=t.HEAPU8.subarray(n,n+s),l=St.RecordBatchFileReader.from(o);l.open();let u=l.next();if(u.done)return;let c,d=u.value;switch(a.returnType.typeId){case St.Type.Int:case St.Type.Int32:c=new St.Int32Builder({type:new St.Int32});break;default:return void Pt(t,r,"unsupported result type: "+a.returnType.toString())}let h=[],f=[];for(let e=0;e<d.numCols;++e)h.push(d.getChildAt(e)),f.push(null);for(let e=0;e<d.length;++e){for(let t=0;t<d.numCols;++t)f[t]=h[t].get(e)||null;let t=a.func(...f);c.append(t)}let p=new St.Schema([new St.Field("0",new St.Int32,!0)]),y=new St.RecordBatch(p,c.length,[c.toVector()]),b=new St.RecordBatchStreamWriter;b.write(y),b.finish();let _=b.toUint8Array(!0),m=t._malloc(_.byteLength),g=t.HEAPU8.subarray(m,m+_.byteLength);g.set(_),t.HEAPF64[0+(r>>3)]=0,t.HEAPF64[1+(r>>3)]=m,t.HEAPF64[2+(r>>3)]=g.byteLength}catch(e){Pt(t,r,e.toString())}}(Ct,e,t,r,i,n)}};function zt(){let e=new class extends class{constructor(){this._bindings=null,this._nextMessageId=0}log(e){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:"LOG",data:e},[])}sendOK(e){this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"OK",data:null},[])}failWith(e,t){let r={name:t.name,message:t.message,stack:t.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"ERROR",data:r},[])}async onMessage(e){switch(e.type){case"PING":return void this.sendOK(e);case"INSTANTIATE":null!=this._bindings&&this.failWith(e,new Error("duckdb already initialized"));try{this._bindings=await this.instantiate(e.data[0],e.data[1]),this.sendOK(e)}catch(t){this._bindings=null,this.failWith(e,t)}return}if(!this._bindings)return this.failWith(e,new Error("duckdb is not initialized"));try{switch(e.type){case"GET_VERSION":this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"VERSION_STRING",data:this._bindings.getVersion()},[]);break;case"GET_FEATURE_FLAGS":this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"FEATURE_FLAGS",data:this._bindings.getFeatureFlags()},[]);break;case"RESET":this._bindings.reset(),this.sendOK(e);break;case"OPEN":this._bindings.open(e.data),this.sendOK(e);break;case"DROP_FILE":this._bindings.dropFile(e.data),this.sendOK(e);break;case"DROP_FILES":this._bindings.dropFiles(),this.sendOK(e);break;case"FLUSH_FILES":this._bindings.flushFiles(),this.sendOK(e);break;case"CONNECT":{let t=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"CONNECTION_INFO",data:t.useUnsafe(((e,t)=>t))},[]);break}case"DISCONNECT":this._bindings.disconnect(e.data),this.sendOK(e);break;case"ANALYZE_QUERY":{let t=this._bindings.analyzeQuery(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"ANALYZED_QUERY",data:t},[]);break}case"CREATE_PREPARED":{let t=this._bindings.createPrepared(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"PREPARED_STATEMENT_ID",data:t},[]);break}case"CLOSE_PREPARED":this._bindings.closePrepared(e.data[0],e.data[1]),this.sendOK(e);break;case"RUN_PREPARED":{let t=this._bindings.runPrepared(e.data[0],e.data[1],e.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_RESULT",data:t},[t.buffer]);break}case"RUN_QUERY":{let t=this._bindings.runQuery(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_RESULT",data:t},[t.buffer]);break}case"SEND_PREPARED":{let t=this._bindings.sendPrepared(e.data[0],e.data[1],e.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_START",data:t},[t.buffer]);break}case"SEND_QUERY":{let t=this._bindings.sendQuery(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_START",data:t},[t.buffer]);break}case"FETCH_QUERY_RESULTS":{let t=this._bindings.fetchQueryResults(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_RESULT_CHUNK",data:t},[t.buffer]);break}case"GET_TABLE_NAMES":{let t=this._bindings.getTableNames(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"TABLE_NAMES",data:t},[]);break}case"GLOB_FILE_INFOS":{let t=this._bindings.globFiles(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"FILE_INFOS",data:t},[]);break}case"REGISTER_FILE_URL":this._bindings.registerFileURL(e.data[0],e.data[1]),this.sendOK(e);break;case"REGISTER_FILE_BUFFER":this._bindings.registerFileBuffer(e.data[0],e.data[1]),this.sendOK(e);break;case"REGISTER_FILE_HANDLE":this._bindings.registerFileHandle(e.data[0],e.data[1]),this.sendOK(e);break;case"COPY_FILE_TO_PATH":this._bindings.copyFileToPath(e.data[0],e.data[1]),this.sendOK(e);break;case"COPY_FILE_TO_BUFFER":{let t=this._bindings.copyFileToBuffer(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"FILE_BUFFER",data:t},[]);break}case"COLLECT_FILE_STATISTICS":this._bindings.collectFileStatistics(e.data[0],e.data[1]),this.sendOK(e);break;case"EXPORT_FILE_STATISTICS":this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"FILE_STATISTICS",data:this._bindings.exportFileStatistics(e.data)},[]);break;case"INSERT_ARROW_FROM_IPC_STREAM":this._bindings.insertArrowFromIPCStream(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break;case"IMPORT_CSV_FROM_PATH":this._bindings.insertCSVFromPath(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break;case"IMPORT_JSON_FROM_PATH":this._bindings.insertJSONFromPath(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break;case"TOKENIZE":{let t=this._bindings.tokenize(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"SCRIPT_TOKENS",data:t},[]);break}}}catch(t){return this.failWith(e,t)}}}{postMessage(e,t){globalThis.postMessage(e,t)}async instantiate(e,t){return await new class extends class extends class{constructor(e,t){this._instance=null,this._initPromise=null,this._initPromiseResolver=()=>{},this._logger=e,this._runtime=t,this._nextUDFId=1}get logger(){return this._logger}get mod(){return this._instance}get pthread(){return this.mod.PThread||null}async instantiate(){return null!=this._instance||(null!=this._initPromise&&await this._initPromise,this._initPromise=new Promise((e=>{this._initPromiseResolver=e})),this._instance=await this.instantiateImpl({print:console.log.bind(console),printErr:console.log.bind(console),onRuntimeInitialized:this._initPromiseResolver}),await this._initPromise,this._initPromise=null),this}open(e){let[t,r,i]=Nt(this.mod,"duckdb_web_open",["string"],[JSON.stringify(e)]);if(0!==t)throw new Error(xt(this.mod,r,i));jt(this.mod)}reset(){let[e,t,r]=Nt(this.mod,"duckdb_web_reset",[],[]);if(0!==e)throw new Error(xt(this.mod,t,r));jt(this.mod)}getVersion(){let[e,t,r]=Nt(this.mod,"duckdb_web_get_version",[],[]);if(0!==e)throw new Error(xt(this.mod,t,r));let i=xt(this.mod,t,r);return jt(this.mod),i}getFeatureFlags(){return this.mod.ccall("duckdb_web_get_feature_flags","number",[],[])}tokenize(e){let[t,r,i]=Nt(this.mod,"duckdb_web_tokenize",["string"],[e]);if(0!==t)throw new Error(xt(this.mod,r,i));let n=xt(this.mod,r,i);return jt(this.mod),JSON.parse(n)}connect(){let e=this.mod.ccall("duckdb_web_connect","number",[],[]);return new class{constructor(e,t){this._bindings=e,this._conn=t}close(){this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}analyze(e){return this._bindings.analyzeQuery(this._conn,e)}query(e){let t=this._bindings.runQuery(this._conn,e),r=St.RecordBatchReader.from(t);return console.assert(r.isSync()),console.assert(r.isFile()),St.Table.from(r)}send(e){let t=this._bindings.sendQuery(this._conn,e),r=new Ut(this._bindings,this._conn,t),i=St.RecordBatchReader.from(r);return console.assert(i.isSync()),console.assert(i.isStream()),i}getTableNames(e){return this._bindings.getTableNames(this._conn,e)}prepare(e){let t=this._bindings.createPrepared(this._conn,e);return new class{constructor(e,t,r){this.bindings=e,this.connectionId=t,this.statementId=r}close(){this.bindings.closePrepared(this.connectionId,this.statementId)}query(...e){let t=this.bindings.runPrepared(this.connectionId,this.statementId,e),r=St.RecordBatchReader.from(t);return console.assert(r.isSync()),console.assert(r.isFile()),St.Table.from(r)}send(...e){let t=this.bindings.sendPrepared(this.connectionId,this.statementId,e),r=new Ut(this.bindings,this.connectionId,t),i=St.RecordBatchReader.from(r);return console.assert(i.isSync()),console.assert(i.isStream()),i}}(this._bindings,this._conn,t)}createScalarFunction(e,t,r){this._bindings.createScalarFunction(this._conn,e,t,r)}insertArrowTable(e,t){let r=e.serialize("binary",!0);this.insertArrowFromIPCStream(r,t)}insertArrowFromIPCStream(e,t){this._bindings.insertArrowFromIPCStream(this._conn,e,t)}insertCSVFromPath(e,t){this._bindings.insertCSVFromPath(this._conn,e,t)}insertJSONFromPath(e,t){this._bindings.insertJSONFromPath(this._conn,e,t)}}(this,e)}disconnect(e){if(this.mod.ccall("duckdb_web_disconnect",null,["number"],[e]),this.pthread)for(let t of[...this.pthread.runningWorkers,...this.pthread.unusedWorkers])t.postMessage({cmd:"dropUDFFunctions",connectionId:e})}analyzeQuery(e,t){let[r,i,n]=Nt(this.mod,"duckdb_web_query_analyze",["number","string"],[e,t]);if(0!==r)throw new Error(xt(this.mod,i,n));let s=xt(this.mod,i,n);return jt(this.mod),JSON.parse(s)}runQuery(e,t){let[r,i,n]=Nt(this.mod,"duckdb_web_query_run",["number","string"],[e,t]);if(0!==r)throw new Error(xt(this.mod,i,n));let s=Lt(this.mod,i,n);return jt(this.mod),s}sendQuery(e,t){let[r,i,n]=Nt(this.mod,"duckdb_web_query_send",["number","string"],[e,t]);if(0!==r)throw new Error(xt(this.mod,i,n));let s=Lt(this.mod,i,n);return jt(this.mod),s}fetchQueryResults(e){let[t,r,i]=Nt(this.mod,"duckdb_web_query_fetch_results",["number"],[e]);if(0!==t)throw new Error(xt(this.mod,r,i));let n=Lt(this.mod,r,i);return jt(this.mod),n}getTableNames(e,t){let[r,i,n]=Nt(this.mod,"duckdb_web_get_tablenames",["number","string"],[e,t]);if(0!==r)throw new Error(xt(this.mod,i,n));let s=xt(this.mod,i,n);return jt(this.mod),JSON.parse(s)}createScalarFunction(e,t,r,i){let n={functionId:this._nextUDFId,name:t,returnType:At(r)},s={functionId:n.functionId,connectionId:e,name:t,returnType:r,func:i};this._nextUDFId+=1;let[a,o,l]=Nt(this.mod,"duckdb_web_udf_scalar_create",["number","string"],[e,JSON.stringify(n)]);if(0!==a)throw new Error(xt(this.mod,o,l));if(jt(this.mod),globalThis.DUCKDB_RUNTIME._udfFunctions=(globalThis.DUCKDB_RUNTIME._udfFunctions||new Map).set(s.functionId,s),this.pthread)for(let e of[...this.pthread.runningWorkers,...this.pthread.unusedWorkers])e.postMessage({cmd:"registerUDFFunction",udf:s})}createPrepared(e,t){let[r,i,n]=Nt(this.mod,"duckdb_web_prepared_create",["number","string"],[e,t]);if(0!==r)throw new Error(xt(this.mod,i,n));return jt(this.mod),i}closePrepared(e,t){let[r,i,n]=Nt(this.mod,"duckdb_web_prepared_close",["number","number"],[e,t]);if(0!==r)throw new Error(xt(this.mod,i,n));jt(this.mod)}runPrepared(e,t,r){let[i,n,s]=Nt(this.mod,"duckdb_web_prepared_run",["number","number","string"],[e,t,JSON.stringify(r)]);if(0!==i)throw new Error(xt(this.mod,n,s));let a=Lt(this.mod,n,s);return jt(this.mod),a}sendPrepared(e,t,r){let[i,n,s]=Nt(this.mod,"duckdb_web_prepared_send",["number","number","string"],[e,t,JSON.stringify(r)]);if(0!==i)throw new Error(xt(this.mod,n,s));let a=Lt(this.mod,n,s);return jt(this.mod),a}insertArrowFromIPCStream(e,t,r){if(0==t.length)return;let i=this.mod._malloc(t.length);this.mod.HEAPU8.subarray(i,i+t.length).set(t);let n=r?JSON.stringify(r):"",[s,a,o]=Nt(this.mod,"duckdb_web_insert_arrow_from_ipc_stream",["number","number","number","string"],[e,i,t.length,n]);if(0!==s)throw new Error(xt(this.mod,a,o))}insertCSVFromPath(e,t,r){if(void 0!==r.columns){r.columnsFlat=[];for(let e in r.columns)r.columnsFlat.push(Ot(e,r.columns[e]))}let i=h({},r);i.columns=i.columnsFlat,delete i.columnsFlat;let n=JSON.stringify(i),[s,a,o]=Nt(this.mod,"duckdb_web_insert_csv_from_path",["number","string","string"],[e,t,n]);if(0!==s)throw new Error(xt(this.mod,a,o))}insertJSONFromPath(e,t,r){if(void 0!==r.columns){r.columnsFlat=[];for(let e in r.columns)r.columnsFlat.push(Ot(e,r.columns[e]))}let i=h({},r);i.columns=i.columnsFlat,delete i.columnsFlat;let n=JSON.stringify(i),[s,a,o]=Nt(this.mod,"duckdb_web_insert_json_from_path",["number","string","string"],[e,t,n]);if(0!==s)throw new Error(xt(this.mod,a,o))}globFiles(e){let[t,r,i]=Nt(this.mod,"duckdb_web_fs_glob_file_infos",["string"],[e]);if(0!==t)throw new Error(xt(this.mod,r,i));let n=xt(this.mod,r,i);jt(this.mod);let s=JSON.parse(n);return null==s?[]:s}registerFileURL(e,t){void 0===t&&(t=e);let[r,i,n]=Nt(this.mod,"duckdb_web_fs_register_file_url",["string","string","number"],[e,t,-1]);if(0!==r)throw new Error(xt(this.mod,i,n));jt(this.mod)}registerFileText(e,t){let r=kt.encode(t);this.registerFileBuffer(e,r)}registerFileBuffer(e,t){let r=this.mod._malloc(t.length);this.mod.HEAPU8.subarray(r,r+t.length).set(t);let[i,n,s]=Nt(this.mod,"duckdb_web_fs_register_file_buffer",["string","number","number"],[e,r,t.length]);if(0!==i)throw new Error(xt(this.mod,n,s));jt(this.mod)}registerFileHandle(e,t){let[r,i,n]=Nt(this.mod,"duckdb_web_fs_register_file_url",["string","string","number"],[e,e,-1]);if(0!==r)throw new Error(xt(this.mod,i,n));if(jt(this.mod),globalThis.DUCKDB_RUNTIME._files=(globalThis.DUCKDB_RUNTIME._files||new Map).set(e,t),this.pthread){for(let r of this.pthread.runningWorkers)r.postMessage({cmd:"registerFileHandle",fileName:e,fileHandle:t});for(let t of this.pthread.unusedWorkers)t.postMessage({cmd:"dropFileHandle",fileName:e})}}dropFile(e){let[t,r,i]=Nt(this.mod,"duckdb_web_fs_drop_file",["string"],[e]);if(0!==t)throw new Error(xt(this.mod,r,i));jt(this.mod)}dropFiles(){let[e,t,r]=Nt(this.mod,"duckdb_web_fs_drop_files",[],[]);if(0!==e)throw new Error(xt(this.mod,t,r));jt(this.mod)}flushFiles(){this.mod.ccall("duckdb_web_flush_files",null,[],[])}copyFileToPath(e,t){let[r,i,n]=Nt(this.mod,"duckdb_web_copy_file_to_path",["string","string"],[e,t]);if(0!==r)throw new Error(xt(this.mod,i,n));jt(this.mod)}copyFileToBuffer(e){let[t,r,i]=Nt(this.mod,"duckdb_web_copy_file_to_buffer",["string"],[e]);if(0!==t)throw new Error(xt(this.mod,r,i));let n=this.mod.HEAPU8.subarray(r,r+i),s=new Uint8Array(n.length);return s.set(n),jt(this.mod),s}collectFileStatistics(e,t){let[r,i,n]=Nt(this.mod,"duckdb_web_collect_file_stats",["string","boolean"],[e,t]);if(0!==r)throw new Error(xt(this.mod,i,n))}exportFileStatistics(e){let[t,r,i]=Nt(this.mod,"duckdb_web_export_file_stats",["string"],[e]);if(0!==t)throw new Error(xt(this.mod,r,i));return new class{constructor(e){let t=new Float64Array(e.buffer,e.byteOffset,e.byteLength/8),r=new Uint8Array(new ArrayBuffer(e.byteLength));r.set(e.subarray(56)),this.totalFileReadsCold=t[0],this.totalFileReadsAhead=t[1],this.totalFileReadsCached=t[2],this.totalFileWrites=t[3],this.totalPageAccesses=t[4],this.totalPageLoads=t[5],this.blockSize=t[6],this.blockStats=r}getBlockStats(e,t){return(t=t||{file_reads_cold:0,file_reads_ahead:0,file_reads_cached:0,file_writes:0,page_accesses:0,page_loads:0}).file_writes=15&this.blockStats[3*e+0],t.file_reads_cold=this.blockStats[3*e+0]>>4,t.file_reads_ahead=15&this.blockStats[3*e+1],t.file_reads_cached=this.blockStats[3*e+1]>>4,t.page_accesses=15&this.blockStats[3*e+1],t.page_loads=this.blockStats[3*e+1]>>4,t}}(this.mod.HEAPU8.subarray(r,r+i))}}{constructor(e,t,r,i){super(e,t),this.mainModuleURL=r,this.pthreadWorkerURL=i}locateFile(e,t){if(e.endsWith(".wasm"))return this.mainModuleURL;if(e.endsWith(".worker.js")){if(!this.pthreadWorkerURL)throw new Error("Missing DuckDB worker URL!");return this.pthreadWorkerURL}throw new Error(`WASM instantiation requested unexpected file: prefix=${t} path=${e}`)}instantiateWasm(e,t){if(globalThis.DUCKDB_RUNTIME=this._runtime,WebAssembly.instantiateStreaming){let r=new Request(this.mainModuleURL);WebAssembly.instantiateStreaming(fetch(r),e).then((e=>{t(e.instance,e.module)}))}else{let r=new Request(this.mainModuleURL);fetch(r).then((e=>e.arrayBuffer())).then((r=>WebAssembly.instantiate(r,e).then((e=>{t(e.instance,e.module)})))).catch((e=>{console.error("Failed to instantiate WASM:",e)}))}return[]}}{constructor(e,t,r,i=null){super(e,t,r,i)}instantiateImpl(e){return Mt(f(h({},e),{instantiateWasm:this.instantiateWasm.bind(this),locateFile:this.locateFile.bind(this)}))}}(this,Ct,e,t).instantiate()}};globalThis.onmessage=async t=>{await e.onMessage(t.data)}}return zt(),g(bt)})();